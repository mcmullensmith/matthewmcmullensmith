/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{148:function(e,t,r){"use strict";(function(e,n){r.d(t,"e",function(){return o}),r.d(t,"g",function(){return l}),r.d(t,"f",function(){return f}),r.d(t,"c",function(){return h}),r.d(t,"a",function(){return d}),r.d(t,"b",function(){return m}),r.d(t,"d",function(){return _});var o="undefined"!=typeof window?window:e.exports&&void 0!==n?n:{},f=function(e){var t={},r=e.document,n=e.GreenSockGlobals=e.GreenSockGlobals||e;if(n.TweenLite)return n.TweenLite;var a,i,p,o,f,l,c,h=function(e){var i,a=e.split("."),p=n;for(i=0;i<a.length;i++)p[a[i]]=p=p[a[i]]||{};return p},d=h("com.greensock"),m=function(a){var i,b=[],e=a.length;for(i=0;i!==e;b.push(a[i++]));return b},_=function(){},v=(l=Object.prototype.toString,c=l.call([]),function(e){return null!=e&&(e instanceof Array||"object"==typeof e&&!!e.push&&l.call(e)===c)}),y={},x=function(e,r,o,f){this.sc=y[e]?y[e].sc:[],y[e]=this,this.gsClass=null,this.func=o;var l=[];this.check=function(c){for(var d,a,m,_,i=r.length,v=i;--i>-1;)(d=y[r[i]]||new x(r[i],[])).gsClass?(l[i]=d.gsClass,v--):c&&d.sc.push(this);if(0===v&&o)for(m=(a=("com.greensock."+e).split(".")).pop(),_=h(a.join("."))[m]=this.gsClass=o.apply(o,l),f&&(n[m]=t[m]=_),i=0;i<this.sc.length;i++)this.sc[i].check()},this.check(!0)},w=e._gsDefine=function(e,t,r,n){return new x(e,t,r,n)},T=d._class=function(e,t,r){return t=t||function(){},w(e,[],function(){return t},r),t};w.globals=n;var k=[0,0,1,1],S=T("easing.Ease",function(e,t,r,n){this._func=e,this._type=r||0,this._power=n||0,this._params=t?k.concat(t):k},!0),A=S.map={},P=S.register=function(e,t,r,n){for(var o,f,l,c,h=t.split(","),i=h.length,m=(r||"easeIn,easeOut,easeInOut").split(",");--i>-1;)for(f=h[i],o=n?T("easing."+f,null,!0):d.easing[f]||{},l=m.length;--l>-1;)c=m[l],A[f+"."+c]=A[c+f]=o[c]=e.getRatio?e:e[c]||new e};for((p=S.prototype)._calcEnd=!1,p.getRatio=function(p){if(this._func)return this._params[0]=p,this._func.apply(null,this._params);var e=this._type,t=this._power,r=1===e?1-p:2===e?p:p<.5?2*p:2*(1-p);return 1===t?r*=r:2===t?r*=r*r:3===t?r*=r*r*r:4===t&&(r*=r*r*r*r),1===e?1-r:2===e?r:p<.5?r/2:1-r/2},i=(a=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--i>-1;)p=a[i]+",Power"+i,P(new S(null,null,1,i),p,"easeOut",!0),P(new S(null,null,2,i),p,"easeIn"+(0===i?",easeNone":"")),P(new S(null,null,3,i),p,"easeInOut");A.linear=d.easing.Linear.easeIn,A.swing=d.easing.Quad.easeInOut;var O=T("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});(p=O.prototype).addEventListener=function(e,t,r,n,l){l=l||0;var c,i,h=this._listeners[e],d=0;for(this!==o||f||o.wake(),null==h&&(this._listeners[e]=h=[]),i=h.length;--i>-1;)(c=h[i]).c===t&&c.s===r?h.splice(i,1):0===d&&c.pr<l&&(d=i+1);h.splice(d,0,{c:t,s:r,up:n,pr:l})},p.removeEventListener=function(e,t){var i,r=this._listeners[e];if(r)for(i=r.length;--i>-1;)if(r[i].c===t)return void r.splice(i,1)},p.dispatchEvent=function(e){var i,t,r,n=this._listeners[e];if(n)for((i=n.length)>1&&(n=n.slice(0)),t=this._eventTarget;--i>-1;)(r=n[i])&&(r.up?r.c.call(r.s||t,{type:e,target:t}):r.c.call(r.s||t))};var C=e.requestAnimationFrame,D=e.cancelAnimationFrame,E=Date.now||function(){return(new Date).getTime()},F=E();for(i=(a=["ms","moz","webkit","o"]).length;--i>-1&&!C;)C=e[a[i]+"RequestAnimationFrame"],D=e[a[i]+"CancelAnimationFrame"]||e[a[i]+"CancelRequestAnimationFrame"];T("Ticker",function(e,t){var n,l,c,h,d,m=this,v=E(),y=!(!1===t||!C)&&"auto",x=500,w=33,T=function(e){var t,r,o=E()-F;o>x&&(v+=o-w),F+=o,m.time=(F-v)/1e3,t=m.time-d,(!n||t>0||!0===e)&&(m.frame++,d+=t+(t>=h?.004:h-t),r=!0),!0!==e&&(c=l(T)),r&&m.dispatchEvent("tick")};O.call(m),m.time=m.frame=0,m.tick=function(){T(!0)},m.lagSmoothing=function(e,t){if(!arguments.length)return x<1e8;x=e||1e8,w=Math.min(t,x,0)},m.sleep=function(){null!=c&&(y&&D?D(c):clearTimeout(c),l=_,c=null,m===o&&(f=!1))},m.wake=function(e){null!==c?m.sleep():e?v+=-F+(F=E()):m.frame>10&&(F=E()-x+5),l=0===n?_:y&&C?C:function(e){return setTimeout(e,1e3*(d-m.time)+1|0)},m===o&&(f=!0),T(2)},m.fps=function(e){if(!arguments.length)return n;h=1/((n=e)||60),d=this.time+h,m.wake()},m.useRAF=function(e){if(!arguments.length)return y;m.sleep(),y=e,m.fps(n)},m.fps(e),setTimeout(function(){"auto"===y&&m.frame<5&&"hidden"!==(r||{}).visibilityState&&m.useRAF(!1)},1500)}),(p=d.Ticker.prototype=new d.events.EventDispatcher).constructor=d.Ticker;var R=T("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!!t.immediateRender,this.data=t.data,this._reversed=!!t.reversed,ee){f||o.wake();var r=this.vars.useFrames?J:ee;r.add(this,r._time),this.vars.paused&&this.paused(!0)}});o=R.ticker=new d.Ticker,(p=R.prototype)._dirty=p._gc=p._initted=p._paused=!1,p._totalTime=p._time=0,p._rawPrevTime=-1,p._next=p._last=p._onUpdate=p._timeline=p.timeline=null,p._paused=!1;var j=function(){f&&E()-F>2e3&&("hidden"!==(r||{}).visibilityState||!o.lagSmoothing())&&o.wake();var e=setTimeout(j,2e3);e.unref&&e.unref()};j(),p.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},p.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},p.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},p.seek=function(time,e){return this.totalTime(Number(time),!1!==e)},p.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},p.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},p.render=function(time,e,t){},p.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},p.isActive=function(){var e,t=this._timeline,r=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=r&&e<r+this.totalDuration()/this._timeScale-1e-8},p._enabled=function(e,t){return f||o.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},p._kill=function(e,t){return this._enabled(!1,!1)},p.kill=function(e,t){return this._kill(e,t),this},p._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},p._swapSelfInParams=function(e){for(var i=e.length,t=e.concat();--i>-1;)"{self}"===e[i]&&(t[i]=this);return t},p._callback=function(e){var t=this.vars,r=t[e],n=t[e+"Params"],o=t[e+"Scope"]||t.callbackScope||this;switch(n?n.length:0){case 0:r.call(o);break;case 1:r.call(o,n[0]);break;case 2:r.call(o,n[0],n[1]);break;default:r.apply(o,n)}},p.eventCallback=function(e,t,r,n){if("on"===(e||"").substr(0,2)){var o=this.vars;if(1===arguments.length)return o[e];null==t?delete o[e]:(o[e]=t,o[e+"Params"]=v(r)&&-1!==r.join("").indexOf("{self}")?this._swapSelfInParams(r):r,o[e+"Scope"]=n),"onUpdate"===e&&(this._onUpdate=t)}return this},p.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},p.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},p.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},p.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},p.totalTime=function(time,e,t){if(f||o.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(time<0&&!t&&(time+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,n=this._timeline;if(time>r&&!t&&(time=r),this._startTime=(this._paused?this._pauseTime:n._time)-(this._reversed?r-time:time)/this._timeScale,n._dirty||this._uncache(!1),n._timeline)for(;n._timeline;)n._timeline._time!==(n._startTime+n._totalTime)/n._timeScale&&n.totalTime(n._totalTime,!0),n=n._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===time&&0!==this._duration||(B.length&&re(),this.render(time,e,!1),B.length&&re())}return this},p.progress=p.totalProgress=function(e,t){var r=this.duration();return arguments.length?this.totalTime(r*e,t):r?this._time/r:this.ratio},p.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},p.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},p.timeScale=function(e){if(!arguments.length)return this._timeScale;var t,r;for(e=e||1e-8,this._timeline&&this._timeline.smoothChildTiming&&(r=(t=this._pauseTime)||0===t?t:this._timeline.totalTime(),this._startTime=r-(r-this._startTime)*this._timeScale/e),this._timeScale=e,r=this.timeline;r&&r.timeline;)r._dirty=!0,r.totalDuration(),r=r.timeline;return this},p.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},p.paused=function(e){if(!arguments.length)return this._paused;var t,r,n=this._timeline;return e!=this._paused&&n&&(f||e||o.wake(),r=(t=n.rawTime())-this._pauseTime,!e&&n.smoothChildTiming&&(this._startTime+=r,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==r&&this._initted&&this.duration()&&(t=n.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var M=T("core.SimpleTimeline",function(e){R.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});(p=M.prototype=new R).constructor=M,p.kill()._gc=!1,p._first=p._last=p._recent=null,p._sortChildren=!1,p.add=p.insert=function(e,t,r,n){var o,f;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=this.rawTime()-(e._timeline.rawTime()-e._pauseTime)),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),o=this._last,this._sortChildren)for(f=e._startTime;o&&o._startTime>f;)o=o._prev;return o?(e._next=o._next,o._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=o,this._recent=e,this._timeline&&this._uncache(!0),this},p._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},p.render=function(time,e,t){var r,n=this._first;for(this._totalTime=this._time=this._rawPrevTime=time;n;)r=n._next,(n._active||time>=n._startTime&&!n._paused&&!n._gc)&&(n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(time-n._startTime)*n._timeScale,e,t):n.render((time-n._startTime)*n._timeScale,e,t)),n=r},p.rawTime=function(){return f||o.wake(),this._totalTime};var z=T("TweenLite",function(t,r,n){if(R.call(this,r,n),this.render=z.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:z.selector(t)||t;var i,o,f,l=t.jquery||t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType),c=this.vars.overwrite;if(this._overwrite=c=null==c?K[z.defaultOverwrite]:"number"==typeof c?c>>0:K[c],(l||t instanceof Array||t.push&&v(t))&&"number"!=typeof t[0])for(this._targets=f=m(t),this._propLookup=[],this._siblings=[],i=0;i<f.length;i++)(o=f[i])?"string"!=typeof o?o.length&&o!==e&&o[0]&&(o[0]===e||o[0].nodeType&&o[0].style&&!o.nodeType)?(f.splice(i--,1),this._targets=f=f.concat(m(o))):(this._siblings[i]=ie(o,this,!1),1===c&&this._siblings[i].length>1&&ae(o,this,null,1,this._siblings[i])):"string"==typeof(o=f[i--]=z.selector(o))&&f.splice(i+1,1):f.splice(i--,1);else this._propLookup={},this._siblings=ie(t,this,!1),1===c&&this._siblings.length>1&&ae(t,this,null,1,this._siblings);(this.vars.immediateRender||0===r&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-8,this.render(Math.min(0,-this._delay)))},!0),L=function(t){return t&&t.length&&t!==e&&t[0]&&(t[0]===e||t[0].nodeType&&t[0].style&&!t.nodeType)};(p=z.prototype=new R).constructor=z,p.kill()._gc=!1,p.ratio=0,p._firstPT=p._targets=p._overwrittenProps=p._startAt=null,p._notifyPluginsOfEnabled=p._lazy=!1,z.version="2.1.3",z.defaultEase=p._ease=new S(null,null,1,1),z.defaultOverwrite="auto",z.ticker=o,z.autoSleep=120,z.lagSmoothing=function(e,t){o.lagSmoothing(e,t)},z.selector=e.$||e.jQuery||function(t){var n=e.$||e.jQuery;return n?(z.selector=n,n(t)):(r||(r=e.document),r?r.querySelectorAll?r.querySelectorAll(t):r.getElementById("#"===t.charAt(0)?t.substr(1):t):t)};var B=[],I={},N=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,X=/[\+-]=-?[\.\d]/,Y=function(e){for(var t,r=this._firstPT;r;)t=r.blob?1===e&&null!=this.end?this.end:e?this.join(""):this.start:r.c*e+r.s,r.m?t=r.m.call(this._tween,t,this._target||r.t,this._tween):t<1e-6&&t>-1e-6&&!r.blob&&(t=0),r.f?r.fp?r.t[r.p](r.fp,t):r.t[r.p](t):r.t[r.p]=t,r=r._next},U=function(e){return(1e3*e|0)/1e3+""},W=function(e,t,filter,r){var n,o,f,i,l,c,h,a=[],d=0,s="",m=0;for(a.start=e,a.end=t,e=a[0]=e+"",t=a[1]=t+"",filter&&(filter(a),e=a[0],t=a[1]),a.length=0,n=e.match(N)||[],o=t.match(N)||[],r&&(r._next=null,r.blob=1,a._firstPT=a._applyPT=r),l=o.length,i=0;i<l;i++)h=o[i],s+=(c=t.substr(d,t.indexOf(h,d)-d))||!i?c:",",d+=c.length,m?m=(m+1)%5:"rgba("===c.substr(-5)&&(m=1),h===n[i]||n.length<=i?s+=h:(s&&(a.push(s),s=""),f=parseFloat(n[i]),a.push(f),a._firstPT={_next:a._firstPT,t:a,p:a.length-1,s:f,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-f)||0,f:0,m:m&&m<4?Math.round:U}),d+=h.length;return(s+=t.substr(d))&&a.push(s),a.setRatio=Y,X.test(t)&&(a.end=null),a},V=function(e,t,r,n,o,f,l,c,h){"function"==typeof n&&(n=n(h||0,e));var d=typeof e[t],m="function"!==d?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),s="get"!==r?r:m?l?e[m](l):e[m]():e[t],_="string"==typeof n&&"="===n.charAt(1),v={t:e,p:t,s:s,f:"function"===d,pg:0,n:o||t,m:f?"function"==typeof f?f:Math.round:0,pr:0,c:_?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-s||0};if(("number"!=typeof s||"number"!=typeof n&&!_)&&(l||isNaN(s)||!_&&isNaN(n)||"boolean"==typeof s||"boolean"==typeof n?(v.fp=l,v={t:W(s,_?parseFloat(v.s)+v.c+(v.s+"").replace(/[0-9\-\.]/g,""):n,c||z.defaultStringFilter,v),p:"setRatio",s:0,c:1,f:2,pg:0,n:o||t,pr:0,m:0}):(v.s=parseFloat(s),_||(v.c=parseFloat(n)-v.s||0))),v.c)return(v._next=this._firstPT)&&(v._next._prev=v),this._firstPT=v,v},H=z._internals={isArray:v,isSelector:L,lazyTweens:B,blobDif:W},G=z._plugins={},Q=H.tweenLookup={},Z=0,$=H.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1,stagger:1},K={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},J=R._rootFramesTimeline=new M,ee=R._rootTimeline=new M,te=30,re=H.lazyRender=function(){var i,e,t=B.length;for(I={},i=0;i<t;i++)(e=B[i])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);B.length=0};ee._startTime=o.time,J._startTime=o.frame,ee._active=J._active=!0,setTimeout(re,1),R._updateRoot=z.render=function(){var i,a,p;if(B.length&&re(),ee.render((o.time-ee._startTime)*ee._timeScale,!1,!1),J.render((o.frame-J._startTime)*J._timeScale,!1,!1),B.length&&re(),o.frame>=te){for(p in te=o.frame+(parseInt(z.autoSleep,10)||120),Q){for(i=(a=Q[p].tweens).length;--i>-1;)a[i]._gc&&a.splice(i,1);0===a.length&&delete Q[p]}if((!(p=ee._first)||p._paused)&&z.autoSleep&&!J._first&&1===o._listeners.tick.length){for(;p&&p._paused;)p=p._next;p||o.sleep()}}},o.addEventListener("tick",R._updateRoot);var ie=function(e,t,r){var a,i,n=e._gsTweenID;if(Q[n||(e._gsTweenID=n="t"+Z++)]||(Q[n]={target:e,tweens:[]}),t&&((a=Q[n].tweens)[i=a.length]=t,r))for(;--i>-1;)a[i]===t&&a.splice(i,1);return Q[n].tweens},ne=function(e,t,r,n){var o,f,l=e.vars.onOverwrite;return l&&(o=l(e,t,r,n)),(l=z.onOverwrite)&&(f=l(e,t,r,n)),!1!==o&&!1!==f},ae=function(e,t,r,n,o){var i,f,l,c;if(1===n||n>=4){for(c=o.length,i=0;i<c;i++)if((l=o[i])!==t)l._gc||l._kill(null,e,t)&&(f=!0);else if(5===n)break;return f}var h,d=t._startTime+1e-8,m=[],_=0,v=0===t._duration;for(i=o.length;--i>-1;)(l=o[i])===t||l._gc||l._paused||(l._timeline!==t._timeline?(h=h||se(t,0,v),0===se(l,h,v)&&(m[_++]=l)):l._startTime<=d&&l._startTime+l.totalDuration()/l._timeScale>d&&((v||!l._initted)&&d-l._startTime<=2e-8||(m[_++]=l)));for(i=_;--i>-1;)if(c=(l=m[i])._firstPT,2===n&&l._kill(r,e,t)&&(f=!0),2!==n||!l._firstPT&&l._initted&&c){if(2!==n&&!ne(l,t))continue;l._enabled(!1,!1)&&(f=!0)}return f},se=function(e,t,r){for(var n=e._timeline,o=n._timeScale,f=e._startTime;n._timeline;){if(f+=n._startTime,o*=n._timeScale,n._paused)return-100;n=n._timeline}return(f/=o)>t?f-t:r&&f===t||!e._initted&&f-t<2e-8?1e-8:(f+=e.totalDuration()/e._timeScale/o)>t+1e-8?0:f-t-1e-8};p._init=function(){var i,e,t,p,r,n,o=this.vars,f=this._overwrittenProps,l=this._duration,c=!!o.immediateRender,h=o.ease,d=this._startAt;if(o.startAt){for(p in d&&(d.render(-1,!0),d.kill()),r={},o.startAt)r[p]=o.startAt[p];if(r.data="isStart",r.overwrite=!1,r.immediateRender=!0,r.lazy=c&&!1!==o.lazy,r.startAt=r.delay=null,r.onUpdate=o.onUpdate,r.onUpdateParams=o.onUpdateParams,r.onUpdateScope=o.onUpdateScope||o.callbackScope||this,this._startAt=z.to(this.target||{},0,r),c)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(o.runBackwards&&0!==l)if(d)d.render(-1,!0),d.kill(),this._startAt=null;else{for(p in 0!==this._time&&(c=!1),t={},o)$[p]&&"autoCSS"!==p||(t[p]=o[p]);if(t.overwrite=0,t.data="isFromStart",t.lazy=c&&!1!==o.lazy,t.immediateRender=c,this._startAt=z.to(this.target,0,t),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof S?h:"function"==typeof h?new S(h,o.easeParams):A[h]||z.defaultEase:z.defaultEase,o.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(n=this._targets.length,i=0;i<n;i++)this._initProps(this._targets[i],this._propLookup[i]={},this._siblings[i],f?f[i]:null,i)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,f,0);if(e&&z._onPluginEvent("_onInitAllProps",this),f&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(t=this._firstPT;t;)t.s+=t.c,t.c=-t.c,t=t._next;this._onUpdate=o.onUpdate,this._initted=!0},p._initProps=function(t,r,n,o,f){var p,i,l,c,h,d;if(null==t)return!1;for(p in I[t._gsTweenID]&&re(),this.vars.css||t.style&&t!==e&&t.nodeType&&G.css&&!1!==this.vars.autoCSS&&function(e,t){var p,r={};for(p in e)$[p]||p in t&&"transform"!==p&&"x"!==p&&"y"!==p&&"width"!==p&&"height"!==p&&"className"!==p&&"border"!==p||!(!G[p]||G[p]&&G[p]._autoCSS)||(r[p]=e[p],delete e[p]);e.css=r}(this.vars,t),this.vars)if(d=this.vars[p],$[p])d&&(d instanceof Array||d.push&&v(d))&&-1!==d.join("").indexOf("{self}")&&(this.vars[p]=d=this._swapSelfInParams(d,this));else if(G[p]&&(c=new G[p])._onInitTween(t,this.vars[p],this,f)){for(this._firstPT=h={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:p,pg:1,pr:c._priority,m:0},i=c._overwriteProps.length;--i>-1;)r[c._overwriteProps[i]]=this._firstPT;(c._priority||c._onInitAllProps)&&(l=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),h._next&&(h._next._prev=h)}else r[p]=V.call(this,t,p,"get",d,p,0,null,this.vars.stringFilter,f);return o&&this._kill(o,t)?this._initProps(t,r,n,o,f):this._overwrite>1&&this._firstPT&&n.length>1&&ae(t,this,r,this._overwrite,n)?(this._kill(r,t),this._initProps(t,r,n,o,f)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(I[t._gsTweenID]=!0),l)},p.render=function(time,e,t){var r,n,o,f,l=this._time,c=this._duration,h=this._rawPrevTime;if(time>=c-1e-8&&time>=0)this._totalTime=this._time=c,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,n="onComplete",t=t||this._timeline.autoRemoveChildren),0===c&&(this._initted||!this.vars.lazy||t)&&(this._startTime===this._timeline._duration&&(time=0),(h<0||time<=0&&time>=-1e-8||1e-8===h&&"isPause"!==this.data)&&h!==time&&(t=!0,h>1e-8&&(n="onReverseComplete")),this._rawPrevTime=f=!e||time||h===time?time:1e-8);else if(time<1e-8)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==l||0===c&&h>0)&&(n="onReverseComplete",r=this._reversed),time>-1e-8?time=0:time<0&&(this._active=!1,0===c&&(this._initted||!this.vars.lazy||t)&&(h>=0&&(1e-8!==h||"isPause"!==this.data)&&(t=!0),this._rawPrevTime=f=!e||time||h===time?time:1e-8)),(!this._initted||this._startAt&&this._startAt.progress())&&(t=!0);else if(this._totalTime=this._time=time,this._easeType){var d=time/c,m=this._easeType,_=this._easePower;(1===m||3===m&&d>=.5)&&(d=1-d),3===m&&(d*=2),1===_?d*=d:2===_?d*=d*d:3===_?d*=d*d*d:4===_&&(d*=d*d*d*d),this.ratio=1===m?1-d:2===m?d:time/c<.5?d/2:1-d/2}else this.ratio=this._ease.getRatio(time/c);if(this._time!==l||t){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!t&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=l,this._rawPrevTime=h,B.push(this),void(this._lazy=[time,e]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/c):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==l&&time>=0&&(this._active=!0),0===l&&(this._startAt&&(time>=0?this._startAt.render(time,!0,t):n||(n="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==c||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(time<0&&this._startAt&&-1e-4!==time&&this._startAt.render(time,!0,t),e||(this._time!==l||r||t)&&this._callback("onUpdate")),n&&(this._gc&&!t||(time<0&&this._startAt&&!this._onUpdate&&-1e-4!==time&&this._startAt.render(time,!0,t),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[n]&&this._callback(n),0===c&&1e-8===this._rawPrevTime&&1e-8!==f&&(this._rawPrevTime=0)))}},p._kill=function(e,t,r){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:z.selector(t)||t;var i,n,p,o,f,l,c,h,d,m=r&&this._time&&r._startTime===this._startTime&&this._timeline===r._timeline,_=this._firstPT;if((v(t)||L(t))&&"number"!=typeof t[0])for(i=t.length;--i>-1;)this._kill(e,t[i],r)&&(l=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(t===this._targets[i]){f=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[i]=e?this._overwrittenProps[i]||{}:"all";break}}else{if(t!==this.target)return!1;f=this._propLookup,n=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(f){if(c=e||f,h=e!==n&&"all"!==n&&e!==f&&("object"!=typeof e||!e._tempKill),r&&(z.onOverwrite||this.vars.onOverwrite)){for(p in c)f[p]&&(d||(d=[]),d.push(p));if((d||!e)&&!ne(this,r,t,d))return!1}for(p in c)(o=f[p])&&(m&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,l=!0),o.pg&&o.t._kill(c)&&(l=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete f[p]),h&&(n[p]=1);!this._firstPT&&this._initted&&_&&this._enabled(!1,!1)}}return l},p.invalidate=function(){this._notifyPluginsOfEnabled&&z._onPluginEvent("_onDisable",this);var e=this._time;return this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],R.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-8,this.render(e,!1,!1!==this.vars.lazy)),this},p._enabled=function(e,t){if(f||o.wake(),e&&this._gc){var i,r=this._targets;if(r)for(i=r.length;--i>-1;)this._siblings[i]=ie(r[i],this,!0);else this._siblings=ie(this.target,this,!0)}return R.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&z._onPluginEvent(e?"_onEnable":"_onDisable",this)},z.to=function(e,t,r){return new z(e,t,r)},z.from=function(e,t,r){return r.runBackwards=!0,r.immediateRender=0!=r.immediateRender,new z(e,t,r)},z.fromTo=function(e,t,r,n){return n.startAt=r,n.immediateRender=0!=n.immediateRender&&0!=r.immediateRender,new z(e,t,n)},z.delayedCall=function(e,t,r,n,o){return new z(t,0,{delay:e,onComplete:t,onCompleteParams:r,callbackScope:n,onReverseComplete:t,onReverseCompleteParams:r,immediateRender:!1,lazy:!1,useFrames:o,overwrite:0})},z.set=function(e,t){return new z(e,0,t)},z.getTweensOf=function(e,t){if(null==e)return[];var i,a,r,n;if(e="string"!=typeof e?e:z.selector(e)||e,(v(e)||L(e))&&"number"!=typeof e[0]){for(i=e.length,a=[];--i>-1;)a=a.concat(z.getTweensOf(e[i],t));for(i=a.length;--i>-1;)for(n=a[i],r=i;--r>-1;)n===a[r]&&a.splice(i,1)}else if(e._gsTweenID)for(i=(a=ie(e).concat()).length;--i>-1;)(a[i]._gc||t&&!a[i].isActive())&&a.splice(i,1);return a||[]},z.killTweensOf=z.killDelayedCallsTo=function(e,t,r){"object"==typeof t&&(r=t,t=!1);for(var a=z.getTweensOf(e,t),i=a.length;--i>-1;)a[i]._kill(r,e)};var oe=T("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=oe.prototype},!0);if(p=oe.prototype,oe.version="1.19.0",oe.API=2,p._firstPT=null,p._addTween=V,p.setRatio=Y,p._kill=function(e){var i,a=this._overwriteProps,t=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(i=a.length;--i>-1;)null!=e[a[i]]&&a.splice(i,1);for(;t;)null!=e[t.n]&&(t._next&&(t._next._prev=t._prev),t._prev?(t._prev._next=t._next,t._prev=null):this._firstPT===t&&(this._firstPT=t._next)),t=t._next;return!1},p._mod=p._roundProps=function(e){for(var t,r=this._firstPT;r;)(t=e[this._propName]||null!=r.n&&e[r.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===r.f?r.t._applyPT.m=t:r.m=t),r=r._next},z._onPluginEvent=function(e,t){var r,n,o,f,l,c=t._firstPT;if("_onInitAllProps"===e){for(;c;){for(l=c._next,n=o;n&&n.pr>c.pr;)n=n._next;(c._prev=n?n._prev:f)?c._prev._next=c:o=c,(c._next=n)?n._prev=c:f=c,c=l}c=t._firstPT=o}for(;c;)c.pg&&"function"==typeof c.t[e]&&c.t[e]()&&(r=!0),c=c._next;return r},oe.activate=function(e){for(var i=e.length;--i>-1;)e[i].API===oe.API&&(G[(new e[i])._propName]=e[i]);return!0},w.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,r=e.propName,n=e.priority||0,o=e.overwriteProps,map={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},f=T("plugins."+r.charAt(0).toUpperCase()+r.substr(1)+"Plugin",function(){oe.call(this,r,n),this._overwriteProps=o||[]},!0===e.global),p=f.prototype=new oe(r);for(t in p.constructor=f,f.API=e.API,map)"function"==typeof e[t]&&(p[map[t]]=e[t]);return f.version=e.version,oe.activate([f]),f},a=e._gsQueue){for(i=0;i<a.length;i++)a[i]();for(p in y)y[p].func||e.console.log("GSAP encountered missing dependency: "+p)}return f=!1,z}(o),l=o.GreenSockGlobals,c=l.com.greensock,h=c.core.SimpleTimeline,d=c.core.Animation,m=l.Ease,_=(l.Linear,l.Power1,l.Power2,l.Power3,l.Power4,l.TweenPlugin);c.events.EventDispatcher}).call(this,r(162)(e),r(24))},153:function(e,t,r){e.exports=function(){"use strict";var e=function(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array||e instanceof Uint8ClampedArray},t=function(base,e){for(var t=Object.keys(e),i=0;i<t.length;++i)base[t[i]]=e[t[i]];return base},r="\n";function n(e){var t=new Error("(regl) "+e);throw console.error(t),t}function o(e,t){e||n(t)}function f(e){return e?": "+e:""}function l(e,t,r){t.indexOf(e)<0&&n("invalid value"+f(r)+". must be one of: "+t)}var c=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function h(e,t){for(e+="";e.length<t;)e=" "+e;return e}function d(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function m(e,line){this.number=e,this.line=line,this.errors=[]}function _(e,t,r){this.file=e,this.line=t,this.message=r}function v(){var e=new Error,t=(e.stack||e).toString(),r=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(t);if(r)return r[1];var n=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(t);return n?n[1]:"unknown"}function y(){var e=new Error,t=(e.stack||e).toString(),r=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(t);if(r)return r[1];var n=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(t);return n?n[1]:"unknown"}function x(source,e){var t,r=source.split("\n"),n=1,o=0,f={unknown:new d,0:new d};f.unknown.name=f[0].name=e||v(),f.unknown.lines.push(new m(0,""));for(var i=0;i<r.length;++i){var line=r[i],l=/^\s*\#\s*(\w+)\s+(.+)\s*$/.exec(line);if(l)switch(l[1]){case"line":var c=/(\d+)(\s+\d+)?/.exec(l[2]);c&&(n=0|c[1],c[2]&&((o=0|c[2])in f||(f[o]=new d)));break;case"define":var h=/SHADER_NAME(_B64)?\s+(.*)$/.exec(l[2]);h&&(f[o].name=h[1]?(t=h[2],"undefined"!=typeof atob?atob(t):"base64:"+t):h[2])}f[o].lines.push(new m(n++,line))}return Object.keys(f).forEach(function(e){var t=f[e];t.lines.forEach(function(line){t.index[line.number]=line})}),f}function w(object){object._commandRef=v()}function T(e,t){var r=y();n(e+" in command "+(t||v())+("unknown"===r?"":" called from "+r))}function k(e,t,r,n){typeof e!==t&&T("invalid parameter type"+f(r)+". expected "+t+", got "+typeof e,n||v())}var S=33071,A=9728,P=9984,O=9985,C=9986,D=9987,E=5126,F=32819,R=32820,j=33635,M=34042,z={};function L(e,t){return e===R||e===F||e===j?2:e===M?4:z[e]*t}function B(e){return!(e&e-1||!e)}z[5120]=z[5121]=1,z[5122]=z[5123]=z[36193]=z[j]=z[F]=z[R]=2,z[5124]=z[5125]=z[E]=z[M]=4;var I=t(o,{optional:function(e){e()},raise:n,commandRaise:T,command:function(e,t,r){e||T(t,r||v())},parameter:function(param,e,t){param in e||n("unknown parameter ("+param+")"+f(t)+". possible values: "+Object.keys(e).join())},commandParameter:function(param,e,t,r){param in e||T("unknown parameter ("+param+")"+f(t)+". possible values: "+Object.keys(e).join(),r||v())},constructor:function(e){Object.keys(e).forEach(function(e){c.indexOf(e)<0&&n('invalid regl constructor argument "'+e+'". must be one of '+c)})},type:function(e,t,r){typeof e!==t&&n("invalid parameter type"+f(r)+". expected "+t+", got "+typeof e)},commandType:k,isTypedArray:function(data,t){e(data)||n("invalid parameter type"+f(t)+". must be a typed array")},nni:function(e,t){e>=0&&(0|e)===e||n("invalid parameter type, ("+e+")"+f(t)+". must be a nonnegative integer")},oneOf:l,shaderError:function(e,t,source,n,f){if(!e.getShaderParameter(t,e.COMPILE_STATUS)){var l=e.getShaderInfoLog(t),c=n===e.FRAGMENT_SHADER?"fragment":"vertex";k(source,"string",c+" shader source must be a string",f);var d=x(source,f),m=function(e){var t=[];return e.split("\n").forEach(function(e){if(!(e.length<5)){var r=/^ERROR\:\s+(\d+)\:(\d+)\:\s*(.*)$/.exec(e);r?t.push(new _(0|r[1],0|r[2],r[3].trim())):e.length>0&&t.push(new _("unknown",0,e))}}),t}(l);!function(e,t){t.forEach(function(t){var r=e[t.file];if(r){var line=r.index[t.line];if(line)return line.errors.push(t),void(r.hasErrors=!0)}e.unknown.hasErrors=!0,e.unknown.lines[0].errors.push(t)})}(d,m),Object.keys(d).forEach(function(e){var t=d[e];if(t.hasErrors){var n=[""],o=[""];f("file number "+e+": "+t.name+"\n","color:red;text-decoration:underline;font-weight:bold"),t.lines.forEach(function(line){if(line.errors.length>0){f(h(line.number,4)+"|  ","background-color:yellow; font-weight:bold"),f(line.line+r,"color:red; background-color:yellow; font-weight:bold");var e=0;line.errors.forEach(function(t){var n=t.message,o=/^\s*\'(.*)\'\s*\:\s*(.*)$/.exec(n);if(o){var l=o[1];switch(n=o[2],l){case"assign":l="="}e=Math.max(line.line.indexOf(l,e),0)}else e=0;f(h("| ",6)),f(h("^^^",e+3)+r,"font-weight:bold"),f(h("| ",6)),f(n+r,"font-weight:bold")}),f(h("| ",6)+r)}else f(h(line.number,4)+"|  "),f(line.line+r,"color:red")}),"undefined"==typeof document||window.chrome?console.log(n.join("")):(o[0]=n.join("%c"),console.log.apply(console,o))}function f(e,style){n.push(e),o.push(style||"")}}),o.raise("Error compiling "+c+" shader, "+d[0].name)}},linkError:function(e,t,n,f,l){if(!e.getProgramParameter(t,e.LINK_STATUS)){var c=e.getProgramInfoLog(t),h=x(n,l),d=x(f,l),header='Error linking program with vertex shader, "'+d[0].name+'", and fragment shader "'+h[0].name+'"';"undefined"!=typeof document?console.log("%c"+header+r+"%c"+c,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(header+r+c),o.raise(header)}},callSite:y,saveCommandRef:w,saveDrawInfo:function(e,t,r,n){function o(e){return e?n.id(e):0}function f(e,t){Object.keys(t).forEach(function(u){e[n.id(u)]=!0})}w(e),e._fragId=o(e.static.frag),e._vertId=o(e.static.vert);var l=e._uniformSet={};f(l,t.static),f(l,t.dynamic);var c=e._attributeSet={};f(c,r.static),f(c,r.dynamic),e._hasCount="count"in e.static||"count"in e.dynamic||"elements"in e.static||"elements"in e.dynamic},framebufferFormat:function(e,t,r){e.texture?l(e.texture._texture.internalformat,t,"unsupported texture format for attachment"):l(e.renderbuffer._renderbuffer.format,r,"unsupported renderbuffer format for attachment")},guessCommand:v,texture2D:function(e,t,r){var i,n=t.width,f=t.height,l=t.channels;o(n>0&&n<=r.maxTextureSize&&f>0&&f<=r.maxTextureSize,"invalid texture shape"),(e.wrapS!==S||e.wrapT!==S)&&o(B(n)&&B(f),"incompatible wrap mode for texture, both width and height must be power of 2"),1===t.mipmask?1!==n&&1!==f&&o(e.minFilter!==P&&e.minFilter!==C&&e.minFilter!==O&&e.minFilter!==D,"min filter requires mipmap"):(o(B(n)&&B(f),"texture must be a square power of 2 to support mipmapping"),o(t.mipmask===(n<<1)-1,"missing or incomplete mipmap data")),t.type===E&&(r.extensions.indexOf("oes_texture_float_linear")<0&&o(e.minFilter===A&&e.magFilter===A,"filter not supported, must enable oes_texture_float_linear"),o(!e.genMipmaps,"mipmap generation not supported with float textures"));var c=t.images;for(i=0;i<16;++i)if(c[i]){var h=n>>i,d=f>>i;o(t.mipmask&1<<i,"missing mipmap data");var img=c[i];if(o(img.width===h&&img.height===d,"invalid shape for mip images"),o(img.format===t.format&&img.internalformat===t.internalformat&&img.type===t.type,"incompatible type for mip image"),img.compressed);else if(img.data){var m=Math.ceil(L(img.type,l)*h/img.unpackAlignment)*img.unpackAlignment;o(img.data.byteLength===m*d,"invalid data for image, buffer size is inconsistent with image format")}else img.element||img.copy}else e.genMipmaps||o(0==(t.mipmask&1<<i),"extra mipmap data");t.compressed&&o(!e.genMipmaps,"mipmap generation for compressed images not supported")},textureCube:function(e,t,r,n){var f=e.width,l=e.height,c=e.channels;o(f>0&&f<=n.maxTextureSize&&l>0&&l<=n.maxTextureSize,"invalid texture shape"),o(f===l,"cube map must be square"),o(t.wrapS===S&&t.wrapT===S,"wrap mode not supported by cube map");for(var i=0;i<r.length;++i){var h=r[i];o(h.width===f&&h.height===l,"inconsistent cube map face shape"),t.genMipmaps&&(o(!h.compressed,"can not generate mipmap for compressed textures"),o(1===h.mipmask,"can not specify mipmaps and generate mipmaps"));for(var d=h.images,m=0;m<16;++m){var img=d[m];if(img){var _=f>>m,v=l>>m;o(h.mipmask&1<<m,"missing mipmap data"),o(img.width===_&&img.height===v,"invalid shape for mip images"),o(img.format===e.format&&img.internalformat===e.internalformat&&img.type===e.type,"incompatible type for mip image"),img.compressed||(img.data?o(img.data.byteLength===_*v*Math.max(L(img.type,c),img.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):img.element||img.copy)}}}}}),N=0,X=0;function Y(e,data){this.id=N++,this.type=e,this.data=data}function U(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function W(e){return"["+function e(t){if(0===t.length)return[];var r=t.charAt(0),n=t.charAt(t.length-1);if(t.length>1&&r===n&&('"'===r||"'"===r))return['"'+U(t.substr(1,t.length-2))+'"'];var o=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t);if(o)return e(t.substr(0,o.index)).concat(e(o[1])).concat(e(t.substr(o.index+o[0].length)));var f=t.split(".");if(1===f.length)return['"'+U(t)+'"'];for(var l=[],i=0;i<f.length;++i)l=l.concat(e(f[i]));return l}(e).join("][")+"]"}var V={DynamicVariable:Y,define:function(e,data){return new Y(e,W(data+""))},isDynamic:function(e){return"function"==typeof e&&!e._reglType||e instanceof Y},unbox:function(e,path){return"function"==typeof e?new Y(X,e):e},accessor:W},H={next:"function"==typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,16)},cancel:"function"==typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:clearTimeout},G="undefined"!=typeof performance&&performance.now?function(){return performance.now()}:function(){return+new Date};function Q(input){return"string"==typeof input?input.split():(I(Array.isArray(input),"invalid extension array"),input)}function Z(desc){return"string"==typeof desc?(I("undefined"!=typeof document,"not supported outside of DOM"),document.querySelector(desc)):desc}function $(e){var element,r,canvas,n,o,f=e||{},l={},c=[],h=[],d="undefined"==typeof window?1:window.devicePixelRatio,m=!1,_=function(e){e&&I.raise(e)},v=function(){};if("string"==typeof f?(I("undefined"!=typeof document,"selector queries only supported in DOM enviroments"),element=document.querySelector(f),I(element,"invalid query string for element")):"object"==typeof f?"string"==typeof(o=f).nodeName&&"function"==typeof o.appendChild&&"function"==typeof o.getBoundingClientRect?element=f:function(e){return"function"==typeof e.drawArrays||"function"==typeof e.drawElements}(f)?canvas=(n=f).canvas:(I.constructor(f),"gl"in f?n=f.gl:"canvas"in f?canvas=Z(f.canvas):"container"in f&&(r=Z(f.container)),"attributes"in f&&(l=f.attributes,I.type(l,"object","invalid context attributes")),"extensions"in f&&(c=Q(f.extensions)),"optionalExtensions"in f&&(h=Q(f.optionalExtensions)),"onDone"in f&&(I.type(f.onDone,"function","invalid or missing onDone callback"),_=f.onDone),"profile"in f&&(m=!!f.profile),"pixelRatio"in f&&(d=+f.pixelRatio,I(d>0,"invalid pixel ratio"))):I.raise("invalid arguments to regl"),element&&("canvas"===element.nodeName.toLowerCase()?canvas=element:r=element),!n){if(!canvas){I("undefined"!=typeof document,"must manually specify webgl context outside of DOM environments");var y=function(element,e,r){var canvas=document.createElement("canvas");function n(){var e=window.innerWidth,n=window.innerHeight;if(element!==document.body){var o=element.getBoundingClientRect();e=o.right-o.left,n=o.bottom-o.top}canvas.width=r*e,canvas.height=r*n,t(canvas.style,{width:e+"px",height:n+"px"})}return t(canvas.style,{border:0,margin:0,padding:0,top:0,left:0}),element.appendChild(canvas),element===document.body&&(canvas.style.position="absolute",t(element.style,{margin:0,padding:0})),window.addEventListener("resize",n,!1),n(),{canvas:canvas,onDestroy:function(){window.removeEventListener("resize",n),element.removeChild(canvas)}}}(r||document.body,0,d);if(!y)return null;canvas=y.canvas,v=y.onDestroy}n=function(canvas,e){function t(t){try{return canvas.getContext(t,e)}catch(e){return null}}return t("webgl")||t("experimental-webgl")||t("webgl-experimental")}(canvas,l)}return n?{gl:n,canvas:canvas,container:r,extensions:c,optionalExtensions:h,pixelRatio:d,profile:m,onDone:_,onDestroy:v}:(v(),_("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function K(e,t){for(var r=Array(e),i=0;i<e;++i)r[i]=t(i);return r}var J=5120,ee=5121,te=5122,re=5123,ie=5124,ne=5125,ae=5126;function se(e){var t,r;return t=(e>65535)<<4,t|=r=((e>>>=t)>255)<<3,t|=r=((e>>>=r)>15)<<2,(t|=r=((e>>>=r)>3)<<1)|(e>>>=r)>>1}function oe(){var e=K(8,function(){return[]});function t(t){var r=function(e){for(var i=16;i<=1<<28;i*=16)if(e<=i)return i;return 0}(t),n=e[se(r)>>2];return n.length>0?n.pop():new ArrayBuffer(r)}function r(t){e[se(t.byteLength)>>2].push(t)}return{alloc:t,free:r,allocType:function(e,r){var n=null;switch(e){case J:n=new Int8Array(t(r),0,r);break;case ee:n=new Uint8Array(t(r),0,r);break;case te:n=new Int16Array(t(2*r),0,r);break;case re:n=new Uint16Array(t(2*r),0,r);break;case ie:n=new Int32Array(t(4*r),0,r);break;case ne:n=new Uint32Array(t(4*r),0,r);break;case ae:n=new Float32Array(t(4*r),0,r);break;default:return null}return n.length!==r?n.subarray(0,r):n},freeType:function(e){r(e.buffer)}}}var fe=oe();fe.zero=oe();var le=function(e,t){var r=1;t.ext_texture_filter_anisotropic&&(r=e.getParameter(34047));var n=1,o=1;t.webgl_draw_buffers&&(n=e.getParameter(34852),o=e.getParameter(36063));var f=!!t.oes_texture_float;if(f){var l=e.createTexture();e.bindTexture(3553,l),e.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var c=e.createFramebuffer();if(e.bindFramebuffer(36160,c),e.framebufferTexture2D(36160,36064,3553,l,0),e.bindTexture(3553,null),36053!==e.checkFramebufferStatus(36160))f=!1;else{e.viewport(0,0,1,1),e.clearColor(1,0,0,1),e.clear(16384);var h=fe.allocType(5126,4);e.readPixels(0,0,1,1,6408,5126,h),e.getError()?f=!1:(e.deleteFramebuffer(c),e.deleteTexture(l),f=1===h[0]),fe.freeType(h)}}var d="undefined"!=typeof navigator&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),m=!0;if(!d){var _=e.createTexture(),data=fe.allocType(5121,36);e.activeTexture(33984),e.bindTexture(34067,_),e.texImage2D(34069,0,6408,3,3,0,6408,5121,data),fe.freeType(data),e.bindTexture(34067,null),e.deleteTexture(_),m=!e.getError()}return{colorBits:[e.getParameter(3410),e.getParameter(3411),e.getParameter(3412),e.getParameter(3413)],depthBits:e.getParameter(3414),stencilBits:e.getParameter(3415),subpixelBits:e.getParameter(3408),extensions:Object.keys(t).filter(function(e){return!!t[e]}),maxAnisotropic:r,maxDrawbuffers:n,maxColorAttachments:o,pointSizeDims:e.getParameter(33901),lineWidthDims:e.getParameter(33902),maxViewportDims:e.getParameter(3386),maxCombinedTextureUnits:e.getParameter(35661),maxCubeMapSize:e.getParameter(34076),maxRenderbufferSize:e.getParameter(34024),maxTextureUnits:e.getParameter(34930),maxTextureSize:e.getParameter(3379),maxAttributes:e.getParameter(34921),maxVertexUniforms:e.getParameter(36347),maxVertexTextureUnits:e.getParameter(35660),maxVaryingVectors:e.getParameter(36348),maxFragmentUniforms:e.getParameter(36349),glsl:e.getParameter(35724),renderer:e.getParameter(7937),vendor:e.getParameter(7936),version:e.getParameter(7938),readFloat:f,npotTextureCube:m}};function ue(t){return!!t&&"object"==typeof t&&Array.isArray(t.shape)&&Array.isArray(t.stride)&&"number"==typeof t.offset&&t.shape.length===t.stride.length&&(Array.isArray(t.data)||e(t.data))}var ce=function(e){return Object.keys(e).map(function(t){return e[t]})},he={shape:function(e){for(var t=[],r=e;r.length;r=r[0])t.push(r.length);return t},flatten:function(e,t,r,n){var o=1;if(t.length)for(var i=0;i<t.length;++i)o*=t[i];else o=0;var f=n||fe.allocType(r,o);switch(t.length){case 0:break;case 1:!function(e,t,r){for(var i=0;i<t;++i)r[i]=e[i]}(e,t[0],f);break;case 2:!function(e,t,r,n){for(var o=0,i=0;i<t;++i)for(var f=e[i],l=0;l<r;++l)n[o++]=f[l]}(e,t[0],t[1],f);break;case 3:pe(e,t[0],t[1],t[2],f,0);break;default:!function e(t,r,n,o,f){for(var l=1,i=n+1;i<r.length;++i)l*=r[i];var c=r[n];if(r.length-n==4){var h=r[n+1],d=r[n+2],m=r[n+3];for(i=0;i<c;++i)pe(t[i],h,d,m,o,f),f+=l}else for(i=0;i<c;++i)e(t[i],r,n+1,o,f),f+=l}(e,t,0,f,0)}return f}};function pe(e,t,r,n,o,f){for(var l=f,i=0;i<t;++i)for(var c=e[i],h=0;h<r;++h)for(var col=c[h],d=0;d<n;++d)o[l++]=col[d]}var de={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},me={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},ge={dynamic:35048,stream:35040,static:35044},_e=he.flatten,ve=he.shape,be=35044,ye=35040,xe=5121,we=5126,Te=[];function ke(data){return 0|de[Object.prototype.toString.call(data)]}function Se(e,t){for(var i=0;i<t.length;++i)e[i]=t[i]}function Ae(e,data,t,r,n,o,f){for(var l=0,i=0;i<t;++i)for(var c=0;c<r;++c)e[l++]=data[n*i+o*c+f]}Te[5120]=1,Te[5122]=2,Te[5124]=4,Te[5121]=1,Te[5123]=2,Te[5125]=4,Te[5126]=4;var Pe={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Oe=0,Ce=1,De=4,Ee=5120,Fe=5121,Re=5122,je=5123,Me=5124,ze=5125,Le=34963,Be=35040,Ie=35044,Ne=new Float32Array(1),Xe=new Uint32Array(Ne.buffer),Ye=5123;function Ue(e){for(var t=fe.allocType(Ye,e.length),i=0;i<e.length;++i)if(isNaN(e[i]))t[i]=65535;else if(e[i]===1/0)t[i]=31744;else if(e[i]===-1/0)t[i]=64512;else{Ne[0]=e[i];var r=Xe[0],n=r>>>31<<15,o=(r<<1>>>24)-127,f=r>>13&1023;if(o<-24)t[i]=n;else if(o<-14){var s=-14-o;t[i]=n+(f+1024>>s)}else t[i]=o>15?n+31744:n+(o+15<<10)+f}return t}function We(s){return Array.isArray(s)||e(s)}var Ve=function(e){return!(e&e-1||!e)},He=34467,qe=3553,Ge=34067,Qe=34069,Ze=6408,$e=6406,Ke=6407,Je=6409,et=6410,tt=32854,it=32855,nt=36194,at=32819,st=32820,ot=33635,ft=34042,lt=6402,ut=34041,ct=35904,ht=35906,pt=36193,mt=33776,gt=33777,_t=33778,vt=33779,bt=35986,yt=35987,xt=34798,wt=35840,Tt=35841,kt=35842,St=35843,At=36196,Pt=5121,Ot=5123,Ct=5125,Dt=5126,Et=10242,Ft=10243,Rt=10497,jt=33071,Mt=33648,zt=10240,Lt=10241,Bt=9728,It=9729,Nt=9984,Xt=9985,Yt=9986,Ut=9987,Wt=33170,Vt=4352,Ht=4353,qt=4354,Gt=34046,Qt=3317,Zt=37440,$t=37441,Kt=37443,Jt=37444,er=33984,rr=[Nt,Yt,Xt,Ut],ir=[0,Je,et,Ke,Ze],nr={};function ar(e){return"[object "+e+"]"}nr[Je]=nr[$e]=nr[lt]=1,nr[ut]=nr[et]=2,nr[Ke]=nr[ct]=3,nr[Ze]=nr[ht]=4;var sr=ar("HTMLCanvasElement"),or=ar("CanvasRenderingContext2D"),fr=ar("ImageBitmap"),lr=ar("HTMLImageElement"),ur=ar("HTMLVideoElement"),cr=Object.keys(de).concat([sr,or,fr,lr,ur]),pr=[];pr[Pt]=1,pr[Dt]=4,pr[pt]=2,pr[Ot]=2,pr[Ct]=4;var dr=[];function mr(e){return Array.isArray(e)&&(0===e.length||"number"==typeof e[0])}function gr(e){if(!Array.isArray(e))return!1;var t=e.length;return!(0===t||!We(e[0]))}function _r(e){return Object.prototype.toString.call(e)}function vr(object){return _r(object)===sr}function yr(object){if(!object)return!1;var e=_r(object);return cr.indexOf(e)>=0||mr(object)||gr(object)||ue(object)}function xr(data){return 0|de[Object.prototype.toString.call(data)]}function wr(image,e){return fe.allocType(image.type===pt?Dt:image.type,e)}function Tr(image,data){image.type===pt?(image.data=Ue(data),fe.freeType(data)):image.data=data}function kr(e,t,r,n,o,f){var s;if(s=void 0!==dr[e]?dr[e]:nr[e]*pr[t],f&&(s*=6),o){for(var l=0,c=r;c>=1;)l+=s*c*c,c/=2;return l}return s*r*n}function Sr(r,n,o,f,l,c,h){var d={"don't care":Vt,"dont care":Vt,nice:qt,fast:Ht},m={repeat:Rt,clamp:jt,mirror:Mt},_={nearest:Bt,linear:It},v=t({mipmap:Ut,"nearest mipmap nearest":Nt,"linear mipmap nearest":Xt,"nearest mipmap linear":Yt,"linear mipmap linear":Ut},_),y={none:0,browser:Jt},x={uint8:Pt,rgba4:at,rgb565:ot,"rgb5 a1":st},w={alpha:$e,luminance:Je,"luminance alpha":et,rgb:Ke,rgba:Ze,rgba4:tt,"rgb5 a1":it,rgb565:nt},T={};n.ext_srgb&&(w.srgb=ct,w.srgba=ht),n.oes_texture_float&&(x.float32=x.float=Dt),n.oes_texture_half_float&&(x.float16=x["half float"]=pt),n.webgl_depth_texture&&(t(w,{depth:lt,"depth stencil":ut}),t(x,{uint16:Ot,uint32:Ct,"depth stencil":ft})),n.webgl_compressed_texture_s3tc&&t(T,{"rgb s3tc dxt1":mt,"rgba s3tc dxt1":gt,"rgba s3tc dxt3":_t,"rgba s3tc dxt5":vt}),n.webgl_compressed_texture_atc&&t(T,{"rgb atc":bt,"rgba atc explicit alpha":yt,"rgba atc interpolated alpha":xt}),n.webgl_compressed_texture_pvrtc&&t(T,{"rgb pvrtc 4bppv1":wt,"rgb pvrtc 2bppv1":Tt,"rgba pvrtc 4bppv1":kt,"rgba pvrtc 2bppv1":St}),n.webgl_compressed_texture_etc1&&(T["rgb etc1"]=At);var k=Array.prototype.slice.call(r.getParameter(He));Object.keys(T).forEach(function(e){var t=T[e];k.indexOf(t)>=0&&(w[e]=t)});var S=Object.keys(w);o.textureFormats=S;var A=[];Object.keys(w).forEach(function(e){var t=w[e];A[t]=e});var P=[];Object.keys(x).forEach(function(e){var t=x[e];P[t]=e});var O=[];Object.keys(_).forEach(function(e){var t=_[e];O[t]=e});var C=[];Object.keys(v).forEach(function(e){var t=v[e];C[t]=e});var D=[];Object.keys(m).forEach(function(e){var t=m[e];D[t]=e});var E=S.reduce(function(e,t){var r=w[t];return r===Je||r===$e||r===Je||r===et||r===lt||r===ut?e[r]=r:r===it||t.indexOf("rgba")>=0?e[r]=Ze:e[r]=Ke,e},{});function F(){this.internalformat=Ze,this.format=Ze,this.type=Pt,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=Jt,this.width=0,this.height=0,this.channels=0}function R(e,t){e.internalformat=t.internalformat,e.format=t.format,e.type=t.type,e.compressed=t.compressed,e.premultiplyAlpha=t.premultiplyAlpha,e.flipY=t.flipY,e.unpackAlignment=t.unpackAlignment,e.colorSpace=t.colorSpace,e.width=t.width,e.height=t.height,e.channels=t.channels}function j(e,t){if("object"==typeof t&&t){if("premultiplyAlpha"in t&&(I.type(t.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),e.premultiplyAlpha=t.premultiplyAlpha),"flipY"in t&&(I.type(t.flipY,"boolean","invalid texture flip"),e.flipY=t.flipY),"alignment"in t&&(I.oneOf(t.alignment,[1,2,4,8],"invalid texture unpack alignment"),e.unpackAlignment=t.alignment),"colorSpace"in t&&(I.parameter(t.colorSpace,y,"invalid colorSpace"),e.colorSpace=y[t.colorSpace]),"type"in t){var r=t.type;I(n.oes_texture_float||!("float"===r||"float32"===r),"you must enable the OES_texture_float extension in order to use floating point textures."),I(n.oes_texture_half_float||!("half float"===r||"float16"===r),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),I(n.webgl_depth_texture||!("uint16"===r||"uint32"===r||"depth stencil"===r),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),I.parameter(r,x,"invalid texture type"),e.type=x[r]}var f=e.width,l=e.height,c=e.channels,h=!1;"shape"in t?(I(Array.isArray(t.shape)&&t.shape.length>=2,"shape must be an array"),f=t.shape[0],l=t.shape[1],3===t.shape.length&&(c=t.shape[2],I(c>0&&c<=4,"invalid number of channels"),h=!0),I(f>=0&&f<=o.maxTextureSize,"invalid width"),I(l>=0&&l<=o.maxTextureSize,"invalid height")):("radius"in t&&(f=l=t.radius,I(f>=0&&f<=o.maxTextureSize,"invalid radius")),"width"in t&&(f=t.width,I(f>=0&&f<=o.maxTextureSize,"invalid width")),"height"in t&&(l=t.height,I(l>=0&&l<=o.maxTextureSize,"invalid height")),"channels"in t&&(c=t.channels,I(c>0&&c<=4,"invalid number of channels"),h=!0)),e.width=0|f,e.height=0|l,e.channels=0|c;var d=!1;if("format"in t){var m=t.format;I(n.webgl_depth_texture||!("depth"===m||"depth stencil"===m),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),I.parameter(m,w,"invalid texture format");var _=e.internalformat=w[m];e.format=E[_],m in x&&("type"in t||(e.type=x[m])),m in T&&(e.compressed=!0),d=!0}!h&&d?e.channels=nr[e.format]:h&&!d?e.channels!==ir[e.format]&&(e.format=e.internalformat=ir[e.channels]):d&&h&&I(e.channels===nr[e.format],"number of channels inconsistent with specified format")}}function M(e){r.pixelStorei(Zt,e.flipY),r.pixelStorei($t,e.premultiplyAlpha),r.pixelStorei(Kt,e.colorSpace),r.pixelStorei(Qt,e.unpackAlignment)}function z(){F.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function L(image,t){var data=null;if(yr(t)?data=t:t&&(I.type(t,"object","invalid pixel data type"),j(image,t),"x"in t&&(image.xOffset=0|t.x),"y"in t&&(image.yOffset=0|t.y),yr(t.data)&&(data=t.data)),I(!image.compressed||data instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),t.copy){I(!data,"can not specify copy and data field for the same texture");var r=l.viewportWidth,n=l.viewportHeight;image.width=image.width||r-image.xOffset,image.height=image.height||n-image.yOffset,image.needsCopy=!0,I(image.xOffset>=0&&image.xOffset<r&&image.yOffset>=0&&image.yOffset<n&&image.width>0&&image.width<=r&&image.height>0&&image.height<=n,"copy texture read out of bounds")}else if(data){if(e(data))image.channels=image.channels||4,image.data=data,"type"in t||image.type!==Pt||(image.type=xr(data));else if(mr(data))image.channels=image.channels||4,function(e,data){var t=data.length;switch(e.type){case Pt:case Ot:case Ct:case Dt:var r=fe.allocType(e.type,t);r.set(data),e.data=r;break;case pt:e.data=Ue(data);break;default:I.raise("unsupported texture type, must specify a typed array")}}(image,data),image.alignment=1,image.needsFree=!0;else if(ue(data)){var f=data.data;Array.isArray(f)||image.type!==Pt||(image.type=xr(f));var c,h,d,m,_,v,y=data.shape,x=data.stride;3===y.length?(d=y[2],v=x[2]):(I(2===y.length,"invalid ndarray pixel data, must be 2 or 3D"),d=1,v=1),c=y[0],h=y[1],m=x[0],_=x[1],image.alignment=1,image.width=c,image.height=h,image.channels=d,image.format=image.internalformat=ir[d],image.needsFree=!0,function(image,e,t,r,n,o){for(var f=image.width,l=image.height,c=image.channels,data=wr(image,f*l*c),p=0,i=0;i<l;++i)for(var h=0;h<f;++h)for(var d=0;d<c;++d)data[p++]=e[t*h+r*i+n*d+o];Tr(image,data)}(image,f,m,_,v,data.offset)}else if(vr(data)||_r(data)===or)vr(data)?image.element=data:image.element=data.canvas,image.width=image.element.width,image.height=image.element.height,image.channels=4;else if(function(object){return _r(object)===fr}(data))image.element=data,image.width=data.width,image.height=data.height,image.channels=4;else if(function(object){return _r(object)===lr}(data))image.element=data,image.width=data.naturalWidth,image.height=data.naturalHeight,image.channels=4;else if(function(object){return _r(object)===ur}(data))image.element=data,image.width=data.videoWidth,image.height=data.videoHeight,image.channels=4;else if(gr(data)){var w=image.width||data[0].length,T=image.height||data.length,k=image.channels;k=We(data[0][0])?k||data[0][0].length:k||1;for(var S=he.shape(data),A=1,dd=0;dd<S.length;++dd)A*=S[dd];var P=wr(image,A);he.flatten(data,S,"",P),Tr(image,P),image.alignment=1,image.width=w,image.height=T,image.channels=k,image.format=image.internalformat=ir[k],image.needsFree=!0}}else image.width=image.width||1,image.height=image.height||1,image.channels=image.channels||4;image.type===Dt?I(o.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):image.type===pt&&I(o.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function B(e,t,n){var element=e.element,data=e.data,o=e.internalformat,l=e.format,c=e.type,h=e.width,d=e.height,m=e.channels;if(M(e),element)r.texImage2D(t,n,l,l,c,element);else if(e.compressed)r.compressedTexImage2D(t,n,o,h,d,0,data);else if(e.needsCopy)f(),r.copyTexImage2D(t,n,l,e.xOffset,e.yOffset,h,d,0);else{var _=!data;_&&(data=fe.zero.allocType(c,h*d*m)),r.texImage2D(t,n,l,h,d,0,l,c,data),_&&data&&fe.zero.freeType(data)}}function N(e,t,n,o,l){var element=e.element,data=e.data,c=e.internalformat,h=e.format,d=e.type,m=e.width,_=e.height;M(e),element?r.texSubImage2D(t,l,n,o,h,d,element):e.compressed?r.compressedTexSubImage2D(t,l,n,o,c,m,_,data):e.needsCopy?(f(),r.copyTexSubImage2D(t,l,n,o,e.xOffset,e.yOffset,m,_)):r.texSubImage2D(t,l,n,o,m,_,h,d,data)}var X=[];function Y(){return X.pop()||new z}function U(image){image.needsFree&&fe.freeType(image.data),z.call(image),X.push(image)}function W(){F.call(this),this.genMipmaps=!1,this.mipmapHint=Vt,this.mipmask=0,this.images=Array(16)}function V(e,t,r){var img=e.images[0]=Y();e.mipmask=1,img.width=e.width=t,img.height=e.height=r,img.channels=e.channels=4}function H(e,t){var r=null;if(yr(t))R(r=e.images[0]=Y(),e),L(r,t),e.mipmask=1;else if(j(e,t),Array.isArray(t.mipmap))for(var n=t.mipmap,i=0;i<n.length;++i)R(r=e.images[i]=Y(),e),r.width>>=i,r.height>>=i,L(r,n[i]),e.mipmask|=1<<i;else R(r=e.images[0]=Y(),e),L(r,t),e.mipmask=1;R(e,e.images[0]),(e.compressed&&e.internalformat===mt||e.internalformat===gt||e.internalformat===_t||e.internalformat===vt)&&I(e.width%4==0&&e.height%4==0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function G(e,t){for(var r=e.images,i=0;i<r.length;++i){if(!r[i])return;B(r[i],t,i)}}var Q=[];function Z(){var e=Q.pop()||new W;F.call(e),e.mipmask=0;for(var i=0;i<16;++i)e.images[i]=null;return e}function $(e){for(var t=e.images,i=0;i<t.length;++i)t[i]&&U(t[i]),t[i]=null;Q.push(e)}function K(){this.minFilter=Bt,this.magFilter=Bt,this.wrapS=jt,this.wrapT=jt,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=Vt}function J(e,t){if("min"in t){var r=t.min;I.parameter(r,v),e.minFilter=v[r],rr.indexOf(e.minFilter)>=0&&!("faces"in t)&&(e.genMipmaps=!0)}if("mag"in t){var n=t.mag;I.parameter(n,_),e.magFilter=_[n]}var f=e.wrapS,l=e.wrapT;if("wrap"in t){var c=t.wrap;"string"==typeof c?(I.parameter(c,m),f=l=m[c]):Array.isArray(c)&&(I.parameter(c[0],m),I.parameter(c[1],m),f=m[c[0]],l=m[c[1]])}else{if("wrapS"in t){var h=t.wrapS;I.parameter(h,m),f=m[h]}if("wrapT"in t){var y=t.wrapT;I.parameter(y,m),l=m[y]}}if(e.wrapS=f,e.wrapT=l,"anisotropic"in t){var x=t.anisotropic;I("number"==typeof x&&x>=1&&x<=o.maxAnisotropic,"aniso samples must be between 1 and "),e.anisotropic=t.anisotropic}if("mipmap"in t){var w=!1;switch(typeof t.mipmap){case"string":I.parameter(t.mipmap,d,"invalid mipmap hint"),e.mipmapHint=d[t.mipmap],e.genMipmaps=!0,w=!0;break;case"boolean":w=e.genMipmaps=t.mipmap;break;case"object":I(Array.isArray(t.mipmap),"invalid mipmap type"),e.genMipmaps=!1,w=!0;break;default:I.raise("invalid mipmap type")}!w||"min"in t||(e.minFilter=Nt)}}function ee(e,t){r.texParameteri(t,Lt,e.minFilter),r.texParameteri(t,zt,e.magFilter),r.texParameteri(t,Et,e.wrapS),r.texParameteri(t,Ft,e.wrapT),n.ext_texture_filter_anisotropic&&r.texParameteri(t,Gt,e.anisotropic),e.genMipmaps&&(r.hint(Wt,e.mipmapHint),r.generateMipmap(t))}var te=0,re={},ie=o.maxTextureUnits,ne=Array(ie).map(function(){return null});function ae(e){F.call(this),this.mipmask=0,this.internalformat=Ze,this.id=te++,this.refCount=1,this.target=e,this.texture=r.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new K,h.profile&&(this.stats={size:0})}function se(e){r.activeTexture(er),r.bindTexture(e.target,e.texture)}function oe(){var e=ne[0];e?r.bindTexture(e.target,e.texture):r.bindTexture(qe,null)}function le(e){var t=e.texture;I(t,"must not double destroy texture");var n=e.unit,o=e.target;n>=0&&(r.activeTexture(er+n),r.bindTexture(o,null),ne[n]=null),r.deleteTexture(t),e.texture=null,e.params=null,e.pixels=null,e.refCount=0,delete re[e.id],c.textureCount--}return t(ae.prototype,{bind:function(){this.bindCount+=1;var e=this.unit;if(e<0){for(var i=0;i<ie;++i){var t=ne[i];if(t){if(t.bindCount>0)continue;t.unit=-1}ne[i]=this,e=i;break}e>=ie&&I.raise("insufficient number of texture units"),h.profile&&c.maxTextureUnits<e+1&&(c.maxTextureUnits=e+1),this.unit=e,r.activeTexture(er+e),r.bindTexture(this.target,this.texture)}return e},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&le(this)}}),h.profile&&(c.getTotalTextureSize=function(){var e=0;return Object.keys(re).forEach(function(t){e+=re[t].stats.size}),e}),{create2D:function(a,b){var e=new ae(qe);function t(a,b){var r=e.texInfo;K.call(r);var n=Z();return"number"==typeof a?V(n,0|a,"number"==typeof b?0|b:0|a):a?(I.type(a,"object","invalid arguments to regl.texture"),J(r,a),H(n,a)):V(n,1,1),r.genMipmaps&&(n.mipmask=(n.width<<1)-1),e.mipmask=n.mipmask,R(e,n),I.texture2D(r,n,o),e.internalformat=n.internalformat,t.width=n.width,t.height=n.height,se(e),G(n,qe),ee(r,qe),oe(),$(n),h.profile&&(e.stats.size=kr(e.internalformat,e.type,n.width,n.height,r.genMipmaps,!1)),t.format=A[e.internalformat],t.type=P[e.type],t.mag=O[r.magFilter],t.min=C[r.minFilter],t.wrapS=D[r.wrapS],t.wrapT=D[r.wrapT],t}return re[e.id]=e,c.textureCount++,t(a,b),t.subimage=function(image,r,n,o){I(!!image,"must specify image data");var f=0|r,l=0|n,c=0|o,h=Y();return R(h,e),h.width=0,h.height=0,L(h,image),h.width=h.width||(e.width>>c)-f,h.height=h.height||(e.height>>c)-l,I(e.type===h.type&&e.format===h.format&&e.internalformat===h.internalformat,"incompatible format for texture.subimage"),I(f>=0&&l>=0&&f+h.width<=e.width&&l+h.height<=e.height,"texture.subimage write out of bounds"),I(e.mipmask&1<<c,"missing mipmap data"),I(h.data||h.element||h.needsCopy,"missing image data"),se(e),N(h,qe,f,l,c),oe(),U(h),t},t.resize=function(n,o){var data,f=0|n,l=0|o||f;if(f===e.width&&l===e.height)return t;t.width=e.width=f,t.height=e.height=l,se(e);for(var c=e.channels,d=e.type,i=0;e.mipmask>>i;++i){var m=f>>i,_=l>>i;if(!m||!_)break;data=fe.zero.allocType(d,m*_*c),r.texImage2D(qe,i,e.format,m,_,0,e.format,e.type,data),data&&fe.zero.freeType(data)}return oe(),h.profile&&(e.stats.size=kr(e.internalformat,e.type,f,l,!1,!1)),t},t._reglType="texture2d",t._texture=e,h.profile&&(t.stats=e.stats),t.destroy=function(){e.decRef()},t},createCube:function(e,t,n,f,l,d){var m=new ae(Ge);re[m.id]=m,c.cubeCount++;var _=new Array(6);function v(e,t,r,n,f,l){var i,c=m.texInfo;for(K.call(c),i=0;i<6;++i)_[i]=Z();if("number"!=typeof e&&e)if("object"==typeof e)if(t)H(_[0],e),H(_[1],t),H(_[2],r),H(_[3],n),H(_[4],f),H(_[5],l);else if(J(c,e),j(m,e),"faces"in e){var d=e.faces;for(I(Array.isArray(d)&&6===d.length,"cube faces must be a length 6 array"),i=0;i<6;++i)I("object"==typeof d[i]&&!!d[i],"invalid input for cube map face"),R(_[i],m),H(_[i],d[i])}else for(i=0;i<6;++i)H(_[i],e);else I.raise("invalid arguments to cube map");else{var s=0|e||1;for(i=0;i<6;++i)V(_[i],s,s)}for(R(m,_[0]),o.npotTextureCube||I(Ve(m.width)&&Ve(m.height),"your browser does not support non power or two texture dimensions"),c.genMipmaps?m.mipmask=(_[0].width<<1)-1:m.mipmask=_[0].mipmask,I.textureCube(m,c,_,o),m.internalformat=_[0].internalformat,v.width=_[0].width,v.height=_[0].height,se(m),i=0;i<6;++i)G(_[i],Qe+i);for(ee(c,Ge),oe(),h.profile&&(m.stats.size=kr(m.internalformat,m.type,v.width,v.height,c.genMipmaps,!0)),v.format=A[m.internalformat],v.type=P[m.type],v.mag=O[c.magFilter],v.min=C[c.minFilter],v.wrapS=D[c.wrapS],v.wrapT=D[c.wrapT],i=0;i<6;++i)$(_[i]);return v}return v(e,t,n,f,l,d),v.subimage=function(e,image,t,r,n){I(!!image,"must specify image data"),I("number"==typeof e&&e===(0|e)&&e>=0&&e<6,"invalid face");var o=0|t,f=0|r,l=0|n,c=Y();return R(c,m),c.width=0,c.height=0,L(c,image),c.width=c.width||(m.width>>l)-o,c.height=c.height||(m.height>>l)-f,I(m.type===c.type&&m.format===c.format&&m.internalformat===c.internalformat,"incompatible format for texture.subimage"),I(o>=0&&f>=0&&o+c.width<=m.width&&f+c.height<=m.height,"texture.subimage write out of bounds"),I(m.mipmask&1<<l,"missing mipmap data"),I(c.data||c.element||c.needsCopy,"missing image data"),se(m),N(c,Qe+e,o,f,l),oe(),U(c),v},v.resize=function(e){var t=0|e;if(t!==m.width){v.width=m.width=t,v.height=m.height=t,se(m);for(var i=0;i<6;++i)for(var n=0;m.mipmask>>n;++n)r.texImage2D(Qe+i,n,m.format,t>>n,t>>n,0,m.format,m.type,null);return oe(),h.profile&&(m.stats.size=kr(m.internalformat,m.type,v.width,v.height,!1,!0)),v}},v._reglType="textureCube",v._texture=m,h.profile&&(v.stats=m.stats),v.destroy=function(){m.decRef()},v},clear:function(){for(var i=0;i<ie;++i)r.activeTexture(er+i),r.bindTexture(qe,null),ne[i]=null;ce(re).forEach(le),c.cubeCount=0,c.textureCount=0},getTexture:function(e){return null},restore:function(){for(var i=0;i<ie;++i){var e=ne[i];e&&(e.bindCount=0,e.unit=-1,ne[i]=null)}ce(re).forEach(function(e){e.texture=r.createTexture(),r.bindTexture(e.target,e.texture);for(var i=0;i<32;++i)if(0!=(e.mipmask&1<<i))if(e.target===qe)r.texImage2D(qe,i,e.internalformat,e.width>>i,e.height>>i,0,e.internalformat,e.type,null);else for(var t=0;t<6;++t)r.texImage2D(Qe+t,i,e.internalformat,e.width>>i,e.height>>i,0,e.internalformat,e.type,null);ee(e.texInfo,e.target)})}}}dr[tt]=2,dr[it]=2,dr[nt]=2,dr[ut]=4,dr[mt]=.5,dr[gt]=.5,dr[_t]=1,dr[vt]=1,dr[bt]=.5,dr[yt]=1,dr[xt]=1,dr[wt]=.5,dr[Tt]=.25,dr[kt]=.5,dr[St]=.25,dr[At]=.5;var Ar=36161,Pr=32854,Or=[];function Cr(e,t,r){return Or[e]*t*r}Or[Pr]=2,Or[32855]=2,Or[36194]=2,Or[33189]=2,Or[36168]=1,Or[34041]=4,Or[35907]=4,Or[34836]=16,Or[34842]=8,Or[34843]=6;var Dr=function(e,t,r,n,o){var f={rgba4:Pr,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};t.ext_srgb&&(f.srgba=35907),t.ext_color_buffer_half_float&&(f.rgba16f=34842,f.rgb16f=34843),t.webgl_color_buffer_float&&(f.rgba32f=34836);var l=[];Object.keys(f).forEach(function(e){var t=f[e];l[t]=e});var c=0,h={};function d(e){this.id=c++,this.refCount=1,this.renderbuffer=e,this.format=Pr,this.width=0,this.height=0,o.profile&&(this.stats={size:0})}function m(t){var r=t.renderbuffer;I(r,"must not double destroy renderbuffer"),e.bindRenderbuffer(Ar,null),e.deleteRenderbuffer(r),t.renderbuffer=null,t.refCount=0,delete h[t.id],n.renderbufferCount--}return d.prototype.decRef=function(){--this.refCount<=0&&m(this)},o.profile&&(n.getTotalRenderbufferSize=function(){var e=0;return Object.keys(h).forEach(function(t){e+=h[t].stats.size}),e}),{create:function(a,b){var t=new d(e.createRenderbuffer());function c(a,b){var n=0,h=0,d=Pr;if("object"==typeof a&&a){var m=a;if("shape"in m){var _=m.shape;I(Array.isArray(_)&&_.length>=2,"invalid renderbuffer shape"),n=0|_[0],h=0|_[1]}else"radius"in m&&(n=h=0|m.radius),"width"in m&&(n=0|m.width),"height"in m&&(h=0|m.height);"format"in m&&(I.parameter(m.format,f,"invalid renderbuffer format"),d=f[m.format])}else"number"==typeof a?(n=0|a,h="number"==typeof b?0|b:n):a?I.raise("invalid arguments to renderbuffer constructor"):n=h=1;if(I(n>0&&h>0&&n<=r.maxRenderbufferSize&&h<=r.maxRenderbufferSize,"invalid renderbuffer size"),n!==t.width||h!==t.height||d!==t.format)return c.width=t.width=n,c.height=t.height=h,t.format=d,e.bindRenderbuffer(Ar,t.renderbuffer),e.renderbufferStorage(Ar,d,n,h),I(0===e.getError(),"invalid render buffer format"),o.profile&&(t.stats.size=Cr(t.format,t.width,t.height)),c.format=l[t.format],c}return h[t.id]=t,n.renderbufferCount++,c(a,b),c.resize=function(n,f){var l=0|n,h=0|f||l;return l===t.width&&h===t.height?c:(I(l>0&&h>0&&l<=r.maxRenderbufferSize&&h<=r.maxRenderbufferSize,"invalid renderbuffer size"),c.width=t.width=l,c.height=t.height=h,e.bindRenderbuffer(Ar,t.renderbuffer),e.renderbufferStorage(Ar,t.format,l,h),I(0===e.getError(),"invalid render buffer format"),o.profile&&(t.stats.size=Cr(t.format,t.width,t.height)),c)},c._reglType="renderbuffer",c._renderbuffer=t,o.profile&&(c.stats=t.stats),c.destroy=function(){t.decRef()},c},clear:function(){ce(h).forEach(m)},restore:function(){ce(h).forEach(function(t){t.renderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(Ar,t.renderbuffer),e.renderbufferStorage(Ar,t.format,t.width,t.height)}),e.bindRenderbuffer(Ar,null)}}},Er=36160,Fr=36161,Rr=3553,jr=34069,Mr=36064,zr=36096,Lr=36128,Br=33306,Ir=36053,Nr=6402,Xr=[6407,6408],Yr=[];Yr[6408]=4,Yr[6407]=3;var Ur=[];Ur[5121]=1,Ur[5126]=4,Ur[36193]=2;var Wr=33189,Vr=36168,Hr=34041,qr=[32854,32855,36194,35907,34842,34843,34836],Gr={};Gr[Ir]="complete",Gr[36054]="incomplete attachment",Gr[36057]="incomplete dimensions",Gr[36055]="incomplete, missing attachment",Gr[36061]="unsupported";var Qr=5126;function Zr(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=Qr,this.offset=0,this.stride=0,this.divisor=0}var $r=35632,Kr=35633,Jr=35718,ei=35721,ti=6408,ri=5121,ii=3333,ni=5126;function ai(t,r,n,o,f,l,c){function h(input){var h;null===r.next?(I(f.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),h=ri):(I(null!==r.next.colorAttachments[0].texture,"You cannot read from a renderbuffer"),h=r.next.colorAttachments[0].texture._texture.type,l.oes_texture_float?(I(h===ri||h===ni,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),h===ni&&I(c.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):I(h===ri,"Reading from a framebuffer is only allowed for the type 'uint8'"));var d=0,m=0,_=o.framebufferWidth,v=o.framebufferHeight,data=null;e(input)?data=input:input&&(I.type(input,"object","invalid arguments to regl.read()"),d=0|input.x,m=0|input.y,I(d>=0&&d<o.framebufferWidth,"invalid x offset for regl.read"),I(m>=0&&m<o.framebufferHeight,"invalid y offset for regl.read"),_=0|(input.width||o.framebufferWidth-d),v=0|(input.height||o.framebufferHeight-m),data=input.data||null),data&&(h===ri?I(data instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):h===ni&&I(data instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),I(_>0&&_+d<=o.framebufferWidth,"invalid width for read pixels"),I(v>0&&v+m<=o.framebufferHeight,"invalid height for read pixels"),n();var y=_*v*4;return data||(h===ri?data=new Uint8Array(y):h===ni&&(data=data||new Float32Array(y))),I.isTypedArray(data,"data buffer for regl.read() must be a typedarray"),I(data.byteLength>=y,"data buffer for regl.read() too small"),t.pixelStorei(ii,4),t.readPixels(d,m,_,v,ti,h,data),data}return function(e){return e&&"framebuffer"in e?function(e){var t;return r.setFBO({framebuffer:e.framebuffer},function(){t=h(e)}),t}(e):h(e)}}function si(e){return Array.prototype.slice.call(e)}function oi(e){return si(e).join("")}var fi="xyzw".split(""),ui=5121,ci=1,hi=2,pi=0,di=1,mi=2,gi=3,_i=4,vi="dither",bi="blend.enable",yi="blend.color",xi="blend.equation",wi="blend.func",Ti="depth.enable",ki="depth.func",Si="depth.range",Ai="depth.mask",Pi="colorMask",Oi="cull.enable",Ci="cull.face",Di="frontFace",Ei="lineWidth",Fi="polygonOffset.enable",Ri="polygonOffset.offset",ji="sample.alpha",Mi="sample.enable",zi="sample.coverage",Li="stencil.enable",Bi="stencil.mask",Ii="stencil.func",Ni="stencil.opFront",Xi="stencil.opBack",Yi="scissor.enable",Ui="scissor.box",Wi="viewport",Vi="profile",Hi="framebuffer",qi="vert",Gi="frag",Qi="elements",Zi="primitive",$i="count",Ki="offset",Ji="instances",en=Hi+"Width",tn=Hi+"Height",rn=Wi+"Width",nn=Wi+"Height",an="drawingBufferWidth",sn="drawingBufferHeight",on=[wi,xi,Ii,Ni,Xi,zi,Wi,Ui,Ri],fn=34962,ln=34963,un=3553,cn=34067,hn=2884,pn=3042,dn=3024,mn=2960,gn=2929,_n=3089,vn=32823,bn=32926,yn=32928,xn=5126,wn=35664,Tn=35665,kn=35666,Sn=5124,An=35667,Pn=35668,On=35669,Cn=35670,Dn=35671,En=35672,Fn=35673,Rn=35674,jn=35675,Mn=35676,zn=35678,Ln=35680,Bn=4,In=1028,Nn=1029,Xn=2304,Yn=2305,Un=32775,Wn=32776,Vn=519,Hn=7680,qn=0,Gn=1,Qn=32774,Zn=513,$n=36160,Kn=36064,Jn={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},ea=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],ta={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},ra={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ia={frag:35632,vert:35633},na={cw:Xn,ccw:Yn};function aa(t){return Array.isArray(t)||e(t)||ue(t)}function sa(e){return e.sort(function(a,b){return a===Wi?-1:b===Wi?1:a<b?-1:1})}function oa(e,t,r,n){this.thisDep=e,this.contextDep=t,this.propDep=r,this.append=n}function fa(e){return e&&!(e.thisDep||e.contextDep||e.propDep)}function la(e){return new oa(!1,!1,!1,e)}function ua(e,t){var r=e.type;if(r===pi){var n=e.data.length;return new oa(!0,n>=1,n>=2,t)}if(r===_i){var data=e.data;return new oa(data.thisDep,data.contextDep,data.propDep,t)}return new oa(r===gi,r===mi,r===di,t)}var ca=new oa(!1,!1,!1,function(){});function ha(e,r,n,o,f,l,c,h,d,m,_,v,y,x,w){var T=m.Record,k={add:32774,subtract:32778,"reverse subtract":32779};n.ext_blend_minmax&&(k.min=Un,k.max=Wn);var S=n.angle_instanced_arrays,A=n.webgl_draw_buffers,P={dirty:!0,profile:w.profile},O={},C=[],D={},E={};function F(e){return e.replace(".","_")}function R(e,t,r){var n=F(e);C.push(e),O[n]=P[n]=!!r,D[n]=t}function j(e,t,r){var n=F(e);C.push(e),Array.isArray(r)?(P[n]=r.slice(),O[n]=r.slice()):P[n]=O[n]=r,E[n]=t}R(vi,dn),R(bi,pn),j(yi,"blendColor",[0,0,0,0]),j(xi,"blendEquationSeparate",[Qn,Qn]),j(wi,"blendFuncSeparate",[Gn,qn,Gn,qn]),R(Ti,gn,!0),j(ki,"depthFunc",Zn),j(Si,"depthRange",[0,1]),j(Ai,"depthMask",!0),j(Pi,Pi,[!0,!0,!0,!0]),R(Oi,hn),j(Ci,"cullFace",Nn),j(Di,Di,Yn),j(Ei,Ei,1),R(Fi,vn),j(Ri,"polygonOffset",[0,0]),R(ji,bn),R(Mi,yn),j(zi,"sampleCoverage",[1,!1]),R(Li,mn),j(Bi,"stencilMask",-1),j(Ii,"stencilFunc",[Vn,0,-1]),j(Ni,"stencilOpSeparate",[In,Hn,Hn,Hn]),j(Xi,"stencilOpSeparate",[Nn,Hn,Hn,Hn]),R(Yi,_n),j(Ui,"scissor",[0,0,e.drawingBufferWidth,e.drawingBufferHeight]),j(Wi,Wi,[0,0,e.drawingBufferWidth,e.drawingBufferHeight]);var M={gl:e,context:y,strings:r,next:O,current:P,draw:v,elements:l,buffer:f,shader:_,attributes:m.state,uniforms:d,framebuffer:h,extensions:n,timer:x,isBufferArgs:aa},z={primTypes:Pe,compareFuncs:ta,blendFuncs:Jn,blendEquations:k,stencilOps:ra,glTypes:me,orientationType:na};I.optional(function(){M.isArrayLike=We}),A&&(z.backBuffer=[Nn],z.drawBuffer=K(o.maxDrawbuffers,function(i){return 0===i?[0]:K(i,function(e){return Kn+e})}));var L=0;function B(){var e=function(){var e=0,r=[],n=[];function o(){var code=[],r=[];return t(function(){code.push.apply(code,si(arguments))},{def:function(){var t="v"+e++;return r.push(t),arguments.length>0&&(code.push(t,"="),code.push.apply(code,si(arguments)),code.push(";")),t},toString:function(){return oi([r.length>0?"var "+r+";":"",oi(code)])}})}function f(){var e=o(),r=o(),n=e.toString,f=r.toString;function l(object,t){r(object,t,"=",e.def(object,t),";")}return t(function(){e.apply(e,si(arguments))},{def:e.def,entry:e,exit:r,save:l,set:function(object,t,r){l(object,t),e(object,t,"=",r,";")},toString:function(){return n()+f()}})}var l=o(),c={};return{global:l,link:function(t){for(var i=0;i<n.length;++i)if(n[i]===t)return r[i];var o="g"+e++;return r.push(o),n.push(t),o},block:o,proc:function(e,r){var n=[];function o(){var e="a"+n.length;return n.push(e),e}r=r||0;for(var i=0;i<r;++i)o();var body=f(),l=body.toString;return c[e]=t(body,{arg:o,toString:function(){return oi(["function(",n.join(),"){",l(),"}"])}})},scope:f,cond:function(){var e=oi(arguments),r=f(),n=f(),o=r.toString,l=n.toString;return t(r,{then:function(){return r.apply(r,si(arguments)),this},else:function(){return n.apply(n,si(arguments)),this},toString:function(){var t=l();return t&&(t="else{"+t+"}"),oi(["if(",e,"){",o(),"}",t])}})},compile:function(){var code=['"use strict";',l,"return {"];Object.keys(c).forEach(function(e){code.push('"',e,'":',c[e].toString(),",")}),code.push("}");var e=oi(code).replace(/;/g,";\n").replace(/}/g,"}\n").replace(/{/g,"{\n");return Function.apply(null,r.concat(e)).apply(null,n)}}}(),link=e.link,n=e.global;e.id=L++,e.batchId="0";var o=link(M),f=e.shared={props:"a0"};Object.keys(M).forEach(function(e){f[e]=n.def(o,".",e)}),I.optional(function(){e.CHECK=link(I),e.commandStr=I.guessCommand(),e.command=link(e.commandStr),e.assert=function(e,t,r){e("if(!(",t,"))",this.CHECK,".commandRaise(",link(r),",",this.command,");")},z.invalidBlendCombinations=ea});var l=e.next={},c=e.current={};Object.keys(E).forEach(function(e){Array.isArray(P[e])&&(l[e]=n.def(f.next,".",e),c[e]=n.def(f.current,".",e))});var h=e.constants={};Object.keys(z).forEach(function(e){h[e]=n.def(JSON.stringify(z[e]))}),e.invoke=function(t,r){switch(r.type){case pi:var n=["this",f.context,f.props,e.batchId];return t.def(link(r.data),".call(",n.slice(0,Math.max(r.data.length+1,4)),")");case di:return t.def(f.props,r.data);case mi:return t.def(f.context,r.data);case gi:return t.def("this",r.data);case _i:return r.data.append(e,t),r.data.ref}},e.attribCache={};var d={};return e.scopeAttrib=function(e){var t=r.id(e);if(t in d)return d[t];var n=m.scope[t];n||(n=m.scope[t]=new T);var o=d[t]=link(n);return o},e}function N(e,t,n,c,d){var m=e.static,v=e.dynamic;I.optional(function(){var e=[Hi,qi,Gi,Qi,Zi,Ki,$i,Ji,Vi].concat(C);function t(t){Object.keys(t).forEach(function(t){I.command(e.indexOf(t)>=0,'unknown parameter "'+t+'"',d.commandStr)})}t(m),t(v)});var y=function(e,t){var r=e.static,n=e.dynamic;if(Hi in r){var o=r[Hi];return o?(o=h.getFramebuffer(o),I.command(o,"invalid framebuffer object"),la(function(e,t){var r=e.link(o),n=e.shared;t.set(n.framebuffer,".next",r);var f=n.context;return t.set(f,"."+en,r+".width"),t.set(f,"."+tn,r+".height"),r})):la(function(e,t){var r=e.shared;t.set(r.framebuffer,".next","null");var n=r.context;return t.set(n,"."+en,n+"."+an),t.set(n,"."+tn,n+"."+sn),"null"})}if(Hi in n){var f=n[Hi];return ua(f,function(e,t){var r=e.invoke(t,f),n=e.shared,o=n.framebuffer,l=t.def(o,".getFramebuffer(",r,")");I.optional(function(){e.assert(t,"!"+r+"||"+l,"invalid framebuffer object")}),t.set(o,".next",l);var c=n.context;return t.set(c,"."+en,l+"?"+l+".width:"+c+"."+an),t.set(c,"."+tn,l+"?"+l+".height:"+c+"."+sn),l})}return null}(e),x=function(e,t,r){var n=e.static,o=e.dynamic;function f(param){if(param in n){var e=n[param];I.commandType(e,"object","invalid "+param,r.commandStr);var f,l,c=!0,h=0|e.x,d=0|e.y;return"width"in e?(f=0|e.width,I.command(f>=0,"invalid "+param,r.commandStr)):c=!1,"height"in e?(l=0|e.height,I.command(l>=0,"invalid "+param,r.commandStr)):c=!1,new oa(!c&&t&&t.thisDep,!c&&t&&t.contextDep,!c&&t&&t.propDep,function(t,r){var n=t.shared.context,o=f;"width"in e||(o=r.def(n,".",en,"-",h));var c=l;return"height"in e||(c=r.def(n,".",tn,"-",d)),[h,d,o,c]})}if(param in o){var m=o[param],_=ua(m,function(e,t){var r=e.invoke(t,m);I.optional(function(){e.assert(t,r+"&&typeof "+r+'==="object"',"invalid "+param)});var n=e.shared.context,o=t.def(r,".x|0"),f=t.def(r,".y|0"),l=t.def('"width" in ',r,"?",r,".width|0:","(",n,".",en,"-",o,")"),c=t.def('"height" in ',r,"?",r,".height|0:","(",n,".",tn,"-",f,")");return I.optional(function(){e.assert(t,l+">=0&&"+c+">=0","invalid "+param)}),[o,f,l,c]});return t&&(_.thisDep=_.thisDep||t.thisDep,_.contextDep=_.contextDep||t.contextDep,_.propDep=_.propDep||t.propDep),_}return t?new oa(t.thisDep,t.contextDep,t.propDep,function(e,t){var r=e.shared.context;return[0,0,t.def(r,".",en),t.def(r,".",tn)]}):null}var l=f(Wi);if(l){var c=l;l=new oa(l.thisDep,l.contextDep,l.propDep,function(e,t){var r=c.append(e,t),n=e.shared.context;return t.set(n,"."+rn,r[2]),t.set(n,"."+nn,r[3]),r})}return{viewport:l,scissor_box:f(Ui)}}(e,y,d),w=function(e,t){var r=e.static,n=e.dynamic,o=function(){if(Qi in r){var e=r[Qi];aa(e)?e=l.getElements(l.create(e,!0)):e&&(e=l.getElements(e),I.command(e,"invalid elements",t.commandStr));var o=la(function(t,r){if(e){var n=t.link(e);return t.ELEMENTS=n,n}return t.ELEMENTS=null,null});return o.value=e,o}if(Qi in n){var f=n[Qi];return ua(f,function(e,t){var r=e.shared,n=r.isBufferArgs,o=r.elements,l=e.invoke(t,f),c=t.def("null"),h=t.def(n,"(",l,")"),d=e.cond(h).then(c,"=",o,".createStream(",l,");").else(c,"=",o,".getElements(",l,");");return I.optional(function(){e.assert(d.else,"!"+l+"||"+c,"invalid elements")}),t.entry(d),t.exit(e.cond(h).then(o,".destroyStream(",c,");")),e.ELEMENTS=c,c})}return null}();function f(param,e){if(param in r){var f=0|r[param];return I.command(!e||f>=0,"invalid "+param,t.commandStr),la(function(t,r){return e&&(t.OFFSET=f),f})}if(param in n){var l=n[param];return ua(l,function(t,r){var n=t.invoke(r,l);return e&&(t.OFFSET=n,I.optional(function(){t.assert(r,n+">=0","invalid "+param)})),n})}return e&&o?la(function(e,t){return e.OFFSET="0",0}):null}var c=f(Ki,!0);return{elements:o,primitive:function(){if(Zi in r){var e=r[Zi];return I.commandParameter(e,Pe,"invalid primitve",t.commandStr),la(function(t,r){return Pe[e]})}if(Zi in n){var f=n[Zi];return ua(f,function(e,t){var r=e.constants.primTypes,n=e.invoke(t,f);return I.optional(function(){e.assert(t,n+" in "+r,"invalid primitive, must be one of "+Object.keys(Pe))}),t.def(r,"[",n,"]")})}return o?fa(o)?o.value?la(function(e,t){return t.def(e.ELEMENTS,".primType")}):la(function(){return Bn}):new oa(o.thisDep,o.contextDep,o.propDep,function(e,t){var r=e.ELEMENTS;return t.def(r,"?",r,".primType:",Bn)}):null}(),count:function(){if($i in r){var e=0|r[$i];return I.command("number"==typeof e&&e>=0,"invalid vertex count",t.commandStr),la(function(){return e})}if($i in n){var f=n[$i];return ua(f,function(e,t){var r=e.invoke(t,f);return I.optional(function(){e.assert(t,"typeof "+r+'==="number"&&'+r+">=0&&"+r+"===("+r+"|0)","invalid vertex count")}),r})}if(o){if(fa(o)){if(o)return c?new oa(c.thisDep,c.contextDep,c.propDep,function(e,t){var r=t.def(e.ELEMENTS,".vertCount-",e.OFFSET);return I.optional(function(){e.assert(t,r+">=0","invalid vertex offset/element buffer too small")}),r}):la(function(e,t){return t.def(e.ELEMENTS,".vertCount")});var l=la(function(){return-1});return I.optional(function(){l.MISSING=!0}),l}var h=new oa(o.thisDep||c.thisDep,o.contextDep||c.contextDep,o.propDep||c.propDep,function(e,t){var r=e.ELEMENTS;return e.OFFSET?t.def(r,"?",r,".vertCount-",e.OFFSET,":-1"):t.def(r,"?",r,".vertCount:-1")});return I.optional(function(){h.DYNAMIC=!0}),h}return null}(),instances:f(Ji,!1),offset:c}}(e,d),A=function(e,t){var r=e.static,n=e.dynamic,f={};return C.forEach(function(e){var param=F(e);function l(t,o){if(e in r){var l=t(r[e]);f[param]=la(function(){return l})}else if(e in n){var c=n[e];f[param]=ua(c,function(e,t){return o(e,t,e.invoke(t,c))})}}switch(e){case Oi:case bi:case vi:case Li:case Ti:case Yi:case Fi:case ji:case Mi:case Ai:return l(function(r){return I.commandType(r,"boolean",e,t.commandStr),r},function(t,r,n){return I.optional(function(){t.assert(r,"typeof "+n+'==="boolean"',"invalid flag "+e,t.commandStr)}),n});case ki:return l(function(r){return I.commandParameter(r,ta,"invalid "+e,t.commandStr),ta[r]},function(t,r,n){var o=t.constants.compareFuncs;return I.optional(function(){t.assert(r,n+" in "+o,"invalid "+e+", must be one of "+Object.keys(ta))}),r.def(o,"[",n,"]")});case Si:return l(function(e){return I.command(We(e)&&2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]&&e[0]<=e[1],"depth range is 2d array",t.commandStr),e},function(e,t,r){return I.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===2&&typeof "+r+'[0]==="number"&&typeof '+r+'[1]==="number"&&'+r+"[0]<="+r+"[1]","depth range must be a 2d array")}),[t.def("+",r,"[0]"),t.def("+",r,"[1]")]});case wi:return l(function(e){I.commandType(e,"object","blend.func",t.commandStr);var r="srcRGB"in e?e.srcRGB:e.src,n="srcAlpha"in e?e.srcAlpha:e.src,o="dstRGB"in e?e.dstRGB:e.dst,f="dstAlpha"in e?e.dstAlpha:e.dst;return I.commandParameter(r,Jn,param+".srcRGB",t.commandStr),I.commandParameter(n,Jn,param+".srcAlpha",t.commandStr),I.commandParameter(o,Jn,param+".dstRGB",t.commandStr),I.commandParameter(f,Jn,param+".dstAlpha",t.commandStr),I.command(-1===ea.indexOf(r+", "+o),"unallowed blending combination (srcRGB, dstRGB) = ("+r+", "+o+")",t.commandStr),[Jn[r],Jn[o],Jn[n],Jn[f]]},function(t,r,n){var o=t.constants.blendFuncs;function f(f,l){var c=r.def('"',f,l,'" in ',n,"?",n,".",f,l,":",n,".",f);return I.optional(function(){t.assert(r,c+" in "+o,"invalid "+e+"."+f+l+", must be one of "+Object.keys(Jn))}),c}I.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid blend func, must be an object")});var l=f("src","RGB"),c=f("dst","RGB");I.optional(function(){var e=t.constants.invalidBlendCombinations;t.assert(r,e+".indexOf("+l+'+", "+'+c+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var h=r.def(o,"[",l,"]"),d=r.def(o,"[",f("src","Alpha"),"]");return[h,r.def(o,"[",c,"]"),d,r.def(o,"[",f("dst","Alpha"),"]")]});case xi:return l(function(r){return"string"==typeof r?(I.commandParameter(r,k,"invalid "+e,t.commandStr),[k[r],k[r]]):"object"==typeof r?(I.commandParameter(r.rgb,k,e+".rgb",t.commandStr),I.commandParameter(r.alpha,k,e+".alpha",t.commandStr),[k[r.rgb],k[r.alpha]]):void I.commandRaise("invalid blend.equation",t.commandStr)},function(t,r,n){var o=t.constants.blendEquations,f=r.def(),l=r.def(),c=t.cond("typeof ",n,'==="string"');return I.optional(function(){function r(e,r,n){t.assert(e,n+" in "+o,"invalid "+r+", must be one of "+Object.keys(k))}r(c.then,e,n),t.assert(c.else,n+"&&typeof "+n+'==="object"',"invalid "+e),r(c.else,e+".rgb",n+".rgb"),r(c.else,e+".alpha",n+".alpha")}),c.then(f,"=",l,"=",o,"[",n,"];"),c.else(f,"=",o,"[",n,".rgb];",l,"=",o,"[",n,".alpha];"),r(c),[f,l]});case yi:return l(function(e){return I.command(We(e)&&4===e.length,"blend.color must be a 4d array",t.commandStr),K(4,function(i){return+e[i]})},function(e,t,r){return I.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===4","blend.color must be a 4d array")}),K(4,function(i){return t.def("+",r,"[",i,"]")})});case Bi:return l(function(e){return I.commandType(e,"number",param,t.commandStr),0|e},function(e,t,r){return I.optional(function(){e.assert(t,"typeof "+r+'==="number"',"invalid stencil.mask")}),t.def(r,"|0")});case Ii:return l(function(r){I.commandType(r,"object",param,t.commandStr);var n=r.cmp||"keep",o=r.ref||0,mask="mask"in r?r.mask:-1;return I.commandParameter(n,ta,e+".cmp",t.commandStr),I.commandType(o,"number",e+".ref",t.commandStr),I.commandType(mask,"number",e+".mask",t.commandStr),[ta[n],o,mask]},function(e,t,r){var n=e.constants.compareFuncs;return I.optional(function(){function o(){e.assert(t,Array.prototype.join.call(arguments,""),"invalid stencil.func")}o(r+"&&typeof ",r,'==="object"'),o('!("cmp" in ',r,")||(",r,".cmp in ",n,")")}),[t.def('"cmp" in ',r,"?",n,"[",r,".cmp]",":",Hn),t.def(r,".ref|0"),t.def('"mask" in ',r,"?",r,".mask|0:-1")]});case Ni:case Xi:return l(function(r){I.commandType(r,"object",param,t.commandStr);var n=r.fail||"keep",o=r.zfail||"keep",f=r.zpass||"keep";return I.commandParameter(n,ra,e+".fail",t.commandStr),I.commandParameter(o,ra,e+".zfail",t.commandStr),I.commandParameter(f,ra,e+".zpass",t.commandStr),[e===Xi?Nn:In,ra[n],ra[o],ra[f]]},function(t,r,n){var o=t.constants.stencilOps;function f(f){return I.optional(function(){t.assert(r,'!("'+f+'" in '+n+")||("+n+"."+f+" in "+o+")","invalid "+e+"."+f+", must be one of "+Object.keys(ra))}),r.def('"',f,'" in ',n,"?",o,"[",n,".",f,"]:",Hn)}return I.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)}),[e===Xi?Nn:In,f("fail"),f("zfail"),f("zpass")]});case Ri:return l(function(e){I.commandType(e,"object",param,t.commandStr);var r=0|e.factor,n=0|e.units;return I.commandType(r,"number",param+".factor",t.commandStr),I.commandType(n,"number",param+".units",t.commandStr),[r,n]},function(t,r,n){return I.optional(function(){t.assert(r,n+"&&typeof "+n+'==="object"',"invalid "+e)}),[r.def(n,".factor|0"),r.def(n,".units|0")]});case Ci:return l(function(e){var r=0;return"front"===e?r=In:"back"===e&&(r=Nn),I.command(!!r,param,t.commandStr),r},function(e,t,r){return I.optional(function(){e.assert(t,r+'==="front"||'+r+'==="back"',"invalid cull.face")}),t.def(r,'==="front"?',In,":",Nn)});case Ei:return l(function(e){return I.command("number"==typeof e&&e>=o.lineWidthDims[0]&&e<=o.lineWidthDims[1],"invalid line width, must be a positive number between "+o.lineWidthDims[0]+" and "+o.lineWidthDims[1],t.commandStr),e},function(e,t,r){return I.optional(function(){e.assert(t,"typeof "+r+'==="number"&&'+r+">="+o.lineWidthDims[0]+"&&"+r+"<="+o.lineWidthDims[1],"invalid line width")}),r});case Di:return l(function(e){return I.commandParameter(e,na,param,t.commandStr),na[e]},function(e,t,r){return I.optional(function(){e.assert(t,r+'==="cw"||'+r+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),t.def(r+'==="cw"?'+Xn+":"+Yn)});case Pi:return l(function(e){return I.command(We(e)&&4===e.length,"color.mask must be length 4 array",t.commandStr),e.map(function(e){return!!e})},function(e,t,r){return I.optional(function(){e.assert(t,e.shared.isArrayLike+"("+r+")&&"+r+".length===4","invalid color.mask")}),K(4,function(i){return"!!"+r+"["+i+"]"})});case zi:return l(function(e){I.command("object"==typeof e&&e,param,t.commandStr);var r="value"in e?e.value:1,n=!!e.invert;return I.command("number"==typeof r&&r>=0&&r<=1,"sample.coverage.value must be a number between 0 and 1",t.commandStr),[r,n]},function(e,t,r){return I.optional(function(){e.assert(t,r+"&&typeof "+r+'==="object"',"invalid sample.coverage")}),[t.def('"value" in ',r,"?+",r,".value:1"),t.def("!!",r,".invert")]})}}),f}(e,d),P=function(e){var t=e.static,n=e.dynamic;function o(e){if(e in t){var o=r.id(t[e]);I.optional(function(){_.shader(ia[e],o,I.guessCommand())});var f=la(function(){return o});return f.id=o,f}if(e in n){var l=n[e];return ua(l,function(t,r){var n=t.invoke(r,l),o=r.def(t.shared.strings,".id(",n,")");return I.optional(function(){r(t.shared.shader,".shader(",ia[e],",",o,",",t.command,");")}),o})}return null}var f,l=o(Gi),c=o(qi),h=null;return fa(l)&&fa(c)?(h=_.program(c.id,l.id),f=la(function(e,t){return e.link(h)})):f=new oa(l&&l.thisDep||c&&c.thisDep,l&&l.contextDep||c&&c.contextDep,l&&l.propDep||c&&c.propDep,function(e,t){var r,n,o=e.shared.shader;r=l?l.append(e,t):t.def(o,".",Gi),n=c?c.append(e,t):t.def(o,".",qi);var f=o+".program("+n+","+r;return I.optional(function(){f+=","+e.command}),t.def(f+")")}),{frag:l,vert:c,progVar:f,program:h}}(e);function O(e){var t=x[e];t&&(A[e]=t)}O(Wi),O(F(Ui));var D=Object.keys(A).length>0,E={framebuffer:y,draw:w,shader:P,state:A,dirty:D};return E.profile=function(e){var t,r=e.static,n=e.dynamic;if(Vi in r){var o=!!r[Vi];(t=la(function(e,t){return o})).enable=o}else if(Vi in n){var f=n[Vi];t=ua(f,function(e,t){return e.invoke(t,f)})}return t}(e),E.uniforms=function(e,t){var r=e.static,n=e.dynamic,o={};return Object.keys(r).forEach(function(e){var n,f=r[e];if("number"==typeof f||"boolean"==typeof f)n=la(function(){return f});else if("function"==typeof f){var l=f._reglType;"texture2d"===l||"textureCube"===l?n=la(function(e){return e.link(f)}):"framebuffer"===l||"framebufferCube"===l?(I.command(f.color.length>0,'missing color attachment for framebuffer sent to uniform "'+e+'"',t.commandStr),n=la(function(e){return e.link(f.color[0])})):I.commandRaise('invalid data for uniform "'+e+'"',t.commandStr)}else We(f)?n=la(function(t){return t.global.def("[",K(f.length,function(i){return I.command("number"==typeof f[i]||"boolean"==typeof f[i],"invalid uniform "+e,t.commandStr),f[i]}),"]")}):I.commandRaise('invalid or missing data for uniform "'+e+'"',t.commandStr);n.value=f,o[e]=n}),Object.keys(n).forEach(function(e){var t=n[e];o[e]=ua(t,function(e,r){return e.invoke(r,t)})}),o}(n,d),E.attributes=function(e,t){var n=e.static,o=e.dynamic,l={};return Object.keys(n).forEach(function(e){var o=n[e],c=r.id(e),h=new T;if(aa(o))h.state=ci,h.buffer=f.getBuffer(f.create(o,fn,!1,!0)),h.type=0;else{var d=f.getBuffer(o);if(d)h.state=ci,h.buffer=d,h.type=0;else if(I.command("object"==typeof o&&o,"invalid data for attribute "+e,t.commandStr),"constant"in o){var m=o.constant;h.buffer="null",h.state=hi,"number"==typeof m?h.x=m:(I.command(We(m)&&m.length>0&&m.length<=4,"invalid constant for attribute "+e,t.commandStr),fi.forEach(function(e,i){i<m.length&&(h[e]=m[i])}))}else{d=aa(o.buffer)?f.getBuffer(f.create(o.buffer,fn,!1,!0)):f.getBuffer(o.buffer),I.command(!!d,'missing buffer for attribute "'+e+'"',t.commandStr);var _=0|o.offset;I.command(_>=0,'invalid offset for attribute "'+e+'"',t.commandStr);var v=0|o.stride;I.command(v>=0&&v<256,'invalid stride for attribute "'+e+'", must be integer betweeen [0, 255]',t.commandStr);var y=0|o.size;I.command(!("size"in o)||y>0&&y<=4,'invalid size for attribute "'+e+'", must be 1,2,3,4',t.commandStr);var x=!!o.normalized,w=0;"type"in o&&(I.commandParameter(o.type,me,"invalid type for attribute "+e,t.commandStr),w=me[o.type]);var k=0|o.divisor;"divisor"in o&&(I.command(0===k||S,'cannot specify divisor for attribute "'+e+'", instancing not supported',t.commandStr),I.command(k>=0,'invalid divisor for attribute "'+e+'"',t.commandStr)),I.optional(function(){var r=t.commandStr,n=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(o).forEach(function(t){I.command(n.indexOf(t)>=0,'unknown parameter "'+t+'" for attribute pointer "'+e+'" (valid parameters are '+n+")",r)})}),h.buffer=d,h.state=ci,h.size=y,h.normalized=x,h.type=w||d.dtype,h.offset=_,h.stride=v,h.divisor=k}}l[e]=la(function(e,t){var r=e.attribCache;if(c in r)return r[c];var n={isStream:!1};return Object.keys(h).forEach(function(e){n[e]=h[e]}),h.buffer&&(n.buffer=e.link(h.buffer),n.type=n.type||n.buffer+".dtype"),r[c]=n,n})}),Object.keys(o).forEach(function(e){var t=o[e];l[e]=ua(t,function(r,n){var o=r.invoke(n,t),f=r.shared,l=f.isBufferArgs,c=f.buffer;I.optional(function(){r.assert(n,o+"&&(typeof "+o+'==="object"||typeof '+o+'==="function")&&('+l+"("+o+")||"+c+".getBuffer("+o+")||"+c+".getBuffer("+o+".buffer)||"+l+"("+o+'.buffer)||("constant" in '+o+"&&(typeof "+o+'.constant==="number"||'+f.isArrayLike+"("+o+".constant))))",'invalid dynamic attribute "'+e+'"')});var h={isStream:n.def(!1)},d=new T;d.state=ci,Object.keys(d).forEach(function(e){h[e]=n.def(""+d[e])});var m=h.buffer,_=h.type;function v(e){n(h[e],"=",o,".",e,"|0;")}return n("if(",l,"(",o,")){",h.isStream,"=true;",m,"=",c,".createStream(",fn,",",o,");",_,"=",m,".dtype;","}else{",m,"=",c,".getBuffer(",o,");","if(",m,"){",_,"=",m,".dtype;",'}else if("constant" in ',o,"){",h.state,"=",hi,";","if(typeof "+o+'.constant === "number"){',h[fi[0]],"=",o,".constant;",fi.slice(1).map(function(e){return h[e]}).join("="),"=0;","}else{",fi.map(function(e,i){return h[e]+"="+o+".constant.length>"+i+"?"+o+".constant["+i+"]:0;"}).join(""),"}}else{","if(",l,"(",o,".buffer)){",m,"=",c,".createStream(",fn,",",o,".buffer);","}else{",m,"=",c,".getBuffer(",o,".buffer);","}",_,'="type" in ',o,"?",f.glTypes,"[",o,".type]:",m,".dtype;",h.normalized,"=!!",o,".normalized;"),v("size"),v("offset"),v("stride"),v("divisor"),n("}}"),n.exit("if(",h.isStream,"){",c,".destroyStream(",m,");","}"),h})}),l}(t,d),E.context=function(e){var t=e.static,r=e.dynamic,n={};return Object.keys(t).forEach(function(e){var r=t[e];n[e]=la(function(e,t){return"number"==typeof r||"boolean"==typeof r?""+r:e.link(r)})}),Object.keys(r).forEach(function(e){var t=r[e];n[e]=ua(t,function(e,r){return e.invoke(r,t)})}),n}(c),E}function X(e,t,r){var n=e.shared,o=n.context,f=e.scope();Object.keys(r).forEach(function(n){t.save(o,"."+n);var l=r[n];f(o,".",n,"=",l.append(e,t),";")}),t(f)}function Y(e,t,r,n){var o,f=e.shared,l=f.gl,c=f.framebuffer;A&&(o=t.def(f.extensions,".webgl_draw_buffers"));var h,d=e.constants,m=d.drawBuffer,_=d.backBuffer;h=r?r.append(e,t):t.def(c,".next"),n||t("if(",h,"!==",c,".cur){"),t("if(",h,"){",l,".bindFramebuffer(",$n,",",h,".framebuffer);"),A&&t(o,".drawBuffersWEBGL(",m,"[",h,".colorAttachments.length]);"),t("}else{",l,".bindFramebuffer(",$n,",null);"),A&&t(o,".drawBuffersWEBGL(",_,");"),t("}",c,".cur=",h,";"),n||t("}")}function U(e,t,r){var n=e.shared,o=n.gl,f=e.current,l=e.next,c=n.current,h=n.next,d=e.cond(c,".dirty");C.forEach(function(t){var n,m,param=F(t);if(!(param in r.state))if(param in l){n=l[param],m=f[param];var _=K(P[param].length,function(i){return d.def(n,"[",i,"]")});d(e.cond(_.map(function(p,i){return p+"!=="+m+"["+i+"]"}).join("||")).then(o,".",E[param],"(",_,");",_.map(function(p,i){return m+"["+i+"]="+p}).join(";"),";"))}else{n=d.def(h,".",param);var v=e.cond(n,"!==",c,".",param);d(v),param in D?v(e.cond(n).then(o,".enable(",D[param],");").else(o,".disable(",D[param],");"),c,".",param,"=",n,";"):v(o,".",E[param],"(",n,");",c,".",param,"=",n,";")}}),0===Object.keys(r.state).length&&d(c,".dirty=false;"),t(d)}function W(e,t,r,filter){var n=e.shared,o=e.current,f=n.current,l=n.gl;sa(Object.keys(r)).forEach(function(param){var n=r[param];if(!filter||filter(n)){var c=n.append(e,t);if(D[param]){var h=D[param];fa(n)?t(l,c?".enable(":".disable(",h,");"):t(e.cond(c).then(l,".enable(",h,");").else(l,".disable(",h,");")),t(f,".",param,"=",c,";")}else if(We(c)){var d=o[param];t(l,".",E[param],"(",c,");",c.map(function(e,i){return d+"["+i+"]="+e}).join(";"),";")}else t(l,".",E[param],"(",c,");",f,".",param,"=",c,";")}})}function H(e,t){S&&(e.instancing=t.def(e.shared.extensions,".angle_instanced_arrays"))}function G(e,t,r,n,o){var f,l,c,h=e.shared,d=e.stats,m=h.current,_=h.timer,v=r.profile;function y(){return"undefined"==typeof performance?"Date.now()":"performance.now()"}function w(e){f=t.def(),e(f,"=",y(),";"),"string"==typeof o?e(d,".count+=",o,";"):e(d,".count++;"),x&&(n?(l=t.def(),e(l,"=",_,".getNumPendingQueries();")):e(_,".beginQuery(",d,");"))}function T(e){e(d,".cpuTime+=",y(),"-",f,";"),x&&(n?e(_,".pushScopeStats(",l,",",_,".getNumPendingQueries(),",d,");"):e(_,".endQuery();"))}function k(e){var r=t.def(m,".profile");t(m,".profile=",e,";"),t.exit(m,".profile=",r,";")}if(v){if(fa(v))return void(v.enable?(w(t),T(t.exit),k("true")):k("false"));k(c=v.append(e,t))}else c=t.def(m,".profile");var S=e.block();w(S),t("if(",c,"){",S,"}");var A=e.block();T(A),t.exit("if(",c,"){",A,"}")}function Q(e,t,r,n,filter){var o=e.shared;n.forEach(function(n){var f,l=n.name,c=r.attributes[l];if(c){if(!filter(c))return;f=c.append(e,t)}else{if(!filter(ca))return;var h=e.scopeAttrib(l);I.optional(function(){e.assert(t,h+".state","missing attribute "+l)}),f={},Object.keys(new T).forEach(function(e){f[e]=t.def(h,".",e)})}!function(r,n,f){var l=o.gl,c=t.def(r,".location"),h=t.def(o.attributes,"[",c,"]"),d=f.state,m=f.buffer,_=[f.x,f.y,f.z,f.w],v=["buffer","normalized","offset","stride"];function y(){t("if(!",h,".buffer){",l,".enableVertexAttribArray(",c,");}");var r,o=f.type;if(r=f.size?t.def(f.size,"||",n):n,t("if(",h,".type!==",o,"||",h,".size!==",r,"||",v.map(function(e){return h+"."+e+"!=="+f[e]}).join("||"),"){",l,".bindBuffer(",fn,",",m,".buffer);",l,".vertexAttribPointer(",[c,r,o,f.normalized,f.stride,f.offset],");",h,".type=",o,";",h,".size=",r,";",v.map(function(e){return h+"."+e+"="+f[e]+";"}).join(""),"}"),S){var d=f.divisor;t("if(",h,".divisor!==",d,"){",e.instancing,".vertexAttribDivisorANGLE(",[c,d],");",h,".divisor=",d,";}")}}function x(){t("if(",h,".buffer){",l,".disableVertexAttribArray(",c,");","}if(",fi.map(function(e,i){return h+"."+e+"!=="+_[i]}).join("||"),"){",l,".vertexAttrib4f(",c,",",_,");",fi.map(function(e,i){return h+"."+e+"="+_[i]+";"}).join(""),"}")}d===ci?y():d===hi?x():(t("if(",d,"===",ci,"){"),y(),t("}else{"),x(),t("}"))}(e.link(n),function(e){switch(e){case wn:case An:case Dn:return 2;case Tn:case Pn:case En:return 3;case kn:case On:case Fn:return 4;default:return 1}}(n.info.type),f)})}function Z(e,t,n,o,filter){for(var f,l=e.shared,c=l.gl,i=0;i<o.length;++i){var h,d=o[i],m=d.name,_=d.info.type,v=n.uniforms[m],y=e.link(d),x=y+".location";if(v){if(!filter(v))continue;if(fa(v)){var w=v.value;if(I.command(null!=w,'missing uniform "'+m+'"',e.commandStr),_===zn||_===Ln){I.command("function"==typeof w&&(_===zn&&("texture2d"===w._reglType||"framebuffer"===w._reglType)||_===Ln&&("textureCube"===w._reglType||"framebufferCube"===w._reglType)),"invalid texture for uniform "+m,e.commandStr);var T=e.link(w._texture||w.color[0]._texture);t(c,".uniform1i(",x,",",T+".bind());"),t.exit(T,".unbind();")}else if(_===Rn||_===jn||_===Mn){I.optional(function(){I.command(We(w),"invalid matrix for uniform "+m,e.commandStr),I.command(_===Rn&&4===w.length||_===jn&&9===w.length||_===Mn&&16===w.length,"invalid length for matrix uniform "+m,e.commandStr)});var k=e.global.def("new Float32Array(["+Array.prototype.slice.call(w)+"])"),S=2;_===jn?S=3:_===Mn&&(S=4),t(c,".uniformMatrix",S,"fv(",x,",false,",k,");")}else{switch(_){case xn:I.commandType(w,"number","uniform "+m,e.commandStr),f="1f";break;case wn:I.command(We(w)&&2===w.length,"uniform "+m,e.commandStr),f="2f";break;case Tn:I.command(We(w)&&3===w.length,"uniform "+m,e.commandStr),f="3f";break;case kn:I.command(We(w)&&4===w.length,"uniform "+m,e.commandStr),f="4f";break;case Cn:I.commandType(w,"boolean","uniform "+m,e.commandStr),f="1i";break;case Sn:I.commandType(w,"number","uniform "+m,e.commandStr),f="1i";break;case Dn:case An:I.command(We(w)&&2===w.length,"uniform "+m,e.commandStr),f="2i";break;case En:case Pn:I.command(We(w)&&3===w.length,"uniform "+m,e.commandStr),f="3i";break;case Fn:case On:I.command(We(w)&&4===w.length,"uniform "+m,e.commandStr),f="4i"}t(c,".uniform",f,"(",x,",",We(w)?Array.prototype.slice.call(w):w,");")}continue}h=v.append(e,t)}else{if(!filter(ca))continue;h=t.def(l.uniforms,"[",r.id(m),"]")}_===zn?t("if(",h,"&&",h,'._reglType==="framebuffer"){',h,"=",h,".color[0];","}"):_===Ln&&t("if(",h,"&&",h,'._reglType==="framebufferCube"){',h,"=",h,".color[0];","}"),I.optional(function(){function r(r,n){e.assert(t,r,'bad data or missing for uniform "'+m+'".  '+n)}function n(e){r("typeof "+h+'==="'+e+'"',"invalid type, expected "+e)}function o(t,n){r(l.isArrayLike+"("+h+")&&"+h+".length==="+t,"invalid vector, should have length "+t,e.commandStr)}function f(t){r("typeof "+h+'==="function"&&'+h+'._reglType==="texture'+(t===un?"2d":"Cube")+'"',"invalid texture type",e.commandStr)}switch(_){case Sn:n("number");break;case An:o(2);break;case Pn:o(3);break;case On:o(4);break;case xn:n("number");break;case wn:o(2);break;case Tn:o(3);break;case kn:o(4);break;case Cn:n("boolean");break;case Dn:o(2);break;case En:o(3);break;case Fn:case Rn:o(4);break;case jn:o(9);break;case Mn:o(16);break;case zn:f(un);break;case Ln:f(cn)}});var A=1;switch(_){case zn:case Ln:var P=t.def(h,"._texture");t(c,".uniform1i(",x,",",P,".bind());"),t.exit(P,".unbind();");continue;case Sn:case Cn:f="1i";break;case An:case Dn:f="2i",A=2;break;case Pn:case En:f="3i",A=3;break;case On:case Fn:f="4i",A=4;break;case xn:f="1f";break;case wn:f="2f",A=2;break;case Tn:f="3f",A=3;break;case kn:f="4f",A=4;break;case Rn:f="Matrix2fv";break;case jn:f="Matrix3fv";break;case Mn:f="Matrix4fv"}if(t(c,".uniform",f,"(",x,","),"M"===f.charAt(0)){var O=Math.pow(_-Rn+2,2),C=e.global.def("new Float32Array(",O,")");t("false,(Array.isArray(",h,")||",h," instanceof Float32Array)?",h,":(",K(O,function(i){return C+"["+i+"]="+h+"["+i+"]"}),",",C,")")}else t(A>1?K(A,function(i){return h+"["+i+"]"}):h);t(");")}}function $(e,t,r,n){var o=e.shared,f=o.gl,l=o.draw,c=n.draw,h=function(){var o,h=c.elements,d=t;return h?((h.contextDep&&n.contextDynamic||h.propDep)&&(d=r),o=h.append(e,d)):o=d.def(l,".",Qi),o&&d("if("+o+")"+f+".bindBuffer("+ln+","+o+".buffer.buffer);"),o}();function d(o){var f=c[o];return f?f.contextDep&&n.contextDynamic||f.propDep?f.append(e,r):f.append(e,t):t.def(l,".",o)}var m,_,v=d(Zi),y=d(Ki),x=function(){var o,f=c.count,h=t;return f?((f.contextDep&&n.contextDynamic||f.propDep)&&(h=r),o=f.append(e,h),I.optional(function(){f.MISSING&&e.assert(t,"false","missing vertex count"),f.DYNAMIC&&e.assert(h,o+">=0","missing vertex count")})):(o=h.def(l,".",$i),I.optional(function(){e.assert(h,o+">=0","missing vertex count")})),o}();if("number"==typeof x){if(0===x)return}else r("if(",x,"){"),r.exit("}");S&&(m=d(Ji),_=e.instancing);var w=h+".type",T=c.elements&&fa(c.elements);function k(){function e(){r(_,".drawElementsInstancedANGLE(",[v,x,w,y+"<<(("+w+"-"+ui+")>>1)",m],");")}function t(){r(_,".drawArraysInstancedANGLE(",[v,y,x,m],");")}h?T?e():(r("if(",h,"){"),e(),r("}else{"),t(),r("}")):t()}function A(){function e(){r(f+".drawElements("+[v,x,w,y+"<<(("+w+"-"+ui+")>>1)"]+");")}function t(){r(f+".drawArrays("+[v,y,x]+");")}h?T?e():(r("if(",h,"){"),e(),r("}else{"),t(),r("}")):t()}S&&("number"!=typeof m||m>=0)?"string"==typeof m?(r("if(",m,">0){"),k(),r("}else if(",m,"<0){"),A(),r("}")):k():A()}function J(e,t,r,n,o){var f=B(),l=f.proc("body",o);return I.optional(function(){f.commandStr=t.commandStr,f.command=f.link(t.commandStr)}),S&&(f.instancing=l.def(f.shared.extensions,".angle_instanced_arrays")),e(f,l,r,n),f.compile().body}function ee(e,t,r,n){H(e,t),Q(e,t,r,n.attributes,function(){return!0}),Z(e,t,r,n.uniforms,function(){return!0}),$(e,t,t,r)}function te(e,t,r,n){function o(){return!0}e.batchId="a1",H(e,t),Q(e,t,r,n.attributes,o),Z(e,t,r,n.uniforms,o),$(e,t,t,r)}function re(e,t,r,n){H(e,t);var o=r.contextDep,f=t.def(),l=t.def();e.shared.props=l,e.batchId=f;var c=e.scope(),h=e.scope();function d(e){return e.contextDep&&o||e.propDep}function m(e){return!d(e)}if(t(c.entry,"for(",f,"=0;",f,"<","a1",";++",f,"){",l,"=","a0","[",f,"];",h,"}",c.exit),r.needsContext&&X(e,h,r.context),r.needsFramebuffer&&Y(e,h,r.framebuffer),W(e,h,r.state,d),r.profile&&d(r.profile)&&G(e,h,r,!1,!0),n)Q(e,c,r,n.attributes,m),Q(e,h,r,n.attributes,d),Z(e,c,r,n.uniforms,m),Z(e,h,r,n.uniforms,d),$(e,c,h,r);else{var _=e.global.def("{}"),v=r.shader.progVar.append(e,h),y=h.def(v,".id"),x=h.def(_,"[",y,"]");h(e.shared.gl,".useProgram(",v,".program);","if(!",x,"){",x,"=",_,"[",y,"]=",e.link(function(t){return J(te,e,r,t,2)}),"(",v,");}",x,".call(this,a0[",f,"],",f,");")}}function ie(e,t,r){var object=t.static[r];if(object&&function(object){if("object"==typeof object&&!We(object)){for(var e=Object.keys(object),i=0;i<e.length;++i)if(V.isDynamic(object[e[i]]))return!0;return!1}}(object)){var n=e.global,o=Object.keys(object),f=!1,l=!1,c=!1,h=e.global.def("{}");o.forEach(function(t){var r=object[t];if(V.isDynamic(r)){"function"==typeof r&&(r=object[t]=V.unbox(r));var o=ua(r,null);f=f||o.thisDep,c=c||o.propDep,l=l||o.contextDep}else{switch(n(h,".",t,"="),typeof r){case"number":n(r);break;case"string":n('"',r,'"');break;case"object":Array.isArray(r)&&n("[",r.join(),"]");break;default:n(e.link(r))}n(";")}}),t.dynamic[r]=new V.DynamicVariable(_i,{thisDep:f,contextDep:l,propDep:c,ref:h,append:function(e,t){o.forEach(function(r){var n=object[r];if(V.isDynamic(n)){var o=e.invoke(t,n);t(h,".",r,"=",o,";")}})}}),delete t.static[r]}}return{next:O,current:P,procs:function(){var e=B(),t=e.proc("poll"),r=e.proc("refresh"),n=e.block();t(n),r(n);var f,l=e.shared,c=l.gl,h=l.next,d=l.current;n(d,".dirty=false;"),Y(e,t),Y(e,r,null,!0),S&&(f=e.link(S));for(var i=0;i<o.maxAttributes;++i){var m=r.def(l.attributes,"[",i,"]"),_=e.cond(m,".buffer");_.then(c,".enableVertexAttribArray(",i,");",c,".bindBuffer(",fn,",",m,".buffer.buffer);",c,".vertexAttribPointer(",i,",",m,".size,",m,".type,",m,".normalized,",m,".stride,",m,".offset);").else(c,".disableVertexAttribArray(",i,");",c,".vertexAttrib4f(",i,",",m,".x,",m,".y,",m,".z,",m,".w);",m,".buffer=null;"),r(_),S&&r(f,".vertexAttribDivisorANGLE(",i,",",m,".divisor);")}return Object.keys(D).forEach(function(o){var f=D[o],l=n.def(h,".",o),m=e.block();m("if(",l,"){",c,".enable(",f,")}else{",c,".disable(",f,")}",d,".",o,"=",l,";"),r(m),t("if(",l,"!==",d,".",o,"){",m,"}")}),Object.keys(E).forEach(function(o){var f,l,m=E[o],_=P[o],v=e.block();if(v(c,".",m,"("),We(_)){var y=_.length;f=e.global.def(h,".",o),l=e.global.def(d,".",o),v(K(y,function(i){return f+"["+i+"]"}),");",K(y,function(i){return l+"["+i+"]="+f+"["+i+"];"}).join("")),t("if(",K(y,function(i){return f+"["+i+"]!=="+l+"["+i+"]"}).join("||"),"){",v,"}")}else f=n.def(h,".",o),l=n.def(d,".",o),v(f,");",d,".",o,"=",f,";"),t("if(",f,"!==",l,"){",v,"}");r(v)}),e.compile()}(),compile:function(e,t,n,o,f){var l=B();l.stats=l.link(f),Object.keys(t.static).forEach(function(e){ie(l,t,e)}),on.forEach(function(t){ie(l,e,t)});var c=N(e,t,n,o,l);return function(e,t){var r=e.proc("draw",1);H(e,r),X(e,r,t.context),Y(e,r,t.framebuffer),U(e,r,t),W(e,r,t.state),G(e,r,t,!1,!0);var n=t.shader.progVar.append(e,r);if(r(e.shared.gl,".useProgram(",n,".program);"),t.shader.program)ee(e,r,t,t.shader.program);else{var o=e.global.def("{}"),f=r.def(n,".id"),l=r.def(o,"[",f,"]");r(e.cond(l).then(l,".call(this,a0);").else(l,"=",o,"[",f,"]=",e.link(function(r){return J(ee,e,t,r,1)}),"(",n,");",l,".call(this,a0);"))}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;")}(l,c),function(e,t){var n=e.proc("scope",3);e.batchId="a2";var o=e.shared,f=o.current;function l(r){var f=t.shader[r];f&&n.set(o.shader,"."+r,f.append(e,n))}X(e,n,t.context),t.framebuffer&&t.framebuffer.append(e,n),sa(Object.keys(t.state)).forEach(function(r){var f=t.state[r].append(e,n);We(f)?f.forEach(function(t,i){n.set(e.next[r],"["+i+"]",t)}):n.set(o.next,"."+r,f)}),G(e,n,t,!0,!0),[Qi,Ki,$i,Ji,Zi].forEach(function(r){var f=t.draw[r];f&&n.set(o.draw,"."+r,""+f.append(e,n))}),Object.keys(t.uniforms).forEach(function(f){n.set(o.uniforms,"["+r.id(f)+"]",t.uniforms[f].append(e,n))}),Object.keys(t.attributes).forEach(function(r){var o=t.attributes[r].append(e,n),f=e.scopeAttrib(r);Object.keys(new T).forEach(function(e){n.set(f,"."+e,o[e])})}),l(qi),l(Gi),Object.keys(t.state).length>0&&(n(f,".dirty=true;"),n.exit(f,".dirty=true;")),n("a1(",e.shared.context,",a0,",e.batchId,");")}(l,c),function(e,t){var r=e.proc("batch",2);e.batchId="0",H(e,r);var n=!1,o=!0;Object.keys(t.context).forEach(function(e){n=n||t.context[e].propDep}),n||(X(e,r,t.context),o=!1);var f=t.framebuffer,l=!1;function c(e){return e.contextDep&&n||e.propDep}f?(f.propDep?n=l=!0:f.contextDep&&n&&(l=!0),l||Y(e,r,f)):Y(e,r,null),t.state.viewport&&t.state.viewport.propDep&&(n=!0),U(e,r,t),W(e,r,t.state,function(e){return!c(e)}),t.profile&&c(t.profile)||G(e,r,t,!1,"a1"),t.contextDep=n,t.needsContext=o,t.needsFramebuffer=l;var h=t.shader.progVar;if(h.contextDep&&n||h.propDep)re(e,r,t,null);else{var d=h.append(e,r);if(r(e.shared.gl,".useProgram(",d,".program);"),t.shader.program)re(e,r,t,t.shader.program);else{var m=e.global.def("{}"),_=r.def(d,".id"),v=r.def(m,"[",_,"]");r(e.cond(v).then(v,".call(this,a0,a1);").else(v,"=",m,"[",_,"]=",e.link(function(r){return J(re,e,t,r,2)}),"(",d,");",v,".call(this,a0,a1);"))}}Object.keys(t.state).length>0&&r(e.shared.current,".dirty=true;")}(l,c),l.compile()}}}var pa=34918,da=34919,ma=35007,ga=function(e,t){if(!t.ext_disjoint_timer_query)return null;var r=[];function n(e){r.push(e)}var o=[];function f(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var l=[];function c(e){l.push(e)}var h=[];function d(e,t,r){var n=l.pop()||new f;n.startQueryIndex=e,n.endQueryIndex=t,n.sum=0,n.stats=r,h.push(n)}var m=[],_=[];return{beginQuery:function(e){var n=r.pop()||t.ext_disjoint_timer_query.createQueryEXT();t.ext_disjoint_timer_query.beginQueryEXT(ma,n),o.push(n),d(o.length-1,o.length,e)},endQuery:function(){t.ext_disjoint_timer_query.endQueryEXT(ma)},pushScopeStats:d,update:function(){var e,i,r=o.length;if(0!==r){_.length=Math.max(_.length,r+1),m.length=Math.max(m.length,r+1),m[0]=0,_[0]=0;var f=0;for(e=0,i=0;i<o.length;++i){var l=o[i];t.ext_disjoint_timer_query.getQueryObjectEXT(l,da)?(f+=t.ext_disjoint_timer_query.getQueryObjectEXT(l,pa),n(l)):o[e++]=l,m[i+1]=f,_[i+1]=e}for(o.length=e,e=0,i=0;i<h.length;++i){var d=h[i],v=d.startQueryIndex,y=d.endQueryIndex;d.sum+=m[y]-m[v];var x=_[v],w=_[y];w===x?(d.stats.gpuTime+=d.sum/1e6,c(d)):(d.startQueryIndex=x,d.endQueryIndex=w,h[e++]=d)}h.length=e}},getNumPendingQueries:function(){return o.length},clear:function(){r.push.apply(r,o);for(var i=0;i<r.length;i++)t.ext_disjoint_timer_query.deleteQueryEXT(r[i]);o.length=0,r.length=0},restore:function(){o.length=0,r.length=0}}},_a=16384,va=256,ba=1024,ya=34962,xa="webglcontextlost",wa="webglcontextrestored",Ta=1,ka=2,Sa=3;function Aa(e,t){for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}return function(r){var n=$(r);if(!n)return null;var o=n.gl,f=o.getContextAttributes(),l=o.isContextLost(),c=function(e,t){var r={};function n(t){I.type(t,"string","extension name must be string");var n,o=t.toLowerCase();try{n=r[o]=e.getExtension(o)}catch(e){}return!!n}for(var i=0;i<t.extensions.length;++i){var o=t.extensions[i];if(!n(o))return t.onDestroy(),t.onDone('"'+o+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return t.optionalExtensions.forEach(n),{extensions:r,restore:function(){Object.keys(r).forEach(function(e){if(r[e]&&!n(e))throw new Error("(regl): error restoring extension "+e)})}}}(o,n);if(!c)return null;var h,d,m=(h={"":0},d=[""],{id:function(e){var t=h[e];return t||(t=h[e]=d.length,d.push(e),t)},str:function(e){return d[e]}}),_={bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},v=c.extensions,y=ga(o,v),x=G(),w=o.drawingBufferWidth,T=o.drawingBufferHeight,k={tick:0,time:0,viewportWidth:w,viewportHeight:T,framebufferWidth:w,framebufferHeight:T,drawingBufferWidth:w,drawingBufferHeight:T,pixelRatio:n.pixelRatio},S=le(o,v),A=function(e,t,r,n){for(var o=r.maxAttributes,f=new Array(o),i=0;i<o;++i)f[i]=new Zr;return{Record:Zr,scope:{},state:f}}(0,0,S),P=function(t,r,n,o){var f=0,l={};function c(e){this.id=f++,this.buffer=t.createBuffer(),this.type=e,this.usage=be,this.byteLength=0,this.dimension=1,this.dtype=xe,this.persistentData=null,n.profile&&(this.stats={size:0})}c.prototype.bind=function(){t.bindBuffer(this.type,this.buffer)},c.prototype.destroy=function(){_(this)};var h=[];function d(e,data,r){e.byteLength=data.byteLength,t.bufferData(e.type,data,r)}function m(t,data,r,n,o,f){var l,c;if(t.usage=r,Array.isArray(data)){if(t.dtype=n||we,data.length>0)if(Array.isArray(data[0])){l=ve(data);for(var h=1,i=1;i<l.length;++i)h*=l[i];t.dimension=h,c=_e(data,l,t.dtype),d(t,c,r),f?t.persistentData=c:fe.freeType(c)}else if("number"==typeof data[0]){t.dimension=o;var m=fe.allocType(t.dtype,data.length);Se(m,data),d(t,m,r),f?t.persistentData=m:fe.freeType(m)}else e(data[0])?(t.dimension=data[0].length,t.dtype=n||ke(data[0])||we,c=_e(data,[data.length,data[0].length],t.dtype),d(t,c,r),f?t.persistentData=c:fe.freeType(c)):I.raise("invalid buffer data")}else if(e(data))t.dtype=n||ke(data),t.dimension=o,d(t,data,r),f&&(t.persistentData=new Uint8Array(new Uint8Array(data.buffer)));else if(ue(data)){l=data.shape;var _=data.stride,v=data.offset,y=0,x=0,w=0,T=0;1===l.length?(y=l[0],x=1,w=_[0],T=0):2===l.length?(y=l[0],x=l[1],w=_[0],T=_[1]):I.raise("invalid shape"),t.dtype=n||ke(data.data)||we,t.dimension=x;var k=fe.allocType(t.dtype,y*x);Ae(k,data.data,y,x,w,T,v),d(t,k,r),f?t.persistentData=k:fe.freeType(k)}else I.raise("invalid buffer data")}function _(e){r.bufferCount--;for(var i=0;i<o.state.length;++i){var n=o.state[i];n.buffer===e&&(t.disableVertexAttribArray(i),n.buffer=null)}var f=e.buffer;I(f,"buffer must not be deleted already"),t.deleteBuffer(f),e.buffer=null,delete l[e.id]}return n.profile&&(r.getTotalBufferSize=function(){var e=0;return Object.keys(l).forEach(function(t){e+=l[t].stats.size}),e}),{create:function(o,f,h,d){r.bufferCount++;var v=new c(f);function y(r){var o=be,data=null,f=0,l=0,c=1;return Array.isArray(r)||e(r)||ue(r)?data=r:"number"==typeof r?f=0|r:r&&(I.type(r,"object","buffer arguments must be an object, a number or an array"),"data"in r&&(I(null===data||Array.isArray(data)||e(data)||ue(data),"invalid data for buffer"),data=r.data),"usage"in r&&(I.parameter(r.usage,ge,"invalid buffer usage"),o=ge[r.usage]),"type"in r&&(I.parameter(r.type,me,"invalid buffer type"),l=me[r.type]),"dimension"in r&&(I.type(r.dimension,"number","invalid dimension"),c=0|r.dimension),"length"in r&&(I.nni(f,"buffer length must be a nonnegative integer"),f=0|r.length)),v.bind(),data?m(v,data,o,l,c,d):(f&&t.bufferData(v.type,f,o),v.dtype=l||xe,v.usage=o,v.dimension=c,v.byteLength=f),n.profile&&(v.stats.size=v.byteLength*Te[v.dtype]),y}function x(data,e){I(e+data.byteLength<=v.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+data.byteLength+" starting from offset "+e+" to a buffer of size "+v.byteLength),t.bufferSubData(v.type,e,data)}return l[v.id]=v,h||y(o),y._reglType="buffer",y._buffer=v,y.subdata=function(data,t){var r,n=0|(t||0);if(v.bind(),e(data))x(data,n);else if(Array.isArray(data)){if(data.length>0)if("number"==typeof data[0]){var o=fe.allocType(v.dtype,data.length);Se(o,data),x(o,n),fe.freeType(o)}else if(Array.isArray(data[0])||e(data[0])){r=ve(data);var f=_e(data,r,v.dtype);x(f,n),fe.freeType(f)}else I.raise("invalid buffer data")}else if(ue(data)){r=data.shape;var l=data.stride,c=0,h=0,d=0,m=0;1===r.length?(c=r[0],h=1,d=l[0],m=0):2===r.length?(c=r[0],h=r[1],d=l[0],m=l[1]):I.raise("invalid shape");var _=Array.isArray(data.data)?v.dtype:ke(data.data),w=fe.allocType(_,c*h);Ae(w,data.data,c,h,d,m,data.offset),x(w,n),fe.freeType(w)}else I.raise("invalid data for buffer subdata");return y},n.profile&&(y.stats=v.stats),y.destroy=function(){_(v)},y},createStream:function(e,data){var t=h.pop();return t||(t=new c(e)),t.bind(),m(t,data,ye,0,1,!1),t},destroyStream:function(e){h.push(e)},clear:function(){ce(l).forEach(_),h.forEach(_)},getBuffer:function(e){return e&&e._buffer instanceof c?e._buffer:null},restore:function(){ce(l).forEach(function(e){e.buffer=t.createBuffer(),t.bindBuffer(e.type,e.buffer),t.bufferData(e.type,e.persistentData||e.byteLength,e.usage)})},_initBuffer:m}}(o,_,n,A),O=function(t,r,n,o){var f={},l=0,c={uint8:Fe,uint16:je};function h(e){this.id=l++,f[this.id]=this,this.buffer=e,this.primType=De,this.vertCount=0,this.type=0}r.oes_element_index_uint&&(c.uint32=ze),h.prototype.bind=function(){this.buffer.bind()};var d=[];function m(o,data,f,l,c,h,d){if(o.buffer.bind(),data){var m=d;d||e(data)&&(!ue(data)||e(data.data))||(m=r.oes_element_index_uint?ze:je),n._initBuffer(o.buffer,data,f,m,3)}else t.bufferData(Le,h,f),o.buffer.dtype=_||Fe,o.buffer.usage=f,o.buffer.dimension=3,o.buffer.byteLength=h;var _=d;if(!d){switch(o.buffer.dtype){case Fe:case Ee:_=Fe;break;case je:case Re:_=je;break;case ze:case Me:_=ze;break;default:I.raise("unsupported type for element array")}o.buffer.dtype=_}o.type=_,I(_!==ze||!!r.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var v=c;v<0&&(v=o.buffer.byteLength,_===je?v>>=1:_===ze&&(v>>=2)),o.vertCount=v;var y=l;if(l<0){y=De;var x=o.buffer.dimension;1===x&&(y=Oe),2===x&&(y=Ce),3===x&&(y=De)}o.primType=y}function _(e){o.elementsCount--,I(null!==e.buffer,"must not double destroy elements"),delete f[e.id],e.buffer.destroy(),e.buffer=null}return{create:function(t,r){var f=n.create(null,Le,!0),l=new h(f._buffer);function d(t){if(t)if("number"==typeof t)f(t),l.primType=De,l.vertCount=0|t,l.type=Fe;else{var data=null,r=Ie,n=-1,o=-1,h=0,_=0;Array.isArray(t)||e(t)||ue(t)?data=t:(I.type(t,"object","invalid arguments for elements"),"data"in t&&(data=t.data,I(Array.isArray(data)||e(data)||ue(data),"invalid data for element buffer")),"usage"in t&&(I.parameter(t.usage,ge,"invalid element buffer usage"),r=ge[t.usage]),"primitive"in t&&(I.parameter(t.primitive,Pe,"invalid element buffer primitive"),n=Pe[t.primitive]),"count"in t&&(I("number"==typeof t.count&&t.count>=0,"invalid vertex count for elements"),o=0|t.count),"type"in t&&(I.parameter(t.type,c,"invalid buffer type"),_=c[t.type]),"length"in t?h=0|t.length:(h=o,_===je||_===Re?h*=2:_!==ze&&_!==Me||(h*=4))),m(l,data,r,n,o,h,_)}else f(),l.primType=De,l.vertCount=0,l.type=Fe;return d}return o.elementsCount++,d(t),d._reglType="elements",d._elements=l,d.subdata=function(data,e){return f.subdata(data,e),d},d.destroy=function(){_(l)},d},createStream:function(data){var e=d.pop();return e||(e=new h(n.create(null,Le,!0,!1)._buffer)),m(e,data,Be,-1,-1,0,0),e},destroyStream:function(e){d.push(e)},getElements:function(e){return"function"==typeof e&&e._elements instanceof h?e._elements:null},clear:function(){ce(f).forEach(_)}}}(o,v,P,_),C=function(e,t,r,n){var o={},f={};function l(e,t,r,n){this.name=e,this.id=t,this.location=r,this.info=n}function c(e,t){for(var i=0;i<e.length;++i)if(e[i].id===t.id)return void(e[i].location=t.location);e.push(t)}function h(r,n,l){var c=r===$r?o:f,h=c[n];if(!h){var source=t.str(n);h=e.createShader(r),e.shaderSource(h,source),e.compileShader(h),I.shaderError(e,h,source,r,l),c[n]=h}return h}var d={},m=[],_=0;function v(e,t){this.id=_++,this.fragId=e,this.vertId=t,this.program=null,this.uniforms=[],this.attributes=[],n.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function y(desc,r){var i,o,f=h($r,desc.fragId),d=h(Kr,desc.vertId),m=desc.program=e.createProgram();e.attachShader(m,f),e.attachShader(m,d),e.linkProgram(m),I.linkError(e,m,t.str(desc.fragId),t.str(desc.vertId),r);var _=e.getProgramParameter(m,Jr);n.profile&&(desc.stats.uniformsCount=_);var v=desc.uniforms;for(i=0;i<_;++i)if(o=e.getActiveUniform(m,i))if(o.size>1)for(var y=0;y<o.size;++y){var x=o.name.replace("[0]","["+y+"]");c(v,new l(x,t.id(x),e.getUniformLocation(m,x),o))}else c(v,new l(o.name,t.id(o.name),e.getUniformLocation(m,o.name),o));var w=e.getProgramParameter(m,ei);n.profile&&(desc.stats.attributesCount=w);var T=desc.attributes;for(i=0;i<w;++i)(o=e.getActiveAttrib(m,i))&&c(T,new l(o.name,t.id(o.name),e.getAttribLocation(m,o.name),o))}return n.profile&&(r.getMaxUniformsCount=function(){var e=0;return m.forEach(function(desc){desc.stats.uniformsCount>e&&(e=desc.stats.uniformsCount)}),e},r.getMaxAttributesCount=function(){var e=0;return m.forEach(function(desc){desc.stats.attributesCount>e&&(e=desc.stats.attributesCount)}),e}),{clear:function(){var t=e.deleteShader.bind(e);ce(o).forEach(t),o={},ce(f).forEach(t),f={},m.forEach(function(desc){e.deleteProgram(desc.program)}),m.length=0,d={},r.shaderCount=0},program:function(e,t,n){I.command(e>=0,"missing vertex shader",n),I.command(t>=0,"missing fragment shader",n);var o=d[t];o||(o=d[t]={});var f=o[e];return f||(f=new v(t,e),r.shaderCount++,y(f,n),o[e]=f,m.push(f)),f},restore:function(){o={},f={};for(var i=0;i<m.length;++i)y(m[i])},shader:h,frag:-1,vert:-1}}(o,m,_,n),D=Sr(o,v,S,function(){R.procs.poll()},k,_,n),E=Dr(o,v,S,_,n),F=function(e,r,n,o,f,l){var c={cur:null,next:null,dirty:!1,setFBO:null},h=["rgba"],d=["rgba4","rgb565","rgb5 a1"];r.ext_srgb&&d.push("srgba"),r.ext_color_buffer_half_float&&d.push("rgba16f","rgb16f"),r.webgl_color_buffer_float&&d.push("rgba32f");var m=["uint8"];function _(e,t,r){this.target=e,this.texture=t,this.renderbuffer=r;var n=0,o=0;t?(n=t.width,o=t.height):r&&(n=r.width,o=r.height),this.width=n,this.height=o}function v(e){e&&(e.texture&&e.texture._texture.decRef(),e.renderbuffer&&e.renderbuffer._renderbuffer.decRef())}function y(e,t,r){if(e)if(e.texture){var n=e.texture._texture,o=Math.max(1,n.width),th=Math.max(1,n.height);I(o===t&&th===r,"inconsistent width/height for supplied texture"),n.refCount+=1}else{var f=e.renderbuffer._renderbuffer;I(f.width===t&&f.height===r,"inconsistent width/height for renderbuffer"),f.refCount+=1}}function x(t,r){r&&(r.texture?e.framebufferTexture2D(Er,t,r.target,r.texture._texture.texture,0):e.framebufferRenderbuffer(Er,t,Fr,r.renderbuffer._renderbuffer.renderbuffer))}function w(e){var t=Rr,r=null,n=null,data=e;"object"==typeof e&&(data=e.data,"target"in e&&(t=0|e.target)),I.type(data,"function","invalid attachment data");var o=data._reglType;return"texture2d"===o?(r=data,I(t===Rr)):"textureCube"===o?(r=data,I(t>=jr&&t<jr+6,"invalid cube map target")):"renderbuffer"===o?(n=data,t=Fr):I.raise("invalid regl object for attachment"),new _(t,r,n)}function T(e,t,r,n,l){if(r){var c=o.create2D({width:e,height:t,format:n,type:l});return c._texture.refCount=0,new _(Rr,c,null)}var h=f.create({width:e,height:t,format:n});return h._renderbuffer.refCount=0,new _(Fr,null,h)}function k(e){return e&&(e.texture||e.renderbuffer)}function S(e,t,r){e&&(e.texture?e.texture.resize(t,r):e.renderbuffer&&e.renderbuffer.resize(t,r),e.width=t,e.height=r)}r.oes_texture_half_float&&m.push("half float","float16"),r.oes_texture_float&&m.push("float","float32");var A=0,P={};function O(){this.id=A++,P[this.id]=this,this.framebuffer=e.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function C(e){e.colorAttachments.forEach(v),v(e.depthAttachment),v(e.stencilAttachment),v(e.depthStencilAttachment)}function D(t){var r=t.framebuffer;I(r,"must not double destroy framebuffer"),e.deleteFramebuffer(r),t.framebuffer=null,l.framebufferCount--,delete P[t.id]}function E(t){var i;e.bindFramebuffer(Er,t.framebuffer);var r=t.colorAttachments;for(i=0;i<r.length;++i)x(Mr+i,r[i]);for(i=r.length;i<n.maxColorAttachments;++i)e.framebufferTexture2D(Er,Mr+i,Rr,null,0);e.framebufferTexture2D(Er,Br,Rr,null,0),e.framebufferTexture2D(Er,zr,Rr,null,0),e.framebufferTexture2D(Er,Lr,Rr,null,0),x(zr,t.depthAttachment),x(Lr,t.stencilAttachment),x(Br,t.depthStencilAttachment);var o=e.checkFramebufferStatus(Er);e.isContextLost()||o===Ir||I.raise("framebuffer configuration not supported, status = "+Gr[o]),e.bindFramebuffer(Er,c.next?c.next.framebuffer:null),c.cur=c.next,e.getError()}function F(e,o){var f=new O;function _(a,b){var i;I(c.next!==f,"can not update framebuffer which is currently in use");var e=0,t=0,o=!0,l=!0,v=null,x=!0,S="rgba",A="uint8",P=1,O=null,D=null,F=null,R=!1;if("number"==typeof a)e=0|a,t=0|b||e;else if(a){I.type(a,"object","invalid arguments for framebuffer");var j=a;if("shape"in j){var M=j.shape;I(Array.isArray(M)&&M.length>=2,"invalid shape for framebuffer"),e=M[0],t=M[1]}else"radius"in j&&(e=t=j.radius),"width"in j&&(e=j.width),"height"in j&&(t=j.height);("color"in j||"colors"in j)&&(v=j.color||j.colors,Array.isArray(v)&&I(1===v.length||r.webgl_draw_buffers,"multiple render targets not supported")),v||("colorCount"in j&&(P=0|j.colorCount,I(P>0,"invalid color buffer count")),"colorTexture"in j&&(x=!!j.colorTexture,S="rgba4"),"colorType"in j&&(A=j.colorType,x?(I(r.oes_texture_float||!("float"===A||"float32"===A),"you must enable OES_texture_float in order to use floating point framebuffer objects"),I(r.oes_texture_half_float||!("half float"===A||"float16"===A),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):"half float"===A||"float16"===A?(I(r.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),S="rgba16f"):"float"!==A&&"float32"!==A||(I(r.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),S="rgba32f"),I.oneOf(A,m,"invalid color type")),"colorFormat"in j&&(S=j.colorFormat,h.indexOf(S)>=0?x=!0:d.indexOf(S)>=0?x=!1:x?I.oneOf(j.colorFormat,h,"invalid color format for texture"):I.oneOf(j.colorFormat,d,"invalid color format for renderbuffer"))),("depthTexture"in j||"depthStencilTexture"in j)&&(R=!(!j.depthTexture&&!j.depthStencilTexture),I(!R||r.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in j&&("boolean"==typeof j.depth?o=j.depth:(O=j.depth,l=!1)),"stencil"in j&&("boolean"==typeof j.stencil?l=j.stencil:(D=j.stencil,o=!1)),"depthStencil"in j&&("boolean"==typeof j.depthStencil?o=l=j.depthStencil:(F=j.depthStencil,o=!1,l=!1))}else e=t=1;var z=null,L=null,B=null,N=null;if(Array.isArray(v))z=v.map(w);else if(v)z=[w(v)];else for(z=new Array(P),i=0;i<P;++i)z[i]=T(e,t,x,S,A);I(r.webgl_draw_buffers||z.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),I(z.length<=n.maxColorAttachments,"too many color attachments, not supported"),e=e||z[0].width,t=t||z[0].height,O?L=w(O):o&&!l&&(L=T(e,t,R,"depth","uint32")),D?B=w(D):l&&!o&&(B=T(e,t,!1,"stencil","uint8")),F?N=w(F):!O&&!D&&l&&o&&(N=T(e,t,R,"depth stencil","depth stencil")),I(!!O+!!D+!!F<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var X=null;for(i=0;i<z.length;++i)if(y(z[i],e,t),I(!z[i]||z[i].texture&&Xr.indexOf(z[i].texture._texture.format)>=0||z[i].renderbuffer&&qr.indexOf(z[i].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+i+" is invalid"),z[i]&&z[i].texture){var Y=Yr[z[i].texture._texture.format]*Ur[z[i].texture._texture.type];null===X?X=Y:I(X===Y,"all color attachments much have the same number of bits per pixel.")}return y(L,e,t),I(!L||L.texture&&L.texture._texture.format===Nr||L.renderbuffer&&L.renderbuffer._renderbuffer.format===Wr,"invalid depth attachment for framebuffer object"),y(B,e,t),I(!B||B.renderbuffer&&B.renderbuffer._renderbuffer.format===Vr,"invalid stencil attachment for framebuffer object"),y(N,e,t),I(!N||N.texture&&N.texture._texture.format===Hr||N.renderbuffer&&N.renderbuffer._renderbuffer.format===Hr,"invalid depth-stencil attachment for framebuffer object"),C(f),f.width=e,f.height=t,f.colorAttachments=z,f.depthAttachment=L,f.stencilAttachment=B,f.depthStencilAttachment=N,_.color=z.map(k),_.depth=k(L),_.stencil=k(B),_.depthStencil=k(N),_.width=f.width,_.height=f.height,E(f),_}return l.framebufferCount++,_(e,o),t(_,{resize:function(e,t){I(c.next!==f,"can not resize a framebuffer which is currently in use");var r=Math.max(0|e,1),n=Math.max(0|t||r,1);if(r===f.width&&n===f.height)return _;for(var o=f.colorAttachments,i=0;i<o.length;++i)S(o[i],r,n);return S(f.depthAttachment,r,n),S(f.stencilAttachment,r,n),S(f.depthStencilAttachment,r,n),f.width=_.width=r,f.height=_.height=n,E(f),_},_reglType:"framebuffer",_framebuffer:f,destroy:function(){D(f),C(f)},use:function(e){c.setFBO({framebuffer:_},e)}})}return t(c,{getFramebuffer:function(object){if("function"==typeof object&&"framebuffer"===object._reglType){var e=object._framebuffer;if(e instanceof O)return e}return null},create:F,createCube:function(e){var f=Array(6);function l(a){var i;I(f.indexOf(c.next)<0,"can not update framebuffer which is currently in use");var e,n={color:null},d=0,_=null,v="rgba",y="uint8",x=1;if("number"==typeof a)d=0|a;else if(a){I.type(a,"object","invalid arguments for framebuffer");var w=a;if("shape"in w){var T=w.shape;I(Array.isArray(T)&&T.length>=2,"invalid shape for framebuffer"),I(T[0]===T[1],"cube framebuffer must be square"),d=T[0]}else"radius"in w&&(d=0|w.radius),"width"in w?(d=0|w.width,"height"in w&&I(w.height===d,"must be square")):"height"in w&&(d=0|w.height);("color"in w||"colors"in w)&&(_=w.color||w.colors,Array.isArray(_)&&I(1===_.length||r.webgl_draw_buffers,"multiple render targets not supported")),_||("colorCount"in w&&(x=0|w.colorCount,I(x>0,"invalid color buffer count")),"colorType"in w&&(I.oneOf(w.colorType,m,"invalid color type"),y=w.colorType),"colorFormat"in w&&(v=w.colorFormat,I.oneOf(w.colorFormat,h,"invalid color format for texture"))),"depth"in w&&(n.depth=w.depth),"stencil"in w&&(n.stencil=w.stencil),"depthStencil"in w&&(n.depthStencil=w.depthStencil)}else d=1;if(_)if(Array.isArray(_))for(e=[],i=0;i<_.length;++i)e[i]=_[i];else e=[_];else{e=Array(x);var k={radius:d,format:v,type:y};for(i=0;i<x;++i)e[i]=o.createCube(k)}for(n.color=Array(e.length),i=0;i<e.length;++i){var S=e[i];I("function"==typeof S&&"textureCube"===S._reglType,"invalid cube map"),d=d||S.width,I(S.width===d&&S.height===d,"invalid cube map shape"),n.color[i]={target:jr,data:e[i]}}for(i=0;i<6;++i){for(var A=0;A<e.length;++A)n.color[A].target=jr+i;i>0&&(n.depth=f[0].depth,n.stencil=f[0].stencil,n.depthStencil=f[0].depthStencil),f[i]?f[i](n):f[i]=F(n)}return t(l,{width:d,height:d,color:e})}return l(e),t(l,{faces:f,resize:function(e){var i,t=0|e;if(I(t>0&&t<=n.maxCubeMapSize,"invalid radius for cube fbo"),t===l.width)return l;var r=l.color;for(i=0;i<r.length;++i)r[i].resize(t);for(i=0;i<6;++i)f[i].resize(t);return l.width=l.height=t,l},_reglType:"framebufferCube",destroy:function(){f.forEach(function(e){e.destroy()})}})},clear:function(){ce(P).forEach(D)},restore:function(){c.cur=null,c.next=null,c.dirty=!0,ce(P).forEach(function(t){t.framebuffer=e.createFramebuffer(),E(t)})}})}(o,v,S,D,E,_),R=ha(o,m,v,S,P,O,0,F,{},A,C,{elements:null,primitive:4,count:-1,offset:0,instances:-1},k,y,n),j=ai(o,F,R.procs.poll,k,f,v,S),M=R.next,canvas=o.canvas,z=[],L=[],B=[],N=[n.onDestroy],X=null;function Y(){if(0===z.length)return y&&y.update(),void(X=null);X=H.next(Y),ie();for(var i=z.length-1;i>=0;--i){var e=z[i];e&&e(k,null,0)}o.flush(),y&&y.update()}function U(){!X&&z.length>0&&(X=H.next(Y))}function W(){X&&(H.cancel(Y),X=null)}function Q(e){e.preventDefault(),l=!0,W(),L.forEach(function(e){e()})}function Z(e){o.getError(),l=!1,c.restore(),C.restore(),P.restore(),D.restore(),E.restore(),F.restore(),y&&y.restore(),R.procs.refresh(),U(),B.forEach(function(e){e()})}function K(e){function r(object){var e={},t={};return Object.keys(object).forEach(function(option){var r=object[option];V.isDynamic(r)?t[option]=V.unbox(r,option):e[option]=r}),{dynamic:t,static:e}}I(!!e,"invalid args to regl({...})"),I.type(e,"object","invalid args to regl({...})");var n=r(e.context||{}),o=r(e.uniforms||{}),f=r(e.attributes||{}),c=r(function(e){var r=t({},e);function n(e){if(e in r){var t=r[e];delete r[e],Object.keys(t).forEach(function(n){r[e+"."+n]=t[n]})}}return delete r.uniforms,delete r.attributes,delete r.context,"stencil"in r&&r.stencil.op&&(r.stencil.opBack=r.stencil.opFront=r.stencil.op,delete r.stencil.op),n("blend"),n("depth"),n("cull"),n("stencil"),n("polygonOffset"),n("scissor"),n("sample"),r}(e)),h={gpuTime:0,cpuTime:0,count:0},d=R.compile(c,f,o,n,h),m=d.draw,_=d.batch,v=d.scope,y=[];return t(function(e,body){var i;if(l&&I.raise("context lost"),"function"==typeof e)return v.call(this,null,e,0);if("function"==typeof body){if("number"==typeof e){for(i=0;i<e;++i)v.call(this,null,body,i);return}if(Array.isArray(e)){for(i=0;i<e.length;++i)v.call(this,e[i],body,i);return}return v.call(this,e,body,0)}if("number"==typeof e){if(e>0)return _.call(this,function(e){for(;y.length<e;)y.push(null);return y}(0|e),0|e)}else{if(!Array.isArray(e))return m.call(this,e);if(e.length)return _.call(this,e,e.length)}},{stats:h})}canvas&&(canvas.addEventListener(xa,Q,!1),canvas.addEventListener(wa,Z,!1));var J=F.setFBO=K({framebuffer:V.define.call(null,Ta,"framebuffer")});function ee(e,t){var r=0;R.procs.poll();var n=t.color;n&&(o.clearColor(+n[0]||0,+n[1]||0,+n[2]||0,+n[3]||0),r|=_a),"depth"in t&&(o.clearDepth(+t.depth),r|=va),"stencil"in t&&(o.clearStencil(0|t.stencil),r|=ba),I(!!r,"called regl.clear with no buffer specified"),o.clear(r)}function te(e){return I.type(e,"function","regl.frame() callback must be a function"),z.push(e),U(),{cancel:function(){var i=Aa(z,e);I(i>=0,"cannot cancel a frame twice"),z[i]=function e(){var t=Aa(z,e);z[t]=z[z.length-1],z.length-=1,z.length<=0&&W()}}}}function re(){var e=M.viewport,t=M.scissor_box;e[0]=e[1]=t[0]=t[1]=0,k.viewportWidth=k.framebufferWidth=k.drawingBufferWidth=e[2]=t[2]=o.drawingBufferWidth,k.viewportHeight=k.framebufferHeight=k.drawingBufferHeight=e[3]=t[3]=o.drawingBufferHeight}function ie(){k.tick+=1,k.time=ae(),re(),R.procs.poll()}function ne(){re(),R.procs.refresh(),y&&y.update()}function ae(){return(G()-x)/1e3}ne();var se=t(K,{clear:function(e){if(I("object"==typeof e&&e,"regl.clear() takes an object as input"),"framebuffer"in e)if(e.framebuffer&&"framebufferCube"===e.framebuffer_reglType)for(var i=0;i<6;++i)J(t({framebuffer:e.framebuffer.faces[i]},e),ee);else J(e,ee);else ee(null,e)},prop:V.define.bind(null,Ta),context:V.define.bind(null,ka),this:V.define.bind(null,Sa),draw:K({}),buffer:function(e){return P.create(e,ya,!1,!1)},elements:function(e){return O.create(e,!1)},texture:D.create2D,cube:D.createCube,renderbuffer:E.create,framebuffer:F.create,framebufferCube:F.createCube,attributes:f,frame:te,on:function(e,t){var r;switch(I.type(t,"function","listener callback must be a function"),e){case"frame":return te(t);case"lost":r=L;break;case"restore":r=B;break;case"destroy":r=N;break;default:I.raise("invalid event, must be one of frame,lost,restore,destroy")}return r.push(t),{cancel:function(){for(var i=0;i<r.length;++i)if(r[i]===t)return r[i]=r[r.length-1],void r.pop()}}},limits:S,hasExtension:function(e){return S.extensions.indexOf(e.toLowerCase())>=0},read:j,destroy:function(){z.length=0,W(),canvas&&(canvas.removeEventListener(xa,Q),canvas.removeEventListener(wa,Z)),C.clear(),F.clear(),E.clear(),D.clear(),O.clear(),P.clear(),y&&y.clear(),N.forEach(function(e){e()})},_gl:o,_refresh:ne,poll:function(){ie(),y&&y.update()},now:ae,stats:_});return n.onDone(null,se),se}}()},162:function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},169:function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r(148);n.e._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(){var e,t,r,o,f=function(){n.d.call(this,"css"),this._overwriteProps.length=0,this.setRatio=f.prototype.setRatio},l=n.e._gsDefine.globals,c={},p=f.prototype=new n.d("css");p.constructor=f,f.version="2.1.3",f.API=2,f.defaultTransformPerspective=0,f.defaultSkewType="compensated",f.defaultSmoothOrigin=!0,p="px",f.suffixMap={top:p,right:p,bottom:p,left:p,width:p,height:p,fontSize:p,padding:p,margin:p,perspective:p,lineHeight:""};var h,d,m,_,v,y,x,w,T=/(?:\-|\.|\b)(\d|\.|e\-)+/g,k=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,S=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,A=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b),?/gi,P=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,O=/(?:\d|\-|\+|=|#|\.)*/g,C=/opacity *= *([^)]*)/i,D=/opacity:([^;]*)/i,E=/alpha\(opacity *=.+?\)/i,F=/^(rgb|hsl)/,R=/([A-Z])/g,j=/-([a-z])/gi,M=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,z=function(s,g){return g.toUpperCase()},L=/(?:Left|Right|Width)/i,B=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,I=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,N=/,(?=[^\)]*(?:\(|$))/gi,X=/[\s,\(]/i,Y=Math.PI/180,U=180/Math.PI,W={},V={style:{}},H=n.e.document||{createElement:function(){return V}},G=function(e,t){var r=H.createElementNS?H.createElementNS(t||"http://www.w3.org/1999/xhtml",e):H.createElement(e);return r.style?r:H.createElement(e)},Q=G("div"),Z=G("img"),$=f._internals={_specialProps:c},K=(n.e.navigator||{}).userAgent||"",J=function(){var i=K.indexOf("Android"),a=G("a");return m=-1!==K.indexOf("Safari")&&-1===K.indexOf("Chrome")&&(-1===i||parseFloat(K.substr(i+8,2))>3),v=m&&parseFloat(K.substr(K.indexOf("Version/")+8,2))<6,_=-1!==K.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(K)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(K))&&(y=parseFloat(RegExp.$1)),!!a&&(a.style.cssText="top:1px;opacity:.55;",/^0.55/.test(a.style.opacity))}(),ee=function(e){return C.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},te=function(s){n.e.console&&console.log(s)},re="",ie="",ne=function(p,e){var a,i,s=(e=e||Q).style;if(void 0!==s[p])return p;for(p=p.charAt(0).toUpperCase()+p.substr(1),a=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===s[a[i]+p];);return i>=0?(re="-"+(ie=3===i?"ms":a[i]).toLowerCase()+"-",ie+p):null},ae="undefined"!=typeof window?window:H.defaultView||{getComputedStyle:function(){}},se=function(e){return ae.getComputedStyle(e)},oe=f.getStyle=function(e,p,t,r,n){var o;return J||"opacity"!==p?(!r&&e.style[p]?o=e.style[p]:(t=t||se(e))?o=t[p]||t.getPropertyValue(p)||t.getPropertyValue(p.replace(R,"-$1").toLowerCase()):e.currentStyle&&(o=e.currentStyle[p]),null==n||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:n):ee(e)},fe=$.convertToPixels=function(e,p,t,r,o){if("px"===r||!r&&"lineHeight"!==p)return t;if("auto"===r||!t)return 0;var l,c,time,h=L.test(p),d=e,style=Q.style,m=t<0,_=1===t;if(m&&(t=-t),_&&(t*=100),"lineHeight"!==p||r)if("%"===r&&-1!==p.indexOf("border"))l=t/100*(h?e.clientWidth:e.clientHeight);else{if(style.cssText="border:0 solid red;position:"+oe(e,"position")+";line-height:0;","%"!==r&&d.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)style[h?"borderLeftWidth":"borderTopWidth"]=t+r;else{if(d=e.parentNode||H.body,-1!==oe(d,"display").indexOf("flex")&&(style.position="absolute"),c=d._gsCache,time=n.f.ticker.frame,c&&h&&c.time===time)return c.width*t/100;style[h?"width":"height"]=t+r}d.appendChild(Q),l=parseFloat(Q[h?"offsetWidth":"offsetHeight"]),d.removeChild(Q),h&&"%"===r&&!1!==f.cacheWidths&&((c=d._gsCache=d._gsCache||{}).time=time,c.width=l/t*100),0!==l||o||(l=fe(e,p,t,r,!0))}else c=se(e).lineHeight,e.style.lineHeight=t,l=parseFloat(se(e).lineHeight),e.style.lineHeight=c;return _&&(l/=100),m?-l:l},le=$.calculateOffset=function(e,p,t){if("absolute"!==oe(e,"position",t))return 0;var r="left"===p?"Left":"Top",n=oe(e,"margin"+r,t);return e["offset"+r]-(fe(e,p,parseFloat(n),n.replace(O,""))||0)},ue=function(e,t){var i,tr,p,s={};if(t=t||se(e))if(i=t.length)for(;--i>-1;)-1!==(p=t[i]).indexOf("-transform")&&Be!==p||(s[p.replace(j,z)]=t.getPropertyValue(p));else for(i in t)-1!==i.indexOf("Transform")&&Le!==i||(s[i]=t[i]);else if(t=e.currentStyle||e.style)for(i in t)"string"==typeof i&&void 0===s[i]&&(s[i.replace(j,z)]=t[i]);return J||(s.opacity=ee(e)),tr=$e(e,t,!1),s.rotation=tr.rotation,s.skewX=tr.skewX,s.scaleX=tr.scaleX,s.scaleY=tr.scaleY,s.x=tr.x,s.y=tr.y,Ne&&(s.z=tr.z,s.rotationX=tr.rotationX,s.rotationY=tr.rotationY,s.scaleZ=tr.scaleZ),s.filters&&delete s.filters,s},ce=function(e,t,r,n,o){var f,p,l,c={},style=e.style;for(p in r)"cssText"!==p&&"length"!==p&&isNaN(p)&&(t[p]!==(f=r[p])||o&&o[p])&&-1===p.indexOf("Origin")&&("number"!=typeof f&&"string"!=typeof f||(c[p]="auto"!==f||"left"!==p&&"top"!==p?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof t[p]||""===t[p].replace(P,"")?f:0:le(e,p),void 0!==style[p]&&(l=new Ae(style,p,style[p],l))));if(n)for(p in n)"className"!==p&&(c[p]=n[p]);return{difs:c,firstMPT:l}},he={width:["Left","Right"],height:["Top","Bottom"]},pe=["marginLeft","marginRight","marginTop","marginBottom"],de=function(e,p,t){if("svg"===(e.nodeName+"").toLowerCase())return(t||se(e))[p]||0;if(e.getCTM&&Ge(e))return e.getBBox()[p]||0;var r=parseFloat("width"===p?e.offsetWidth:e.offsetHeight),a=he[p],i=a.length;for(t=t||se(e);--i>-1;)r-=parseFloat(oe(e,"padding"+a[i],t,!0))||0,r-=parseFloat(oe(e,"border"+a[i]+"Width",t,!0))||0;return r},me=function(e,t){if("contain"===e||"auto"===e||"auto auto"===e)return e+" ";null!=e&&""!==e||(e="0 0");var i,a=e.split(" "),r=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":a[0],n=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":a[1];if(a.length>3&&!t){for(a=e.split(", ").join(",").split(","),e=[],i=0;i<a.length;i++)e.push(me(a[i]));return e.join(",")}return null==n?n="center"===r?"50%":"0":"center"===n&&(n="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),e=r+" "+n+(a.length>2?" "+a[2]:""),t&&(t.oxp=-1!==r.indexOf("%"),t.oyp=-1!==n.indexOf("%"),t.oxr="="===r.charAt(1),t.oyr="="===n.charAt(1),t.ox=parseFloat(r.replace(P,"")),t.oy=parseFloat(n.replace(P,"")),t.v=e),t||e},ge=function(e,b){return"function"==typeof e&&(e=e(w,x)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(b)||0},_e=function(e,t){"function"==typeof e&&(e=e(w,x));var r="string"==typeof e&&"="===e.charAt(1);return"string"==typeof e&&"v"===e.charAt(e.length-2)&&(e=(r?e.substr(0,2):0)+window["inner"+("vh"===e.substr(-2)?"Height":"Width")]*(parseFloat(r?e.substr(2):e)/100)),null==e?t:r?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},ve=function(e,t,p,r){var n,o,f,l;return"function"==typeof e&&(e=e(w,x)),null==e?f=t:"number"==typeof e?f=e:(360,n=e.split("_"),o=((l="="===e.charAt(1))?parseInt(e.charAt(0)+"1",10)*parseFloat(n[0].substr(2)):parseFloat(n[0]))*(-1===e.indexOf("rad")?1:U)-(l?0:t),n.length&&(r&&(r[p]=t+o),-1!==e.indexOf("short")&&(o%=360)!==o%180&&(o=o<0?o+360:o-360),-1!==e.indexOf("_cw")&&o<0?o=(o+3599999999640)%360-360*(o/360|0):-1!==e.indexOf("ccw")&&o>0&&(o=(o-3599999999640)%360-360*(o/360|0))),f=t+o),f<1e-6&&f>-1e-6&&(f=0),f},be={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ye=function(e,t,r){return 255*(6*(e=e<0?e+1:e>1?e-1:e)<1?t+(r-t)*e*6:e<.5?r:3*e<2?t+(r-t)*(2/3-e)*6:t)+.5|0},xe=f.parseColor=function(e,t){var a,r,g,b,n,s,o,f,l,c,h;if(e)if("number"==typeof e)a=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),be[e])a=be[e];else if("#"===e.charAt(0))4===e.length&&(r=e.charAt(1),g=e.charAt(2),b=e.charAt(3),e="#"+r+r+g+g+b+b),a=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(a=h=e.match(T),t){if(-1!==e.indexOf("="))return e.match(k)}else n=Number(a[0])%360/360,s=Number(a[1])/100,r=2*(o=Number(a[2])/100)-(g=o<=.5?o*(s+1):o+s-o*s),a.length>3&&(a[3]=Number(a[3])),a[0]=ye(n+1/3,r,g),a[1]=ye(n,r,g),a[2]=ye(n-1/3,r,g);else a=e.match(T)||be.transparent;a[0]=Number(a[0]),a[1]=Number(a[1]),a[2]=Number(a[2]),a.length>3&&(a[3]=Number(a[3]))}else a=be.black;return t&&!h&&(r=a[0]/255,g=a[1]/255,b=a[2]/255,o=((f=Math.max(r,g,b))+(l=Math.min(r,g,b)))/2,f===l?n=s=0:(c=f-l,s=o>.5?c/(2-f-l):c/(f+l),n=f===r?(g-b)/c+(g<b?6:0):f===g?(b-r)/c+2:(r-g)/c+4,n*=60),a[0]=n+.5|0,a[1]=100*s+.5|0,a[2]=100*o+.5|0),a},we=function(s,e){var i,t,r,n=s.match(Te)||[],o=0,f="";if(!n.length)return s;for(i=0;i<n.length;i++)t=n[i],o+=(r=s.substr(o,s.indexOf(t,o)-o)).length+t.length,3===(t=xe(t,e)).length&&t.push(1),f+=r+(e?"hsla("+t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:"rgba("+t.join(","))+")";return f+s.substr(o)},Te="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(p in be)Te+="|"+p+"\\b";Te=new RegExp(Te+")","gi"),f.colorStringFilter=function(a){var e,t=a[0]+" "+a[1];Te.test(t)&&(e=-1!==t.indexOf("hsl(")||-1!==t.indexOf("hsla("),a[0]=we(a[0],e),a[1]=we(a[1],e)),Te.lastIndex=0},n.f.defaultStringFilter||(n.f.defaultStringFilter=f.colorStringFilter);var ke=function(e,t,r,n){if(null==e)return function(e){return e};var o,f=t?(e.match(Te)||[""])[0]:"",l=e.split(f).join("").match(S)||[],c=e.substr(0,e.indexOf(l[0])),h=")"===e.charAt(e.length-1)?")":"",d=-1!==e.indexOf(" ")?" ":",",m=l.length,_=m>0?l[0].replace(T,""):"";return m?o=t?function(e){var t,v,i,a;if("number"==typeof e)e+=_;else if(n&&N.test(e)){for(a=e.replace(N,"|").split("|"),i=0;i<a.length;i++)a[i]=o(a[i]);return a.join(",")}if(t=(e.match(Te)||[f])[0],i=(v=e.split(t).join("").match(S)||[]).length,m>i--)for(;++i<m;)v[i]=r?v[(i-1)/2|0]:l[i];return c+v.join(d)+d+t+h+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,a,i;if("number"==typeof e)e+=_;else if(n&&N.test(e)){for(a=e.replace(N,"|").split("|"),i=0;i<a.length;i++)a[i]=o(a[i]);return a.join(",")}if(i=(t=e.match(","===d?S:A)||[]).length,m>i--)for(;++i<m;)t[i]=r?t[(i-1)/2|0]:l[i];return(c&&"none"!==e&&e.substr(0,e.indexOf(t[0]))||c)+t.join(d)+h}:function(e){return e}},Se=function(e){return e=e.split(","),function(t,r,p,n,o,f,l){var i,a=(r+"").split(" ");for(l={},i=0;i<4;i++)l[e[i]]=a[i]=a[i]||a[(i-1)/2>>0];return n.parse(t,l,o,f)}},Ae=($._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,r,i,n,p,o=this.data,f=o.proxy,l=o.firstMPT;l;)t=f[l.v],l.r?t=l.r(t):t<1e-6&&t>-1e-6&&(t=0),l.t[l.p]=t,l=l._next;if(o.autoRotate&&(o.autoRotate.rotation=o.mod?o.mod.call(this._tween,f.rotation,this.t,this._tween):f.rotation),1===e||0===e)for(l=o.firstMPT,p=1===e?"e":"b";l;){if((r=l.t).type){if(1===r.type){for(n=r.xs0+r.s+r.xs1,i=1;i<r.l;i++)n+=r["xn"+i]+r["xs"+(i+1)];r[p]=n}}else r[p]=r.s+r.xs0;l=l._next}},function(e,p,t,r,n){this.t=e,this.p=p,this.v=t,this.r=n,r&&(r._prev=this,this._next=r)}),Pe=($._parseToProxy=function(e,t,r,n,o,f){var i,p,l,c,h,d=n,m={},_={},v=r._transform,y=W;for(r._transform=null,W=t,n=h=r.parse(e,t,n,o),W=y,f&&(r._transform=v,d&&(d._prev=null,d._prev&&(d._prev._next=null)));n&&n!==d;){if(n.type<=1&&(_[p=n.p]=n.s+n.c,m[p]=n.s,f||(c=new Ae(n,"s",p,c,n.r),n.c=0),1===n.type))for(i=n.l;--i>0;)l="xn"+i,_[p=n.p+"_"+l]=n.data[l],m[p]=n[l],f||(c=new Ae(n,l,p,c,n.rxp[l]));n=n._next}return{proxy:m,end:_,firstMPT:c,pt:h}},$.CSSPropTween=function(t,p,s,r,n,f,l,c,h,b,d){this.t=t,this.p=p,this.s=s,this.c=r,this.n=l||p,t instanceof Pe||o.push(this.n),this.r=c?"function"==typeof c?c:Math.round:c,this.type=f||0,h&&(this.pr=h,e=!0),this.b=void 0===b?s:b,this.e=void 0===d?s+r:d,n&&(this._next=n,n._prev=this)}),Oe=function(e,t,r,n,o,f){var l=new Pe(e,t,r,n-r,o,-1,f);return l.b=r,l.e=l.xs0=n,l},Ce=f.parseComplex=function(e,p,b,t,r,n,o,l,c,d){b=b||n||"","function"==typeof t&&(t=t(w,x)),o=new Pe(e,p,0,0,o,d?2:1,null,!1,l,b,t),t+="",r&&Te.test(t+b)&&(t=[b,t],f.colorStringFilter(t),b=t[0],t=t[1]);var i,m,_,v,y,S,A,P,O,C,D,E,F,R=b.split(", ").join(",").split(" "),j=t.split(", ").join(",").split(" "),M=R.length,z=!1!==h;for(-1===t.indexOf(",")&&-1===b.indexOf(",")||(-1!==(t+b).indexOf("rgb")||-1!==(t+b).indexOf("hsl")?(R=R.join(" ").replace(N,", ").split(" "),j=j.join(" ").replace(N,", ").split(" ")):(R=R.join(" ").split(",").join(", ").split(" "),j=j.join(" ").split(",").join(", ").split(" ")),M=R.length),M!==j.length&&(M=(R=(n||"").split(" ")).length),o.plugin=c,o.setRatio=d,Te.lastIndex=0,i=0;i<M;i++)if(v=R[i],y=j[i]+"",(P=parseFloat(v))||0===P)o.appendXtra("",P,ge(y,P),y.replace(k,""),!(!z||-1===y.indexOf("px"))&&Math.round,!0);else if(r&&Te.test(v))E=")"+((E=y.indexOf(")")+1)?y.substr(E):""),F=-1!==y.indexOf("hsl")&&J,C=y,v=xe(v,F),y=xe(y,F),(O=v.length+y.length>6)&&!J&&0===y[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(j[i]).join("transparent")):(J||(O=!1),F?o.appendXtra(C.substr(0,C.indexOf("hsl"))+(O?"hsla(":"hsl("),v[0],ge(y[0],v[0]),",",!1,!0).appendXtra("",v[1],ge(y[1],v[1]),"%,",!1).appendXtra("",v[2],ge(y[2],v[2]),O?"%,":"%"+E,!1):o.appendXtra(C.substr(0,C.indexOf("rgb"))+(O?"rgba(":"rgb("),v[0],y[0]-v[0],",",Math.round,!0).appendXtra("",v[1],y[1]-v[1],",",Math.round).appendXtra("",v[2],y[2]-v[2],O?",":E,Math.round),O&&(v=v.length<4?1:v[3],o.appendXtra("",v,(y.length<4?1:y[3])-v,E,!1))),Te.lastIndex=0;else if(S=v.match(T)){if(!(A=y.match(k))||A.length!==S.length)return o;for(_=0,m=0;m<S.length;m++)D=S[m],C=v.indexOf(D,_),o.appendXtra(v.substr(_,C-_),Number(D),ge(A[m],D),"",!(!z||"px"!==v.substr(C+D.length,2))&&Math.round,0===m),_=C+D.length;o["xs"+o.l]+=v.substr(_)}else o["xs"+o.l]+=o.l||o["xs"+o.l]?" "+y:y;if(-1!==t.indexOf("=")&&o.data){for(E=o.xs0+o.data.s,i=1;i<o.l;i++)E+=o["xs"+i]+o.data["xn"+i];o.e=E+o["xs"+i]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},i=9;for((p=Pe.prototype).l=p.pr=0;--i>0;)p["xn"+i]=0,p["xs"+i]="";p.xs0="",p._next=p._prev=p.xfirst=p.data=p.plugin=p.setRatio=p.rxp=null,p.appendXtra=function(e,s,t,r,n,o){var f=this,l=f.l;return f["xs"+l]+=o&&(l||f["xs"+l])?" "+e:e||"",t||0===l||f.plugin?(f.l++,f.type=f.setRatio?2:1,f["xs"+f.l]=r||"",l>0?(f.data["xn"+l]=s+t,f.rxp["xn"+l]=n,f["xn"+l]=s,f.plugin||(f.xfirst=new Pe(f,"xn"+l,s,t,f.xfirst||f,0,f.n,n,f.pr),f.xfirst.xs0=0),f):(f.data={s:s+t},f.rxp={},f.s=s,f.c=t,f.r=n,f)):(f["xs"+l]+=s+(r||""),f)};var De=function(p,e){e=e||{},this.p=e.prefix&&ne(p)||p,c[p]=c[this.p]=this,this.format=e.formatter||ke(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.allowFunc=e.allowFunc,this.pr=e.priority||0},Ee=$._registerComplexSpecialProp=function(p,e,t){"object"!=typeof e&&(e={parser:t});var i,a=p.split(","),r=e.defaultValue;for(t=t||[r],i=0;i<a.length;i++)e.prefix=0===i&&e.prefix,e.defaultValue=t[i]||r,new De(a[i],e)},Fe=$._registerPluginProp=function(p){if(!c[p]){var e=p.charAt(0).toUpperCase()+p.substr(1)+"Plugin";Ee(p,{parser:function(t,r,p,n,o,f,h){var d=l.com.greensock.plugins[e];return d?(d._cssRegister(),c[p].parse(t,r,p,n,o,f,h)):(te("Error: "+e+" js file not loaded."),o)}})}};(p=De.prototype).parseComplex=function(e,b,t,r,n,o){var i,f,l,c,h,d,m=this.keyword;if(this.multi&&(N.test(t)||N.test(b)?(f=b.replace(N,"|").split("|"),l=t.replace(N,"|").split("|")):m&&(f=[b],l=[t])),l){for(c=l.length>f.length?l.length:f.length,i=0;i<c;i++)b=f[i]=f[i]||this.dflt,t=l[i]=l[i]||this.dflt,m&&(h=b.indexOf(m))!==(d=t.indexOf(m))&&(-1===d?f[i]=f[i].split(m).join(""):-1===h&&(f[i]+=" "+m));b=f.join(", "),t=l.join(", ")}return Ce(e,this.p,b,t,this.clrs,this.dflt,r,this.pr,n,o)},p.parse=function(e,t,p,n,o,f,l){return this.parseComplex(e.style,this.format(oe(e,this.p,r,!1,this.dflt)),this.format(t),o,f)},f.registerSpecialProp=function(e,t,r){Ee(e,{parser:function(e,n,p,o,f,l,c){var h=new Pe(e,p,0,0,f,2,p,!1,r);return h.plugin=l,h.setRatio=t(e,n,o._tween,p),h},priority:r})},f.useSVGTransformAttr=!0;var Re,svg,rect,je,Me,ze="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),Le=ne("transform"),Be=re+"transform",Ie=ne("transformOrigin"),Ne=null!==ne("perspective"),Xe=$.Transform=function(){this.perspective=parseFloat(f.defaultTransformPerspective)||0,this.force3D=!(!1===f.defaultForce3D||!Ne)&&(f.defaultForce3D||"auto")},Ye=n.e.SVGElement,Ue=function(e,t,r){var p,element=H.createElementNS("http://www.w3.org/2000/svg",e),n=/([a-z])([A-Z])/g;for(p in r)element.setAttributeNS(null,p.replace(n,"$1-$2").toLowerCase(),r[p]);return t.appendChild(element),element},We=H.documentElement||{},Ve=(Me=y||/Android/i.test(K)&&!n.e.chrome,H.createElementNS&&We.appendChild&&!Me&&(svg=Ue("svg",We),je=(rect=Ue("rect",svg,{width:100,height:50,x:100})).getBoundingClientRect().width,rect.style[Ie]="50% 50%",rect.style[Le]="scaleX(0.5)",Me=je===rect.getBoundingClientRect().width&&!(_&&Ne),We.removeChild(svg)),Me),He=function(e,t,r,n,o,l){var c,h,d,m,_,a,b,v,y,x,w,T,k,S,A=e._gsTransform,P=Ze(e,!0);A&&(k=A.xOrigin,S=A.yOrigin),(!n||(c=n.split(" ")).length<2)&&(0===(b=e.getBBox()).x&&0===b.y&&b.width+b.height===0&&(b={x:parseFloat(e.hasAttribute("x")?e.getAttribute("x"):e.hasAttribute("cx")?e.getAttribute("cx"):0)||0,y:parseFloat(e.hasAttribute("y")?e.getAttribute("y"):e.hasAttribute("cy")?e.getAttribute("cy"):0)||0,width:0,height:0}),c=[(-1!==(t=me(t).split(" "))[0].indexOf("%")?parseFloat(t[0])/100*b.width:parseFloat(t[0]))+b.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*b.height:parseFloat(t[1]))+b.y]),r.xOrigin=m=parseFloat(c[0]),r.yOrigin=_=parseFloat(c[1]),n&&P!==Qe&&(a=P[0],b=P[1],v=P[2],y=P[3],x=P[4],w=P[5],(T=a*y-b*v)&&(h=m*(y/T)+_*(-v/T)+(v*w-y*x)/T,d=m*(-b/T)+_*(a/T)-(a*w-b*x)/T,m=r.xOrigin=c[0]=h,_=r.yOrigin=c[1]=d)),A&&(l&&(r.xOffset=A.xOffset,r.yOffset=A.yOffset,A=r),o||!1!==o&&!1!==f.defaultSmoothOrigin?(h=m-k,d=_-S,A.xOffset+=h*P[0]+d*P[2]-h,A.yOffset+=h*P[1]+d*P[3]-d):A.xOffset=A.yOffset=0),l||e.setAttribute("data-svg-origin",c.join(" "))},qe=function(e){var t,svg=G("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,n=this.nextSibling,o=this.style.cssText;if(We.appendChild(svg),svg.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=qe}catch(e){}else this._originalGetBBox&&(t=this._originalGetBBox());return n?r.insertBefore(this,n):r.appendChild(this),We.removeChild(svg),this.style.cssText=o,t},Ge=function(e){return!(!Ye||!e.getCTM||e.parentNode&&!e.ownerSVGElement||!function(e){try{return e.getBBox()}catch(t){return qe.call(e,!0)}}(e))},Qe=[1,0,0,1,0,0],Ze=function(e,t){var r,s,n,o,f,l,c,h=e._gsTransform||new Xe,style=e.style;if(Le?s=oe(e,Be,null,!0):e.currentStyle&&(s=(s=e.currentStyle.filter.match(B))&&4===s.length?[s[0].substr(4),Number(s[2].substr(4)),Number(s[1].substr(4)),s[3].substr(4),h.x||0,h.y||0].join(","):""),r=!s||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,Le&&r&&!e.offsetParent&&e!==We&&(o=style.display,style.display="block",(c=e.parentNode)&&e.offsetParent||(f=1,l=e.nextSibling,We.appendChild(e)),r=!(s=oe(e,Be,null,!0))||"none"===s||"matrix(1, 0, 0, 1, 0, 0)"===s,o?style.display=o:tt(style,"display"),f&&(l?c.insertBefore(e,l):c?c.appendChild(e):We.removeChild(e))),(h.svg||e.getCTM&&Ge(e))&&(r&&-1!==(style[Le]+"").indexOf("matrix")&&(s=style[Le],r=0),n=e.getAttribute("transform"),r&&n&&(s="matrix("+(n=e.transform.baseVal.consolidate().matrix).a+","+n.b+","+n.c+","+n.d+","+n.e+","+n.f+")",r=0)),r)return Qe;for(n=(s||"").match(T)||[],i=n.length;--i>-1;)o=Number(n[i]),n[i]=(f=o-(o|=0))?(1e5*f+(f<0?-.5:.5)|0)/1e5+o:o;return t&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n},$e=$.getTransform=function(e,t,r,o){if(e._gsTransform&&r&&!o)return e._gsTransform;var l,i,c,h,d,m,_=r&&e._gsTransform||new Xe,v=_.scaleX<0,y=Ne&&(parseFloat(oe(e,Ie,t,!1,"0 0 0").split(" ")[2])||_.zOrigin)||0,x=parseFloat(f.defaultTransformPerspective)||0;if(_.svg=!(!e.getCTM||!Ge(e)),_.svg&&(He(e,oe(e,Ie,t,!1,"50% 50%")+"",_,e.getAttribute("data-svg-origin")),Re=f.useSVGTransformAttr||Ve),(l=Ze(e))!==Qe){if(16===l.length){var w,T,k,S,A,P=l[0],O=l[1],C=l[2],D=l[3],E=l[4],F=l[5],R=l[6],j=l[7],M=l[8],z=l[9],L=l[10],B=l[12],I=l[13],N=l[14],X=l[11],Y=Math.atan2(R,L);_.zOrigin&&(B=M*(N=-_.zOrigin)-l[12],I=z*N-l[13],N=L*N+_.zOrigin-l[14]),_.rotationX=Y*U,Y&&(w=E*(S=Math.cos(-Y))+M*(A=Math.sin(-Y)),T=F*S+z*A,k=R*S+L*A,M=E*-A+M*S,z=F*-A+z*S,L=R*-A+L*S,X=j*-A+X*S,E=w,F=T,R=k),Y=Math.atan2(-C,L),_.rotationY=Y*U,Y&&(T=O*(S=Math.cos(-Y))-z*(A=Math.sin(-Y)),k=C*S-L*A,z=O*A+z*S,L=C*A+L*S,X=D*A+X*S,P=w=P*S-M*A,O=T,C=k),Y=Math.atan2(O,P),_.rotation=Y*U,Y&&(w=P*(S=Math.cos(Y))+O*(A=Math.sin(Y)),T=E*S+F*A,k=M*S+z*A,O=O*S-P*A,F=F*S-E*A,z=z*S-M*A,P=w,E=T,M=k),_.rotationX&&Math.abs(_.rotationX)+Math.abs(_.rotation)>359.9&&(_.rotationX=_.rotation=0,_.rotationY=180-_.rotationY),Y=Math.atan2(E,F),_.scaleX=(1e5*Math.sqrt(P*P+O*O+C*C)+.5|0)/1e5,_.scaleY=(1e5*Math.sqrt(F*F+R*R)+.5|0)/1e5,_.scaleZ=(1e5*Math.sqrt(M*M+z*z+L*L)+.5|0)/1e5,P/=_.scaleX,E/=_.scaleY,O/=_.scaleX,F/=_.scaleY,Math.abs(Y)>2e-5?(_.skewX=Y*U,E=0,"simple"!==_.skewType&&(_.scaleY*=1/Math.cos(Y))):_.skewX=0,_.perspective=X?1/(X<0?-X:X):0,_.x=B,_.y=I,_.z=N,_.svg&&(_.x-=_.xOrigin-(_.xOrigin*P-_.yOrigin*E),_.y-=_.yOrigin-(_.yOrigin*O-_.xOrigin*F))}else if(!Ne||o||!l.length||_.x!==l[4]||_.y!==l[5]||!_.rotationX&&!_.rotationY){var W=l.length>=6,a=W?l[0]:1,b=l[1]||0,V=l[2]||0,H=W?l[3]:1;_.x=l[4]||0,_.y=l[5]||0,c=Math.sqrt(a*a+b*b),h=Math.sqrt(H*H+V*V),d=a||b?Math.atan2(b,a)*U:_.rotation||0,m=V||H?Math.atan2(V,H)*U+d:_.skewX||0,_.scaleX=c,_.scaleY=h,_.rotation=d,_.skewX=m,Ne&&(_.rotationX=_.rotationY=_.z=0,_.perspective=x,_.scaleZ=1),_.svg&&(_.x-=_.xOrigin-(_.xOrigin*a+_.yOrigin*V),_.y-=_.yOrigin-(_.xOrigin*b+_.yOrigin*H))}for(i in Math.abs(_.skewX)>90&&Math.abs(_.skewX)<270&&(v?(_.scaleX*=-1,_.skewX+=_.rotation<=0?180:-180,_.rotation+=_.rotation<=0?180:-180):(_.scaleY*=-1,_.skewX+=_.skewX<=0?180:-180)),_.zOrigin=y,_)_[i]<2e-5&&_[i]>-2e-5&&(_[i]=0)}return r&&(e._gsTransform=_,_.svg&&(Re&&e.style[Le]?n.f.delayedCall(.001,function(){tt(e.style,Le)}):!Re&&e.getAttribute("transform")&&n.f.delayedCall(.001,function(){e.removeAttribute("transform")}))),_},Ke=function(e){var t,r,n=this.data,o=-n.rotation*Y,f=o+n.skewX*Y,a=(Math.cos(o)*n.scaleX*1e5|0)/1e5,b=(Math.sin(o)*n.scaleX*1e5|0)/1e5,l=(Math.sin(f)*-n.scaleY*1e5|0)/1e5,c=(Math.cos(f)*n.scaleY*1e5|0)/1e5,style=this.t.style,h=this.t.currentStyle;if(h){r=b,b=-l,l=-r,t=h.filter,style.filter="";var d,m,_=this.t.offsetWidth,v=this.t.offsetHeight,x="absolute"!==h.position,w="progid:DXImageTransform.Microsoft.Matrix(M11="+a+", M12="+b+", M21="+l+", M22="+c,T=n.x+_*n.xPercent/100,k=n.y+v*n.yPercent/100;if(null!=n.ox&&(T+=(d=(n.oxp?_*n.ox*.01:n.ox)-_/2)-(d*a+(m=(n.oyp?v*n.oy*.01:n.oy)-v/2)*b),k+=m-(d*l+m*c)),w+=x?", Dx="+((d=_/2)-(d*a+(m=v/2)*b)+T)+", Dy="+(m-(d*l+m*c)+k)+")":", sizingMethod='auto expand')",-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?style.filter=t.replace(I,w):style.filter=w+" "+t,0!==e&&1!==e||1===a&&0===b&&0===l&&1===c&&(x&&-1===w.indexOf("Dx=0, Dy=0")||C.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&style.removeAttribute("filter")),!x){var S,A,P,D=y<8?1:-1;for(d=n.ieOffsetX||0,m=n.ieOffsetY||0,n.ieOffsetX=Math.round((_-((a<0?-a:a)*_+(b<0?-b:b)*v))/2+T),n.ieOffsetY=Math.round((v-((c<0?-c:c)*v+(l<0?-l:l)*_))/2+k),i=0;i<4;i++)P=(r=-1!==(S=h[A=pe[i]]).indexOf("px")?parseFloat(S):fe(this.t,A,parseFloat(S),S.replace(O,""))||0)!==n[A]?i<2?-n.ieOffsetX:-n.ieOffsetY:i<2?d-n.ieOffsetX:m-n.ieOffsetY,style[A]=(n[A]=Math.round(r-P*(0===i||2===i?1:D)))+"px"}}},Je=$.set3DTransformRatio=$.setTransformRatio=function(e){var t,r,n,o,f,l,c,h,d,m,v,y,x,w,T,k,S,A,P,O,C=this.data,style=this.t.style,D=C.rotation,E=C.rotationX,F=C.rotationY,R=C.scaleX,j=C.scaleY,M=C.scaleZ,z=C.x,L=C.y,B=C.z,I=C.svg,N=C.perspective,X=C.force3D,U=C.skewY,W=C.skewX;if(U&&(W+=U,D+=U),!((1!==e&&0!==e||"auto"!==X||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&X||B||N||F||E||1!==M)||Re&&I||!Ne)D||W||I?(D*=Y,O=W*Y,1e5,r=Math.cos(D)*R,f=Math.sin(D)*R,n=Math.sin(D-O)*-j,l=Math.cos(D-O)*j,O&&"simple"===C.skewType&&(t=Math.tan(O-U*Y),n*=t=Math.sqrt(1+t*t),l*=t,U&&(t=Math.tan(U*Y),r*=t=Math.sqrt(1+t*t),f*=t)),I&&(z+=C.xOrigin-(C.xOrigin*r+C.yOrigin*n)+C.xOffset,L+=C.yOrigin-(C.xOrigin*f+C.yOrigin*l)+C.yOffset,Re&&(C.xPercent||C.yPercent)&&(T=this.t.getBBox(),z+=.01*C.xPercent*T.width,L+=.01*C.yPercent*T.height),z<(T=1e-6)&&z>-T&&(z=0),L<T&&L>-T&&(L=0)),P=(1e5*r|0)/1e5+","+(1e5*f|0)/1e5+","+(1e5*n|0)/1e5+","+(1e5*l|0)/1e5+","+z+","+L+")",I&&Re?this.t.setAttribute("transform","matrix("+P):style[Le]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix(":"matrix(")+P):style[Le]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix(":"matrix(")+R+",0,0,"+j+","+z+","+L+")";else{if(_&&(R<(T=1e-4)&&R>-T&&(R=M=2e-5),j<T&&j>-T&&(j=M=2e-5),!N||C.z||C.rotationX||C.rotationY||(N=0)),D||W)D*=Y,k=r=Math.cos(D),S=f=Math.sin(D),W&&(D-=W*Y,k=Math.cos(D),S=Math.sin(D),"simple"===C.skewType&&(t=Math.tan((W-U)*Y),k*=t=Math.sqrt(1+t*t),S*=t,C.skewY&&(t=Math.tan(U*Y),r*=t=Math.sqrt(1+t*t),f*=t))),n=-S,l=k;else{if(!(F||E||1!==M||N||I))return void(style[Le]=(C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) translate3d(":"translate3d(")+z+"px,"+L+"px,"+B+"px)"+(1!==R||1!==j?" scale("+R+","+j+")":""));r=l=1,n=f=0}m=1,o=c=h=d=v=y=0,x=N?-1/N:0,w=C.zOrigin,T=1e-6,",","0",(D=F*Y)&&(k=Math.cos(D),h=-(S=Math.sin(D)),v=x*-S,o=r*S,c=f*S,m=k,x*=k,r*=k,f*=k),(D=E*Y)&&(t=n*(k=Math.cos(D))+o*(S=Math.sin(D)),A=l*k+c*S,d=m*S,y=x*S,o=n*-S+o*k,c=l*-S+c*k,m*=k,x*=k,n=t,l=A),1!==M&&(o*=M,c*=M,m*=M,x*=M),1!==j&&(n*=j,l*=j,d*=j,y*=j),1!==R&&(r*=R,f*=R,h*=R,v*=R),(w||I)&&(w&&(z+=o*-w,L+=c*-w,B+=m*-w+w),I&&(z+=C.xOrigin-(C.xOrigin*r+C.yOrigin*n)+C.xOffset,L+=C.yOrigin-(C.xOrigin*f+C.yOrigin*l)+C.yOffset),z<T&&z>-T&&(z="0"),L<T&&L>-T&&(L="0"),B<T&&B>-T&&(B=0)),P=C.xPercent||C.yPercent?"translate("+C.xPercent+"%,"+C.yPercent+"%) matrix3d(":"matrix3d(",P+=(r<T&&r>-T?"0":r)+","+(f<T&&f>-T?"0":f)+","+(h<T&&h>-T?"0":h),P+=","+(v<T&&v>-T?"0":v)+","+(n<T&&n>-T?"0":n)+","+(l<T&&l>-T?"0":l),E||F||1!==M?(P+=","+(d<T&&d>-T?"0":d)+","+(y<T&&y>-T?"0":y)+","+(o<T&&o>-T?"0":o),P+=","+(c<T&&c>-T?"0":c)+","+(m<T&&m>-T?"0":m)+","+(x<T&&x>-T?"0":x)+","):P+=",0,0,0,0,1,0,",P+=z+","+L+","+B+","+(N?1+-B/N:1)+")",style[Le]=P}};(p=Xe.prototype).x=p.y=p.z=p.skewX=p.skewY=p.rotation=p.rotationX=p.rotationY=p.zOrigin=p.xPercent=p.yPercent=p.xOffset=p.yOffset=0,p.scaleX=p.scaleY=p.scaleZ=1,Ee("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,n,o,l,c,h){if(o._lastParsedTransform===h)return l;o._lastParsedTransform=h;var d=h.scale&&"function"==typeof h.scale?h.scale:0;d&&(h.scale=d(w,e));var m,_,v,y,T,k,S,A,p,P=e._gsTransform,style=e.style,i=ze.length,O=h,C={},D=$e(e,r,!0,O.parseTransform),E=O.transform&&("function"==typeof O.transform?O.transform(w,x):O.transform);if(D.skewType=O.skewType||D.skewType||f.defaultSkewType,o._transform=D,"rotationZ"in O&&(O.rotation=O.rotationZ),E&&"string"==typeof E&&Le)(_=Q.style)[Le]=E,_.display="block",_.position="absolute",-1!==E.indexOf("%")&&(_.width=oe(e,"width"),_.height=oe(e,"height")),H.body.appendChild(Q),m=$e(Q,null,!1),"simple"===D.skewType&&(m.scaleY*=Math.cos(m.skewX*Y)),D.svg&&(k=D.xOrigin,S=D.yOrigin,m.x-=D.xOffset,m.y-=D.yOffset,(O.transformOrigin||O.svgOrigin)&&(E={},He(e,me(O.transformOrigin),E,O.svgOrigin,O.smoothOrigin,!0),k=E.xOrigin,S=E.yOrigin,m.x-=E.xOffset-D.xOffset,m.y-=E.yOffset-D.yOffset),(k||S)&&(A=Ze(Q,!0),m.x-=k-(k*A[0]+S*A[2]),m.y-=S-(k*A[1]+S*A[3]))),H.body.removeChild(Q),m.perspective||(m.perspective=D.perspective),null!=O.xPercent&&(m.xPercent=_e(O.xPercent,D.xPercent)),null!=O.yPercent&&(m.yPercent=_e(O.yPercent,D.yPercent));else if("object"==typeof O){if(m={scaleX:_e(null!=O.scaleX?O.scaleX:O.scale,D.scaleX),scaleY:_e(null!=O.scaleY?O.scaleY:O.scale,D.scaleY),scaleZ:_e(O.scaleZ,D.scaleZ),x:_e(O.x,D.x),y:_e(O.y,D.y),z:_e(O.z,D.z),xPercent:_e(O.xPercent,D.xPercent),yPercent:_e(O.yPercent,D.yPercent),perspective:_e(O.transformPerspective,D.perspective)},null!=(T=O.directionalRotation))if("object"==typeof T)for(_ in T)O[_]=T[_];else O.rotation=T;"string"==typeof O.x&&-1!==O.x.indexOf("%")&&(m.x=0,m.xPercent=_e(O.x,D.xPercent)),"string"==typeof O.y&&-1!==O.y.indexOf("%")&&(m.y=0,m.yPercent=_e(O.y,D.yPercent)),m.rotation=ve("rotation"in O?O.rotation:"shortRotation"in O?O.shortRotation+"_short":D.rotation,D.rotation,"rotation",C),Ne&&(m.rotationX=ve("rotationX"in O?O.rotationX:"shortRotationX"in O?O.shortRotationX+"_short":D.rotationX||0,D.rotationX,"rotationX",C),m.rotationY=ve("rotationY"in O?O.rotationY:"shortRotationY"in O?O.shortRotationY+"_short":D.rotationY||0,D.rotationY,"rotationY",C)),m.skewX=ve(O.skewX,D.skewX),m.skewY=ve(O.skewY,D.skewY)}for(Ne&&null!=O.force3D&&(D.force3D=O.force3D,y=!0),(v=D.force3D||D.z||D.rotationX||D.rotationY||m.z||m.rotationX||m.rotationY||m.perspective)||null==O.scale||(m.scaleZ=1);--i>-1;)((E=m[p=ze[i]]-D[p])>1e-6||E<-1e-6||null!=O[p]||null!=W[p])&&(y=!0,l=new Pe(D,p,D[p],E,l),p in C&&(l.e=C[p]),l.xs0=0,l.plugin=c,o._overwriteProps.push(l.n));return E="function"==typeof O.transformOrigin?O.transformOrigin(w,x):O.transformOrigin,D.svg&&(E||O.svgOrigin)&&(k=D.xOffset,S=D.yOffset,He(e,me(E),m,O.svgOrigin,O.smoothOrigin),l=Oe(D,"xOrigin",(P?D:m).xOrigin,m.xOrigin,l,"transformOrigin"),l=Oe(D,"yOrigin",(P?D:m).yOrigin,m.yOrigin,l,"transformOrigin"),k===D.xOffset&&S===D.yOffset||(l=Oe(D,"xOffset",P?k:D.xOffset,D.xOffset,l,"transformOrigin"),l=Oe(D,"yOffset",P?S:D.yOffset,D.yOffset,l,"transformOrigin")),E="0px 0px"),(E||Ne&&v&&D.zOrigin)&&(Le?(y=!0,p=Ie,E||(E=(E=(oe(e,p,r,!1,"50% 50%")+"").split(" "))[0]+" "+E[1]+" "+D.zOrigin+"px"),E+="",(l=new Pe(style,p,0,0,l,-1,"transformOrigin")).b=style[p],l.plugin=c,Ne?(_=D.zOrigin,E=E.split(" "),D.zOrigin=(E.length>2?parseFloat(E[2]):_)||0,l.xs0=l.e=E[0]+" "+(E[1]||"50%")+" 0px",(l=new Pe(D,"zOrigin",0,0,l,-1,l.n)).b=_,l.xs0=l.e=D.zOrigin):l.xs0=l.e=E):me(E+"",D)),y&&(o._transformType=D.svg&&Re||!v&&3!==this._transformType?2:3),d&&(h.scale=d),l},allowFunc:!0,prefix:!0}),Ee("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Ee("clipPath",{defaultValue:"inset(0%)",prefix:!0,multi:!0,formatter:ke("inset(0% 0% 0% 0%)",!1,!0)}),Ee("borderRadius",{defaultValue:"0px",parser:function(e,n,p,o,f,l){n=this.format(n);var c,i,h,d,m,_,v,y,x,w,T,k,S,A,P,em,O=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],style=e.style;for(x=parseFloat(e.offsetWidth),w=parseFloat(e.offsetHeight),c=n.split(" "),i=0;i<O.length;i++)this.p.indexOf("border")&&(O[i]=ne(O[i])),-1!==(m=d=oe(e,O[i],r,!1,"0px")).indexOf(" ")&&(d=m.split(" "),m=d[0],d=d[1]),_=h=c[i],v=parseFloat(m),k=m.substr((v+"").length),(S="="===_.charAt(1))?(y=parseInt(_.charAt(0)+"1",10),_=_.substr(2),y*=parseFloat(_),T=_.substr((y+"").length-(y<0?1:0))||""):(y=parseFloat(_),T=_.substr((y+"").length)),""===T&&(T=t[p]||k),T!==k&&(A=fe(e,"borderLeft",v,k),P=fe(e,"borderTop",v,k),"%"===T?(m=A/x*100+"%",d=P/w*100+"%"):"em"===T?(m=A/(em=fe(e,"borderLeft",1,"em"))+"em",d=P/em+"em"):(m=A+"px",d=P+"px"),S&&(_=parseFloat(m)+y+T,h=parseFloat(d)+y+T)),f=Ce(style,O[i],m+" "+d,_+" "+h,!1,"0px",f);return f},prefix:!0,formatter:ke("0px 0px 0px 0px",!1,!0)}),Ee("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,p,n,o,f){return Ce(e.style,p,this.format(oe(e,p,r,!1,"0px 0px")),this.format(t),!1,"0px",o)},prefix:!0,formatter:ke("0px 0px",!1,!0)}),Ee("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,p,n,o,f){var l,c,i,h,d,m,_="background-position",v=r||se(e),x=this.format((v?y?v.getPropertyValue(_+"-x")+" "+v.getPropertyValue(_+"-y"):v.getPropertyValue(_):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),w=this.format(t);if(-1!==x.indexOf("%")!=(-1!==w.indexOf("%"))&&w.split(",").length<2&&(m=oe(e,"backgroundImage").replace(M,""))&&"none"!==m){for(l=x.split(" "),c=w.split(" "),Z.setAttribute("src",m),i=2;--i>-1;)(h=-1!==(x=l[i]).indexOf("%"))!==(-1!==c[i].indexOf("%"))&&(d=0===i?e.offsetWidth-Z.width:e.offsetHeight-Z.height,l[i]=h?parseFloat(x)/100*d+"px":parseFloat(x)/d*100+"%");x=l.join(" ")}return this.parseComplex(e.style,x,w,o,f)},formatter:me}),Ee("backgroundSize",{defaultValue:"0 0",formatter:function(e){return"co"===(e+="").substr(0,2)?e:me(-1===e.indexOf(" ")?e+" "+e:e)}}),Ee("perspective",{defaultValue:"0px",prefix:!0}),Ee("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Ee("transformStyle",{prefix:!0}),Ee("backfaceVisibility",{prefix:!0}),Ee("userSelect",{prefix:!0}),Ee("margin",{parser:Se("marginTop,marginRight,marginBottom,marginLeft")}),Ee("padding",{parser:Se("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Ee("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,p,n,o,f){var b,l,c;return y<9?(l=e.currentStyle,c=y<8?" ":",",b="rect("+l.clipTop+c+l.clipRight+c+l.clipBottom+c+l.clipLeft+")",t=this.format(t).split(",").join(c)):(b=this.format(oe(e,this.p,r,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,b,t,o,f)}}),Ee("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Ee("autoRound,strictUnits",{parser:function(e,t,p,r,n){return n}}),Ee("border",{defaultValue:"0px solid #000",parser:function(e,t,p,n,o,f){var l=oe(e,"borderTopWidth",r,!1,"0px"),c=this.format(t).split(" "),h=c[0].replace(O,"");return"px"!==h&&(l=parseFloat(l)/fe(e,"borderTopWidth",1,h)+h),this.parseComplex(e.style,this.format(l+" "+oe(e,"borderTopStyle",r,!1,"solid")+" "+oe(e,"borderTopColor",r,!1,"#000")),c.join(" "),o,f)},color:!0,formatter:function(e){var a=e.split(" ");return a[0]+" "+(a[1]||"solid")+" "+(e.match(Te)||["#000"])[0]}}),Ee("borderWidth",{parser:Se("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Ee("float,cssFloat,styleFloat",{parser:function(e,t,p,r,n,o){var s=e.style,f="cssFloat"in s?"cssFloat":"styleFloat";return new Pe(s,f,0,0,n,-1,p,!1,0,s[f],t)}});var et=function(e){var t,r=this.t,n=r.filter||oe(this.data,"filter")||"",o=this.s+this.c*e|0;100===o&&(-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")&&-1===n.indexOf("oader(")?(r.removeAttribute("filter"),t=!oe(this.data,"filter")):(r.filter=n.replace(E,""),t=!0)),t||(this.xn1&&(r.filter=n=n||"alpha(opacity="+o+")"),-1===n.indexOf("pacity")?0===o&&this.xn1||(r.filter=n+" alpha(opacity="+o+")"):r.filter=n.replace(C,"opacity="+o))};Ee("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,p,n,o,f){var b=parseFloat(oe(e,"opacity",r,!1,"1")),style=e.style,l="autoAlpha"===p;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+b),l&&1===b&&"hidden"===oe(e,"visibility",r)&&0!==t&&(b=0),J?o=new Pe(style,"opacity",b,t-b,o):((o=new Pe(style,"opacity",100*b,100*(t-b),o)).xn1=l?1:0,style.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=e,o.plugin=f,o.setRatio=et),l&&((o=new Pe(style,"visibility",0,0,o,-1,null,!1,0,0!==b?"inherit":"hidden",0===t?"hidden":"inherit")).xs0="inherit",n._overwriteProps.push(o.n),n._overwriteProps.push(p)),o}});var tt=function(s,p){p&&(s.removeProperty?("ms"!==p.substr(0,2)&&"webkit"!==p.substr(0,6)||(p="-"+p),s.removeProperty(p.replace(R,"-$1").toLowerCase())):s.removeAttribute(p))},it=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,s=this.t.style;t;)t.v?s[t.p]=t.v:tt(s,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Ee("className",{parser:function(t,n,p,o,f,l,c){var h,d,m,_,v,b=t.getAttribute("class")||"",y=t.style.cssText;if((f=o._classNamePT=new Pe(t,p,0,0,f,2)).setRatio=it,f.pr=-11,e=!0,f.b=b,d=ue(t,r),m=t._gsClassPT){for(_={},v=m.data;v;)_[v.p]=1,v=v._next;m.setRatio(1)}return t._gsClassPT=f,f.e="="!==n.charAt(1)?n:b.replace(new RegExp("(?:\\s|^)"+n.substr(2)+"(?![\\w-])"),"")+("+"===n.charAt(0)?" "+n.substr(2):""),t.setAttribute("class",f.e),h=ce(t,d,ue(t),c,_),t.setAttribute("class",b),f.data=h.firstMPT,t.style.cssText!==y&&(t.style.cssText=y),f=f.xfirst=o.parse(t,h.difs,f,l)}});var nt=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var a,p,i,t,r,s=this.t.style,n=c.transform.parse;if("all"===this.e)s.cssText="",t=!0;else for(i=(a=this.e.split(" ").join("").split(",")).length;--i>-1;)p=a[i],c[p]&&(c[p].parse===n?t=!0:p="transformOrigin"===p?Ie:c[p].p),tt(s,p);t&&(tt(s,Le),(r=this.t._gsTransform)&&(r.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Ee("clearProps",{parser:function(t,r,p,n,o){return(o=new Pe(t,p,0,0,o,2)).setRatio=nt,o.e=r,o.pr=-10,o.data=n._tween,e=!0,o}}),p="bezier,throwProps,physicsProps,physics2D".split(","),i=p.length;i--;)Fe(p[i]);(p=f.prototype)._firstPT=p._lastParsedTransform=p._transform=null,p._onInitTween=function(n,l,_,y){if(!n.nodeType)return!1;this._target=x=n,this._tween=_,this._vars=l,w=y,h=l.autoRound,e=!1,t=l.suffixMap||f.suffixMap,r=se(n),o=this._overwriteProps;var T,k,S,A,P,O,C,E,F,style=n.style;if(d&&""===style.zIndex&&("auto"!==(T=oe(n,"zIndex",r))&&""!==T||this._addLazySet(style,"zIndex",0)),"string"==typeof l&&(A=style.cssText,T=ue(n,r),style.cssText=A+";"+l,T=ce(n,T,ue(n)).difs,!J&&D.test(l)&&(T.opacity=parseFloat(RegExp.$1)),l=T,style.cssText=A),l.className?this._firstPT=k=c.className.parse(n,l.className,"className",this,null,null,l):this._firstPT=k=this.parse(n,l,null),this._transformType){for(F=3===this._transformType,Le?m&&(d=!0,""===style.zIndex&&("auto"!==(C=oe(n,"zIndex",r))&&""!==C||this._addLazySet(style,"zIndex",0)),v&&this._addLazySet(style,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(F?"visible":"hidden"))):style.zoom=1,S=k;S&&S._next;)S=S._next;E=new Pe(n,"transform",0,0,null,2),this._linkCSSP(E,null,S),E.setRatio=Le?Je:Ke,E.data=this._transform||$e(n,r,!0),E.tween=_,E.pr=-1,o.pop()}if(e){for(;k;){for(O=k._next,S=A;S&&S.pr>k.pr;)S=S._next;(k._prev=S?S._prev:P)?k._prev._next=k:A=k,(k._next=S)?S._prev=k:P=k,k=O}this._firstPT=A}return!0},p.parse=function(e,n,o,f){var p,l,d,m,_,v,y,T,k,S,style=e.style;for(p in n){if(v=n[p],l=c[p],"function"!=typeof v||l&&l.allowFunc||(v=v(w,x)),l)o=l.parse(e,v,p,this,o,f,n);else{if("--"===p.substr(0,2)){this._tween._propLookup[p]=this._addTween.call(this._tween,e.style,"setProperty",se(e).getPropertyValue(p)+"",v+"",p,!1,p);continue}_=oe(e,p,r)+"",k="string"==typeof v,"color"===p||"fill"===p||"stroke"===p||-1!==p.indexOf("Color")||k&&F.test(v)?(k||(v=((v=xe(v)).length>3?"rgba(":"rgb(")+v.join(",")+")"),o=Ce(style,p,_,v,!0,"transparent",o,0,f)):k&&X.test(v)?o=Ce(style,p,_,v,!0,null,o,0,f):(y=(d=parseFloat(_))||0===d?_.substr((d+"").length):"",""!==_&&"auto"!==_||("width"===p||"height"===p?(d=de(e,p,r),y="px"):"left"===p||"top"===p?(d=le(e,p,r),y="px"):(d="opacity"!==p?0:1,y="")),(S=k&&"="===v.charAt(1))?(m=parseInt(v.charAt(0)+"1",10),v=v.substr(2),m*=parseFloat(v),T=v.replace(O,"")):(m=parseFloat(v),T=k?v.replace(O,""):""),""===T&&(T=p in t?t[p]:y),v=m||0===m?(S?m+d:m)+T:n[p],y!==T&&(""===T&&"lineHeight"!==p||(m||0===m)&&d&&(d=fe(e,p,d,y),"%"===T?(d/=fe(e,p,100,"%")/100,!0!==n.strictUnits&&(_=d+"%")):"em"===T||"rem"===T||"vw"===T||"vh"===T?d/=fe(e,p,1,T):"px"!==T&&(m=fe(e,p,m,T),T="px"),S&&(m||0===m)&&(v=m+d+T))),S&&(m+=d),!d&&0!==d||!m&&0!==m?void 0!==style[p]&&(v||v+""!="NaN"&&null!=v)?(o=new Pe(style,p,m||d||0,0,o,-1,p,!1,0,_,v)).xs0="none"!==v||"display"!==p&&-1===p.indexOf("Style")?v:_:te("invalid "+p+" tween value: "+n[p]):(o=new Pe(style,p,d,m-d,o,0,p,!1!==h&&("px"===T||"zIndex"===p),0,_,v)).xs0=T)}f&&o&&!o.plugin&&(o.plugin=f)}return o},p.setRatio=function(e){var t,r,i,n=this._firstPT;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;n;){if(t=n.c*e+n.s,n.r?t=n.r(t):t<1e-6&&t>-1e-6&&(t=0),n.type)if(1===n.type)if(2===(i=n.l))n.t[n.p]=n.xs0+t+n.xs1+n.xn1+n.xs2;else if(3===i)n.t[n.p]=n.xs0+t+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3;else if(4===i)n.t[n.p]=n.xs0+t+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4;else if(5===i)n.t[n.p]=n.xs0+t+n.xs1+n.xn1+n.xs2+n.xn2+n.xs3+n.xn3+n.xs4+n.xn4+n.xs5;else{for(r=n.xs0+t+n.xs1,i=1;i<n.l;i++)r+=n["xn"+i]+n["xs"+(i+1)];n.t[n.p]=r}else-1===n.type?n.t[n.p]=n.xs0:n.setRatio&&n.setRatio(e);else n.t[n.p]=t+n.xs0;n=n._next}else for(;n;)2!==n.type?n.t[n.p]=n.b:n.setRatio(e),n=n._next;else for(;n;){if(2!==n.type)if(n.r&&-1!==n.type)if(t=n.r(n.s+n.c),n.type){if(1===n.type){for(i=n.l,r=n.xs0+t+n.xs1,i=1;i<n.l;i++)r+=n["xn"+i]+n["xs"+(i+1)];n.t[n.p]=r}}else n.t[n.p]=t+n.xs0;else n.t[n.p]=n.e;else n.setRatio(e);n=n._next}},p._enableTransforms=function(e){this._transform=this._transform||$e(this._target,r,!0),this._transformType=this._transform.svg&&Re||!e&&3!==this._transformType?2:3};var at=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};p._addLazySet=function(e,p,t){var r=this._firstPT=new Pe(e,p,0,0,this._firstPT,2);r.e=t,r.setRatio=at,r.data=this},p._linkCSSP=function(e,t,r,n){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,n=!0),r?r._next=e:n||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=r),e},p._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&(t.r=e[t.p]),t=t._next},p._kill=function(e){var t,p,r,o=e;if(e.autoAlpha||e.alpha){for(p in o={},e)o[p]=e[p];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(e.className&&(t=this._classNamePT)&&((r=t.xfirst)&&r._prev?this._linkCSSP(r._prev,t._next,r._prev._prev):r===this._firstPT&&(this._firstPT=t._next),t._next&&this._linkCSSP(t._next,t._next._next,r._prev),this._classNamePT=null),t=this._firstPT;t;)t.plugin&&t.plugin!==p&&t.plugin._kill&&(t.plugin._kill(e),p=t.plugin),t=t._next;return n.d.prototype._kill.call(this,o)};var st=function(e,t,r){var n,i,o,f;if(e.slice)for(i=e.length;--i>-1;)st(e[i],t,r);else for(i=(n=e.childNodes).length;--i>-1;)f=(o=n[i]).type,o.style&&(t.push(ue(o)),r&&r.push(o)),1!==f&&9!==f&&11!==f||!o.childNodes.length||st(o,t,r)};return f.cascadeTo=function(e,t,r){var i,o,p,f,l=n.f.to(e,t,r),c=[l],b=[],h=[],d=[],m=n.f._internals.reservedProps;for(e=l._targets||l.target,st(e,b,d),l.render(t,!0,!0),st(e,h),l.render(0,!0,!0),l._enabled(!0),i=d.length;--i>-1;)if((o=ce(d[i],b[i],h[i])).firstMPT){for(p in o=o.difs,r)m[p]&&(o[p]=r[p]);for(p in f={},o)f[p]=b[i][p];c.push(n.f.fromTo(d[i],t,f,o))}return c},n.d.activate([f]),f},!0);var o=n.g.CSSPlugin},171:function(e,t,r){"use strict";var n=r(148);n.e._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(){var e=function(e){n.c.call(this,e);var t,p,r=this.vars;for(p in this._labels={},this.autoRemoveChildren=!!r.autoRemoveChildren,this.smoothChildTiming=!!r.smoothChildTiming,this._sortChildren=!0,this._onUpdate=r.onUpdate,r)t=r[p],f(t)&&-1!==t.join("").indexOf("{self}")&&(r[p]=this._swapSelfInParams(t));f(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},t=n.f._internals,r=e._internals={},o=t.isSelector,f=t.isArray,l=t.lazyTweens,c=t.lazyRender,h=n.e._gsDefine.globals,d=function(e){var p,t={};for(p in e)t[p]=e[p];return t},m=function(e,t,i){var p,r,n=e.cycle;for(p in n)r=n[p],e[p]="function"==typeof r?r(i,t[i],t):r[i%r.length];delete e.cycle},_=r.pauseCallback=function(){},v=function(e,t,r,n){var o="immediateRender";return o in t||(t[o]=!(r&&!1===r[o]||n)),t},y=function(e){if("function"==typeof e)return e;var t="object"==typeof e?e:{each:e},r=t.ease,n=t.from||0,base=t.base||0,o={},f=isNaN(n),l=t.axis,c={center:.5,end:1}[n]||0;return function(i,e,a){var h,d,m,_,v,y,x,w,T,k=(a||t).length,S=o[k];if(!S){if(!(T="auto"===t.grid?0:(t.grid||[1/0])[0])){for(x=-1/0;x<(x=a[T++].getBoundingClientRect().left)&&T<k;);T--}for(S=o[k]=[],h=f?Math.min(T,k)*c-.5:n%T,d=f?k*c/T-.5:n/T|0,x=0,w=1/0,y=0;y<k;y++)m=y%T-h,_=d-(y/T|0),S[y]=v=l?Math.abs("y"===l?_:m):Math.sqrt(m*m+_*_),v>x&&(x=v),v<w&&(w=v);S.max=x-w,S.min=w,S.v=k=t.amount||t.each*(T>k?k-1:l?"y"===l?k/T:T:Math.max(T,k/T))||0,S.b=k<0?base-k:base}return k=(S[i]-S.min)/S.max,S.b+(r?r.getRatio(k):k)*S.v}},p=e.prototype=new n.c;return e.version="2.1.3",e.distribute=y,p.constructor=e,p.kill()._gc=p._forcingPlayhead=p._hasPause=!1,p.to=function(e,t,r,o){var f=r.repeat&&h.TweenMax||n.f;return t?this.add(new f(e,t,r),o):this.set(e,r,o)},p.from=function(e,t,r,o){return this.add((r.repeat&&h.TweenMax||n.f).from(e,t,v(0,r)),o)},p.fromTo=function(e,t,r,o,f){var l=o.repeat&&h.TweenMax||n.f;return o=v(0,o,r),t?this.add(l.fromTo(e,t,r,o),f):this.set(e,o,f)},p.staggerTo=function(t,r,f,l,c,h,_,v){var x,i,w=new e({onComplete:h,onCompleteParams:_,callbackScope:v,smoothChildTiming:this.smoothChildTiming}),T=y(f.stagger||l),k=f.startAt,S=f.cycle;for("string"==typeof t&&(t=n.f.selector(t)||t),o(t=t||[])&&(t=function(a){var i,b=[],e=a.length;for(i=0;i!==e;b.push(a[i++]));return b}(t)),i=0;i<t.length;i++)x=d(f),k&&(x.startAt=d(k),k.cycle&&m(x.startAt,t,i)),S&&(m(x,t,i),null!=x.duration&&(r=x.duration,delete x.duration)),w.to(t[i],r,x,T(i,t[i],t));return this.add(w,c)},p.staggerFrom=function(e,t,r,n,o,f,l,c){return r.runBackwards=!0,this.staggerTo(e,t,v(0,r),n,o,f,l,c)},p.staggerFromTo=function(e,t,r,n,o,f,l,c,h){return n.startAt=r,this.staggerTo(e,t,v(0,n,r),o,f,l,c,h)},p.call=function(e,t,r,o){return this.add(n.f.delayedCall(0,e,t,r),o)},p.set=function(e,t,r){return this.add(new n.f(e,0,v(0,t,null,!0)),r)},e.exportRoot=function(t,r){null==(t=t||{}).smoothChildTiming&&(t.smoothChildTiming=!0);var o,time,f,l,c=new e(t),h=c._timeline;for(null==r&&(r=!0),h._remove(c,!0),c._startTime=0,c._rawPrevTime=c._time=c._totalTime=h._time,f=h._first;f;)l=f._next,r&&f instanceof n.f&&f.target===f.vars.onComplete||((time=f._startTime-f._delay)<0&&(o=1),c.add(f,time)),f=l;return h.add(c,0),o&&c.totalDuration(),c},p.add=function(t,r,o,l){var c,h,i,d,m,_;if("number"!=typeof r&&(r=this._parseTimeOrLabel(r,0,!0,t)),!(t instanceof n.a)){if(t instanceof Array||t&&t.push&&f(t)){for(o=o||"normal",l=l||0,c=r,h=t.length,i=0;i<h;i++)f(d=t[i])&&(d=new e({tweens:d})),this.add(d,c),"string"!=typeof d&&"function"!=typeof d&&("sequence"===o?c=d._startTime+d.totalDuration()/d._timeScale:"start"===o&&(d._startTime-=d.delay())),c+=l;return this._uncache(!0)}if("string"==typeof t)return this.addLabel(t,r);if("function"!=typeof t)throw"Cannot add "+t+" into the timeline; it is not a tween, timeline, function, or string.";t=n.f.delayedCall(0,t)}if(n.c.prototype.add.call(this,t,r),(t._time||!t._duration&&t._initted)&&(c=(this.rawTime()-t._startTime)*t._timeScale,(!t._duration||Math.abs(Math.max(0,Math.min(t.totalDuration(),c)))-t._totalTime>1e-5)&&t.render(c,!1,!1)),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(_=(m=this).rawTime()>t._startTime;m._timeline;)_&&m._timeline.smoothChildTiming?m.totalTime(m._totalTime,!0):m._gc&&m._enabled(!0,!1),m=m._timeline;return this},p.remove=function(e){if(e instanceof n.a){this._remove(e,!1);var t=e._timeline=e.vars.useFrames?n.a._rootFramesTimeline:n.a._rootTimeline;return e._startTime=(e._paused?e._pauseTime:t._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&f(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},p._remove=function(e,t){return n.c.prototype._remove.call(this,e,t),this._last?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},p.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},p.insert=p.insertMultiple=function(e,t,r,n){return this.add(e,t||0,r,n)},p.appendMultiple=function(e,t,r,n){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),r,n)},p.addLabel=function(label,e){return this._labels[label]=this._parseTimeOrLabel(e),this},p.addPause=function(e,t,r,o){var f=n.f.delayedCall(0,_,r,o||this);return f.vars.onComplete=f.vars.onReverseComplete=t,f.data="isPause",this._hasPause=!0,this.add(f,e)},p.removeLabel=function(label){return delete this._labels[label],this},p.getLabelTime=function(label){return null!=this._labels[label]?this._labels[label]:-1},p._parseTimeOrLabel=function(e,t,r,o){var l,i;if(o instanceof n.a&&o.timeline===this)this.remove(o);else if(o&&(o instanceof Array||o.push&&f(o)))for(i=o.length;--i>-1;)o[i]instanceof n.a&&o[i].timeline===this&&this.remove(o[i]);if(l="number"!=typeof e||t?this.duration()>99999999999?this.recent().endTime(!1):this._duration:0,"string"==typeof t)return this._parseTimeOrLabel(t,r&&"number"==typeof e&&null==this._labels[t]?e-l:0,r);if(t=t||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=l);else{if(-1===(i=e.indexOf("=")))return null==this._labels[e]?r?this._labels[e]=l+t:t:this._labels[e]+t;t=parseInt(e.charAt(i-1)+"1",10)*Number(e.substr(i+1)),e=i>1?this._parseTimeOrLabel(e.substr(0,i-1),0,r):l}return Number(e)+t},p.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),!1!==t)},p.stop=function(){return this.paused(!0)},p.gotoAndPlay=function(e,t){return this.play(e,t)},p.gotoAndStop=function(e,t){return this.pause(e,t)},p.render=function(time,e,t){this._gc&&this._enabled(!0,!1);var r,n,o,f,h,d,m,_,v=this._time,y=this._dirty?this.totalDuration():this._totalDuration,x=this._startTime,w=this._timeScale,T=this._paused;if(v!==this._time&&(time+=this._time-v),this._hasPause&&!this._forcingPlayhead&&!e){if(time>v)for(r=this._first;r&&r._startTime<=time&&!d;)r._duration||"isPause"!==r.data||r.ratio||0===r._startTime&&0===this._rawPrevTime||(d=r),r=r._next;else for(r=this._last;r&&r._startTime>=time&&!d;)r._duration||"isPause"===r.data&&r._rawPrevTime>0&&(d=r),r=r._prev;d&&(this._time=this._totalTime=time=d._startTime,_=this._startTime+(this._reversed?this._duration-time:time)/this._timeScale)}if(time>=y-1e-8&&time>=0)this._totalTime=this._time=y,this._reversed||this._hasPausedChild()||(n=!0,f="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(time<=0&&time>=-1e-8||this._rawPrevTime<0||1e-8===this._rawPrevTime)&&this._rawPrevTime!==time&&this._first&&(h=!0,this._rawPrevTime>1e-8&&(f="onReverseComplete"))),this._rawPrevTime=this._duration||!e||time||this._rawPrevTime===time?time:1e-8,time=y+1e-4;else if(time<1e-8)if(this._totalTime=this._time=0,time>-1e-8&&(time=0),(0!==v||0===this._duration&&1e-8!==this._rawPrevTime&&(this._rawPrevTime>0||time<0&&this._rawPrevTime>=0))&&(f="onReverseComplete",n=this._reversed),time<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=n=!0,f="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(h=!0),this._rawPrevTime=time;else{if(this._rawPrevTime=this._duration||!e||time||this._rawPrevTime===time?time:1e-8,0===time&&n)for(r=this._first;r&&0===r._startTime;)r._duration||(n=!1),r=r._next;time=0,this._initted||(h=!0)}else this._totalTime=this._time=this._rawPrevTime=time;if(this._time!==v&&this._first||t||h||d){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==v&&time>0&&(this._active=!0),0===v&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),(m=this._time)>=v)for(r=this._first;r&&(o=r._next,m===this._time&&(!this._paused||T));)(r._active||r._startTime<=m&&!r._paused&&!r._gc)&&(d===r&&(this.pause(),this._pauseTime=_),r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(time-r._startTime)*r._timeScale,e,t):r.render((time-r._startTime)*r._timeScale,e,t)),r=o;else for(r=this._last;r&&(o=r._prev,m===this._time&&(!this._paused||T));){if(r._active||r._startTime<=v&&!r._paused&&!r._gc){if(d===r){for(d=r._prev;d&&d.endTime()>this._time;)d.render(d._reversed?d.totalDuration()-(time-d._startTime)*d._timeScale:(time-d._startTime)*d._timeScale,e,t),d=d._prev;d=null,this.pause(),this._pauseTime=_}r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(time-r._startTime)*r._timeScale,e,t):r.render((time-r._startTime)*r._timeScale,e,t)}r=o}this._onUpdate&&(e||(l.length&&c(),this._callback("onUpdate"))),f&&(this._gc||x!==this._startTime&&w===this._timeScale||(0===this._time||y>=this.totalDuration())&&(n&&(l.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[f]&&this._callback(f)))}},p._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof e&&t._hasPausedChild())return!0;t=t._next}return!1},p.getChildren=function(e,t,r,o){o=o||-9999999999;for(var a=[],f=this._first,l=0;f;)f._startTime<o||(f instanceof n.f?!1!==t&&(a[l++]=f):(!1!==r&&(a[l++]=f),!1!==e&&(l=(a=a.concat(f.getChildren(!0,t,r))).length))),f=f._next;return a},p.getTweensOf=function(e,t){var r,i,o=this._gc,a=[],f=0;for(o&&this._enabled(!0,!0),i=(r=n.f.getTweensOf(e)).length;--i>-1;)(r[i].timeline===this||t&&this._contains(r[i]))&&(a[f++]=r[i]);return o&&this._enabled(!1,!0),a},p.recent=function(){return this._recent},p._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},p.shiftChildren=function(e,t,r){r=r||0;for(var p,n=this._first,o=this._labels;n;)n._startTime>=r&&(n._startTime+=e),n=n._next;if(t)for(p in o)o[p]>=r&&(o[p]+=e);return this._uncache(!0)},p._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var r=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),i=r.length,n=!1;--i>-1;)r[i]._kill(e,t)&&(n=!0);return n},p.clear=function(e){var t=this.getChildren(!1,!0,!0),i=t.length;for(this._time=this._totalTime=0;--i>-1;)t[i]._enabled(!1,!1);return!1!==e&&(this._labels={}),this._uncache(!0)},p.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return n.a.prototype.invalidate.call(this)},p._enabled=function(e,t){if(e===this._gc)for(var r=this._first;r;)r._enabled(e,!0),r=r._next;return n.c.prototype._enabled.call(this,e,t)},p.totalTime=function(time,e,t){this._forcingPlayhead=!0;var r=n.a.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},p.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},p.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,r,n=0,o=this._last,f=999999999999;o;)t=o._prev,o._dirty&&o.totalDuration(),o._startTime>f&&this._sortChildren&&!o._paused&&!this._calculatingDuration?(this._calculatingDuration=1,this.add(o,o._startTime-o._delay),this._calculatingDuration=0):f=o._startTime,o._startTime<0&&!o._paused&&(n-=o._startTime,this._timeline.smoothChildTiming&&(this._startTime+=o._startTime/this._timeScale,this._time-=o._startTime,this._totalTime-=o._startTime,this._rawPrevTime-=o._startTime),this.shiftChildren(-o._startTime,!1,-9999999999),f=0),(r=o._startTime+o._totalDuration/o._timeScale)>n&&(n=r),o=t;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return e&&this.totalDuration()?this.timeScale(this._totalDuration/e):this},p.paused=function(e){if(!1===e&&this._paused)for(var t=this._first;t;)t._startTime===this._time&&"isPause"===t.data&&(t._rawPrevTime=0),t=t._next;return n.a.prototype.paused.apply(this,arguments)},p.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===n.a._rootFramesTimeline},p.rawTime=function(e){return e&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(e)-this._startTime)*this._timeScale},e},!0);var o=n.g.TimelineLite;r.d(t,"a",function(){return f}),n.e._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(){var e=function(e){o.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!!this.vars.yoyo,this._dirty=!0},t=n.f._internals,r=t.lazyTweens,f=t.lazyRender,l=n.e._gsDefine.globals,c=new n.b(null,null,1,0),p=e.prototype=new o;return p.constructor=e,p.kill()._gc=!1,e.version="2.1.3",p.invalidate=function(){return this._yoyo=!!this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),o.prototype.invalidate.call(this)},p.addCallback=function(e,t,r,o){return this.add(n.f.delayedCall(0,e,r,o),t)},p.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var a=this.getTweensOf(e,!1),i=a.length,time=this._parseTimeOrLabel(t);--i>-1;)a[i]._startTime===time&&a[i]._enabled(!1,!1);return this},p.removePause=function(e){return this.removeCallback(o._internals.pauseCallback,e)},p.tweenTo=function(e,t){t=t||{};var r,p,o,f={ease:c,useFrames:this.usesFrames(),immediateRender:!1,lazy:!1},h=t.repeat&&l.TweenMax||n.f;for(p in t)f[p]=t[p];return f.time=this._parseTimeOrLabel(e),r=Math.abs(Number(f.time)-this._time)/this._timeScale||.001,o=new h(this,r,f),f.onStart=function(){o.target.paused(!0),o.vars.time===o.target.time()||r!==o.duration()||o.isFromTo||o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale).render(o.time(),!0,!0),t.onStart&&t.onStart.apply(t.onStartScope||t.callbackScope||o,t.onStartParams||[])},o},p.tweenFromTo=function(e,t,r){r=r||{},e=this._parseTimeOrLabel(e),r.startAt={onComplete:this.seek,onCompleteParams:[e],callbackScope:this},r.immediateRender=!1!==r.immediateRender;var n=this.tweenTo(t,r);return n.isFromTo=1,n.duration(Math.abs(n.vars.time-e)/this._timeScale||.001)},p.render=function(time,e,t){this._gc&&this._enabled(!0,!1);var n,o,l,c,h,d,m,_,v,y=this._time,x=this._dirty?this.totalDuration():this._totalDuration,w=this._duration,T=this._totalTime,k=this._startTime,S=this._timeScale,A=this._rawPrevTime,P=this._paused,O=this._cycle;if(y!==this._time&&(time+=this._time-y),time>=x-1e-8&&time>=0)this._locked||(this._totalTime=x,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,c="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(time<=0&&time>=-1e-8||A<0||1e-8===A)&&A!==time&&this._first&&(h=!0,A>1e-8&&(c="onReverseComplete"))),this._rawPrevTime=this._duration||!e||time||this._rawPrevTime===time?time:1e-8,this._yoyo&&1&this._cycle?this._time=time=0:(this._time=w,time=w+1e-4);else if(time<1e-8)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,time>-1e-8&&(time=0),(0!==y||0===w&&1e-8!==A&&(A>0||time<0&&A>=0)&&!this._locked)&&(c="onReverseComplete",o=this._reversed),time<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=o=!0,c="onReverseComplete"):A>=0&&this._first&&(h=!0),this._rawPrevTime=time;else{if(this._rawPrevTime=w||!e||time||this._rawPrevTime===time?time:1e-8,0===time&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;time=0,this._initted||(h=!0)}else 0===w&&A<0&&(h=!0),this._time=this._rawPrevTime=time,this._locked||(this._totalTime=time,0!==this._repeat&&(d=w+this._repeatDelay,this._cycle=this._totalTime/d>>0,this._cycle&&this._cycle===this._totalTime/d&&T<=time&&this._cycle--,this._time=this._totalTime-this._cycle*d,this._yoyo&&1&this._cycle&&(this._time=w-this._time),this._time>w?(this._time=w,time=w+1e-4):this._time<0?this._time=time=0:time=this._time));if(this._hasPause&&!this._forcingPlayhead&&!e){if((time=this._time)>y||this._repeat&&O!==this._cycle)for(n=this._first;n&&n._startTime<=time&&!m;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(m=n),n=n._next;else for(n=this._last;n&&n._startTime>=time&&!m;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(m=n),n=n._prev;m&&(v=this._startTime+(this._reversed?this._duration-m._startTime:m._startTime)/this._timeScale,m._startTime<w&&(this._time=this._rawPrevTime=time=m._startTime,this._totalTime=time+this._cycle*(this._totalDuration+this._repeatDelay)))}if(this._cycle!==O&&!this._locked){var C=this._yoyo&&0!=(1&O),D=C===(this._yoyo&&0!=(1&this._cycle)),E=this._totalTime,F=this._cycle,R=this._rawPrevTime,j=this._time;if(this._totalTime=O*w,this._cycle<O?C=!C:this._totalTime+=w,this._time=y,this._rawPrevTime=0===w?A-1e-4:A,this._cycle=O,this._locked=!0,y=C?0:w,this.render(y,e,0===w),e||this._gc||this.vars.onRepeat&&(this._cycle=F,this._locked=!1,this._callback("onRepeat")),y!==this._time)return;if(D&&(this._cycle=O,this._locked=!0,y=C?w+1e-4:-1e-4,this.render(y,!0,!1)),this._locked=!1,this._paused&&!P)return;this._time=j,this._totalTime=E,this._cycle=F,this._rawPrevTime=R}if(this._time!==y&&this._first||t||h||m){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==T&&time>0&&(this._active=!0),0===T&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),(_=this._time)>=y)for(n=this._first;n&&(l=n._next,_===this._time&&(!this._paused||P));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(m===n&&(this.pause(),this._pauseTime=v),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(time-n._startTime)*n._timeScale,e,t):n.render((time-n._startTime)*n._timeScale,e,t)),n=l;else for(n=this._last;n&&(l=n._prev,_===this._time&&(!this._paused||P));){if(n._active||n._startTime<=y&&!n._paused&&!n._gc){if(m===n){for(m=n._prev;m&&m.endTime()>this._time;)m.render(m._reversed?m.totalDuration()-(time-m._startTime)*m._timeScale:(time-m._startTime)*m._timeScale,e,t),m=m._prev;m=null,this.pause(),this._pauseTime=v}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(time-n._startTime)*n._timeScale,e,t):n.render((time-n._startTime)*n._timeScale,e,t)}n=l}this._onUpdate&&(e||(r.length&&f(),this._callback("onUpdate"))),c&&(this._locked||this._gc||k!==this._startTime&&S===this._timeScale||(0===this._time||x>=this.totalDuration())&&(o&&(r.length&&f(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[c]&&this._callback(c)))}else T!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate"))},p.getActive=function(e,t,r){var i,n,a=[],o=this.getChildren(e||null==e,t||null==e,!!r),f=0,l=o.length;for(i=0;i<l;i++)(n=o[i]).isActive()&&(a[f++]=n);return a},p.getLabelAfter=function(time){time||0!==time&&(time=this._time);var i,e=this.getLabelsArray(),t=e.length;for(i=0;i<t;i++)if(e[i].time>time)return e[i].name;return null},p.getLabelBefore=function(time){null==time&&(time=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<time)return e[i].name;return null},p.getLabelsArray=function(){var p,a=[],e=0;for(p in this._labels)a[e++]={time:this._labels[p],name:p};return a.sort(function(a,b){return a.time-b.time}),a},p.invalidate=function(){return this._locked=!1,o.prototype.invalidate.call(this)},p.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()||0},p.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()||0},p.totalDuration=function(e){return arguments.length?-1!==this._repeat&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(o.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},p.time=function(e,t){if(!arguments.length)return this._time;this._dirty&&this.totalDuration();var r=this._duration,n=this._cycle,o=n*(r+this._repeatDelay);return e>r&&(e=r),this.totalTime(this._yoyo&&1&n?r-e+o:this._repeat?e+o:e,t)},p.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},p.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},p.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},p.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},e},!0);var f=n.g.TimelineMax}}]);